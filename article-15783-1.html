<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>如何在 RHEL 8 上安装 FreeIPA 服务器 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="如何在 RHEL 8 上安装 FreeIPA 服务器"><meta property="og:description" content="此页面上的分步指南将展示如何在 RHEL 8、Rocky Linux 8 和 AlmaLinux 8 上安装 FreeIPA 服务器。"><meta property="og:type" content="article"><meta property="og:url" content="/article-15783-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-05T16:03:00+00:00"><meta property="article:modified_time" content="2023-05-05T16:03:00+00:00"><meta itemprop=name content="如何在 RHEL 8 上安装 FreeIPA 服务器"><meta itemprop=description content="此页面上的分步指南将展示如何在 RHEL 8、Rocky Linux 8 和 AlmaLinux 8 上安装 FreeIPA 服务器。"><meta itemprop=datePublished content="2023-05-05T16:03:00+00:00"><meta itemprop=dateModified content="2023-05-05T16:03:00+00:00"><meta itemprop=wordCount content="351"><meta itemprop=keywords content="FreeIPA,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>如何在 RHEL 8 上安装 FreeIPA 服务器</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-05-05T16:03:00Z>May 05, 2023</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160246m3vu7phhy7eyuo7j.png alt></p><p>你是否正在寻找有关如何在 Linux 上安装 FreeIPA 服务器的简单指南？</p><p>此页面上的分步指南将展示如何在 RHEL 8、Rocky Linux 8 和 AlmaLinux 8 上安装 FreeIPA 服务器。</p><p><a href=https://www.freeipa.org/page/Main_Page>FreeIPA</a> 是一个自由开源的基于 Linux 系统的集中式身份和访问管理工具，它是 Red Hat 身份管理器的上游项目。使用 FreeIPA，我们可以轻松地管理集中式身份验证以及帐户管理、策略（基于主机的访问控制）和审计。</p><p>FreeIPA 基于以下开源项目：</p><ul><li>LDAP 服务器 – 基于 389 项目</li><li>KDC – 基于 MIT Kerberos 实现</li><li>基于 Dogtag 项目的 PKI</li><li>用于活动目录集成的 Samba 库</li><li>基于 BIND 和 Bind-DynDB-LDAP 插件的 DNS 服务器</li><li>NTP</li></ul><h3 id=先决条件>先决条件</h3><ul><li>预装 RHEL 8 或 Rocky Linux 8 或 AlmaLinux 8</li><li>具有管理员权限的 Sudo 用户</li><li>内存 = 2 GB</li><li>CPU = 2 个 vCPU</li><li>磁盘 = 根目录有 12GB 可用空间</li><li>互联网连接</li></ul><h3 id=freeipa-的实验室详细信息>FreeIPA 的实验室详细信息</h3><ul><li>IP 地址 = 192.168.1.102</li><li>Hostanme = ipa.linuxtechi.lan</li><li>操作系统：RHEL 8 或 Rocky Linux 8 或 AlmaLinux 8</li></ul><p>事不宜迟，让我们深入了解 FreeIPA 安装步骤。</p><h3 id=1设置主机名并安装更新>1、设置主机名并安装更新</h3><p>打开服务器的终端并使用 <code>hostnamectl</code> 命令设置主机名：</p><pre tabindex=0><code>$ sudo hostnamectl set-hostname &#34;ipa.linuxtechi.lan&#34;
$ exec bash
</code></pre><p>使用 <code>yum</code>/<code>dnf</code> 命令安装更新，然后重新启动：</p><pre tabindex=0><code>$ sudo dnf update -y
$ sudo reboot
</code></pre><h3 id=2更新主机文件并将-selinux-设置为许可>2、更新主机文件并将 SELinux 设置为许可</h3><p>运行以下 <code>tee</code> 命令更新 <code>/etc/hosts</code> 文件，根据你的设置替换 IP 地址和主机名。</p><pre tabindex=0><code>$ echo -e &#34;192.168.1.102\tipa.linuxtechi.lan\t ipa&#34; | sudo tee -a /etc/hosts
</code></pre><p>将 SELinux 设置为许可，运行以下命令：</p><pre tabindex=0><code>$ sudo setenforce 0
$ sudo sed -i &#39;s/^SELINUX=.*/SELINUX=permissive/g&#39; /etc/selinux/config
$ getenforce
Permissive
</code></pre><h3 id=3安装-freeipa-及其组件>3、安装 FreeIPA 及其组件</h3><p>Appstream 包仓库中提供了 FreeIPA 包及其依赖项。由于我们计划安装集成 DNS 的 FreeIPA，因此我们还将安装 <code>ipa-server-dns</code> 和 <code>bind-dyndb-ldap</code>。</p><p>运行以下命令安装 FreeIPA 及其依赖项：</p><pre tabindex=0><code>$ sudo dnf -y install @idm:DL1
$ sudo dnf install freeipa-server ipa-server-dns bind-dyndb-ldap -y
</code></pre><h3 id=4开始安装-freeipa>4、开始安装 FreeIPA</h3><p>成功安装 FreeIPA 包及其依赖项后，使用以下命令启动 FreeIPA 安装设置。</p><p>它将提示几件事，例如配置集成 DNS、主机名、域名和领域名。</p><pre tabindex=0><code>$ sudo ipa-server-install
</code></pre><p>上述命令的输出如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160518qihozk3cio397ssg.jpg alt></p><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160525s20i0nyzhi7sae78.jpg alt></p><p>在上面的窗口中输入 “yes” 后，需要一些时间来配置你的 FreeIPA 服务器，设置成功后，我们将得到下面的输出：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160532czv95zvwavaki3ts.jpg alt></p><p>以上输出确认 FreeIPA 已成功安装。</p><h3 id=5在防火墙中允许-freeipa-端口>5、在防火墙中允许 FreeIPA 端口</h3><p>如果正在你的服务器上运行系统防火墙，那么运行如下 <code>firewall-cmd</code> 命令以允许 FreeIPA 端口：</p><pre tabindex=0><code>$ sudo firewall-cmd --add-service={http,https,dns,ntp,freeipa-ldap,freeipa-ldaps} --permanent
$ sudo firewall-cmd --reload
</code></pre><h3 id=6访问-freeipa-管理门户>6、访问 FreeIPA 管理门户</h3><p>执行下面的 <code>ipactl</code> 命令查看 FreeIPA 的所有服务是否都在运行：</p><pre tabindex=0><code>$ ipactl status
You must be root to run ipactl.
$ sudo ipactl status
Directory Service: RUNNING
krb5kdc Service: RUNNING
kadmin Service: RUNNING
named Service: RUNNING
httpd Service: RUNNING
ipa-custodia Service: RUNNING
pki-tomcatd Service: RUNNING
ipa-otpd Service: RUNNING
ipa-dnskeysyncd Service: RUNNING
ipa: INFO: The ipactl command was successful
$
</code></pre><p>让我们使用 <code>kinit</code> 命令验证管理员用户是否会通过 Kerberos 获取令牌，使用我们在 FreeIPA 安装期间提供的相同管理员用户密码。</p><pre tabindex=0><code>$ kinit admin
$ klist
</code></pre><p>以上命令的输出：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160543zzifmnusfsl05uqh.jpg alt></p><p>完美，上面的输出确认管理员获得了令牌。现在，尝试访问 FreeIPA Web 控制台，在网络浏览器上输入以下 URL：</p><pre tabindex=0><code>https://ipa.linuxtechi.lan/ipa/ui
</code></pre><p>或者</p><pre tabindex=0><code>https://&lt;Server-IPAddress&gt;/ipa/ui
</code></pre><p>使用我们在安装过程中指定的用户名 <code>admin</code> 和密码。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160553qnz0ibslqstmhhzr.jpg alt></p><p>对于 FreeIPA Web 控制台，使用自签名 SSL 证书，这就是我们看到此窗口的原因，因此单击“ 接受风险并继续 Accept the Risk and Continue ”。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160601j4kltzoofyftfbl0.jpg alt></p><p>输入凭据后，单击“ 登录 Log in ”。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202305/05/160610bj3luggvg377gnhg.jpg alt></p><p>这证实我们已在 RHEL 8/Rocky Linux 8 / AlmaLinux8 上成功设置 FreeIPA。</p><p>这就是全部，我希望你觉得它提供了很多信息。请在下面的评论部分中发表你的疑问和反馈。</p><p><em>（题图：MJ/9df57ea0-b5a0-48f9-a323-853a28ca6162）</em></p><hr><p>via: <a href=https://www.linuxtechi.com/install-freeipa-rhel-rocky-almalinux/>https://www.linuxtechi.com/install-freeipa-rhel-rocky-almalinux/</a></p><p>作者：<a href=https://www.linuxtechi.com/author/pradeep/>Pradeep Kumar</a> 选题：<a href=https://github.com/lkxed/>lkxed</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/freeipa/ rel=tag>FreeIPA</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>