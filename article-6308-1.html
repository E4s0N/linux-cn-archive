<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>使用 tuptime 工具查看 Linux 服务器系统的开机时间的历史和统计 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="使用 tuptime 工具查看 Linux 服务器系统的开机时间的历史和统计"><meta property="og:description" content="你可以使用下面的工具来查看 Linux 或类 Unix 系统运行了多长时间：  uptime ： 告诉你服务器运行了多长的时间。 lastt ： 显示重启和关机时间。 tuptime ： 报告系统的运行时间历史和运行时间统计，这是指重启之间的运行时间。和 uptime 命令类似，不过输出结果更有意思。  找出系统上次重启时间和日期 你可以使用下面的命令来获取Linux操作系统的上次重启和关机时间及日期（在OSX/类Unix系统上也可以用）： ### 显示系统重启和关机时间 who -b last reboot last shutdown ### 开机信息 uptime cat /proc/uptime awk &lsquo;{ print &#34;up &#34; $1 /"><meta property="og:type" content="article"><meta property="og:url" content="/article-6308-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-09-28T11:00:00+00:00"><meta property="article:modified_time" content="2015-09-28T11:00:00+00:00"><meta itemprop=name content="使用 tuptime 工具查看 Linux 服务器系统的开机时间的历史和统计"><meta itemprop=description content="你可以使用下面的工具来查看 Linux 或类 Unix 系统运行了多长时间：  uptime ： 告诉你服务器运行了多长的时间。 lastt ： 显示重启和关机时间。 tuptime ： 报告系统的运行时间历史和运行时间统计，这是指重启之间的运行时间。和 uptime 命令类似，不过输出结果更有意思。  找出系统上次重启时间和日期 你可以使用下面的命令来获取Linux操作系统的上次重启和关机时间及日期（在OSX/类Unix系统上也可以用）： ### 显示系统重启和关机时间 who -b last reboot last shutdown ### 开机信息 uptime cat /proc/uptime awk &lsquo;{ print &#34;up &#34; $1 /"><meta itemprop=datePublished content="2015-09-28T11:00:00+00:00"><meta itemprop=dateModified content="2015-09-28T11:00:00+00:00"><meta itemprop=wordCount content="413"><meta itemprop=keywords content="开机,tuptime,uptime,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>使用 tuptime 工具查看 Linux 服务器系统的开机时间的历史和统计</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-09-28T11:00:00Z>September 28, 2015</time></div></div></header><div class="content post__content clearfix"><p>你可以使用下面的工具来查看 Linux 或类 Unix 系统运行了多长时间：</p><ul><li>uptime ： 告诉你服务器运行了多长的时间。</li><li>lastt ： 显示重启和关机时间。</li><li>tuptime ： 报告系统的运行时间历史和运行时间统计，这是指重启之间的运行时间。和 uptime 命令类似，不过输出结果更有意思。</li></ul><h3 id=找出系统上次重启时间和日期>找出系统上次重启时间和日期</h3><p>你<a href=http://www.cyberciti.biz/hardware/howto-see-historical-statistical-uptime-on-linux-server/>可以使用下面的命令来获取Linux操作系统的上次重启和关机时间及日期</a>（在OSX/类Unix系统上也可以用）：</p><pre tabindex=0><code>### 显示系统重启和关机时间
who -b
last reboot
last shutdown
### 开机信息
uptime
cat /proc/uptime
awk &#39;{ print &#34;up &#34; $1 /60 &#34; minutes&#34;}&#39; /proc/uptime
w
</code></pre><p><strong>样例输出：</strong></p><p><img src=/data/attachment/album/201509/28/110005f3oraa99zlittooa.jpg alt="Fig.01: Various Linux commands in action to find out the server uptime"></p><p><em>图01：用于找出服务器开机时间的多个Linux命令</em></p><h3 id=跟-tuptime-问打个招呼吧>跟 tuptime 问打个招呼吧</h3><p>tuptime 命令行工具可以报告基于 Linux 的系统上的下列信息：</p><ol><li>系统启动次数统计</li><li>注册首次启动时间（也就是安装时间）</li><li>正常关机和意外关机统计</li><li>平均开机时间和故障停机时间</li><li>当前开机时间</li><li>首次启动以来的开机和故障停机率</li><li>累积系统开机时间、故障停机时间和合计</li><li>报告每次启动、开机时间、关机和故障停机时间</li></ol><h4 id=安装>安装</h4><p>输入<a href=http://www.cyberciti.biz/faq/debian-ubunut-linux-download-a-git-repository/>下面的命令来克隆 git 仓库到 Linux 系统中</a>：</p><pre tabindex=0><code>$ cd /tmp
$ git clone https://github.com/rfrail3/tuptime.git
$ ls
$ cd tuptime
$ ls
</code></pre><p><strong>样例输出：</strong></p><p><img src=/data/attachment/album/201509/28/110006svqkwoqgqkk2gopq.jpg alt="Fig.02: Cloning a git repo"></p><p><em>图02：克隆git仓库</em></p><p>确保你安装了带有 sys，optparse，os，re，string，sqlite3，datetime，disutils 和 locale 模块的 Python v2.7。</p><p>你可以像下面这样来安装：</p><pre tabindex=0><code>$ sudo tuptime-install.sh
</code></pre><p>或者，可以手工安装（基于 systemd 或非 systemd ）：</p><pre tabindex=0><code>$ sudo cp /tmp/tuptime/latest/cron.d/tuptime /etc/cron.d/tuptime
</code></pre><p>如果系统是systemd的，拷贝服务文件并启用：</p><pre tabindex=0><code>$ sudo cp /tmp/tuptime/latest/systemd/tuptime.service /lib/systemd/system/
$ sudo systemctl enable tuptime.service
</code></pre><p>如果系统不是systemd的，拷贝初始化文件：</p><pre tabindex=0><code>$ sudo cp /tmp/tuptime/latest/init.d/tuptime.init.d-debian7 /etc/init.d/tuptime
$ sudo update-rc.d tuptime defaults
</code></pre><h4 id=运行>运行</h4><p>只需输入以下命令：</p><pre tabindex=0><code>$ sudo tuptime
</code></pre><p><strong>样例输出：</strong></p><p><img src=/data/attachment/album/201509/28/110007jj56r1w5rg0igtmg.jpg alt="Fig.03: tuptime in action"></p><p><em>图03：tuptime工作中</em></p><p>在一次更新内核后，我重启了系统，然后再次输入了同样的命令：</p><pre tabindex=0><code>$ sudo tuptime
System startups:    2   since   03:52:16 PM 08/21/2015
System shutdowns:   1 ok   -   0 bad
Average uptime:     7 days, 16 hours, 48 minutes and 3 seconds
Average downtime:   2 hours, 30 minutes and 5 seconds
Current uptime:     5 minutes and 28 seconds   since   06:23:06 AM 09/06/2015
Uptime rate:        98.66 %
Downtime rate:      1.34 %
System uptime:      15 days, 9 hours, 36 minutes and 7 seconds
System downtime:    5 hours, 0 minutes and 11 seconds
System life:        15 days, 14 hours, 36 minutes and 18 seconds
</code></pre><p>你可以像下面这样修改日期和时间格式：</p><pre tabindex=0><code>$ sudo tuptime -d &#39;%H:%M:%S %m-%d-%Y&#39;
</code></pre><p><strong>样例输出：</strong></p><pre tabindex=0><code>System startups:    1   since   15:52:16 08-21-2015
System shutdowns:   0 ok   -   0 bad
Average uptime:     15 days, 9 hours, 21 minutes and 19 seconds
Average downtime:   0 seconds
Current uptime:     15 days, 9 hours, 21 minutes and 19 seconds   since   15:52:16 08-21-2015
Uptime rate:        100.0 %
Downtime rate:      0.0 %
System uptime:      15 days, 9 hours, 21 minutes and 19 seconds
System downtime:    0 seconds
System life:        15 days, 9 hours, 21 minutes and 19 seconds
</code></pre><p>计算每次启动、开机时间、关机和故障停机时间：</p><pre tabindex=0><code>$ sudo tuptime -e
</code></pre><p><strong>样例输出：</strong></p><pre tabindex=0><code>Startup:  1  at  03:52:16 PM 08/21/2015
Uptime:   15 days, 9 hours, 22 minutes and 33 seconds

System startups:    1   since   03:52:16 PM 08/21/2015
System shutdowns:   0 ok   -   0 bad
Average uptime:     15 days, 9 hours, 22 minutes and 33 seconds
Average downtime:   0 seconds
Current uptime:     15 days, 9 hours, 22 minutes and 33 seconds   since   03:52:16 PM 08/21/2015
Uptime rate:        100.0 %
Downtime rate:      0.0 %
System uptime:      15 days, 9 hours, 22 minutes and 33 seconds
System downtime:    0 seconds
System life:        15 days, 9 hours, 22 minutes and 33 seconds
</code></pre><hr><p>via: <a href=http://www.cyberciti.biz/hardware/howto-see-historical-statistical-uptime-on-linux-server/>http://www.cyberciti.biz/hardware/howto-see-historical-statistical-uptime-on-linux-server/</a></p><p>作者：Vivek Gite 译者：<a href=https://github.com/GOLinux>GOLinux</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%BC%80%E6%9C%BA/ rel=tag>开机</a></li><li class=tags__item><a class="tags__link btn" href=/tags/tuptime/ rel=tag>tuptime</a></li><li class=tags__item><a class="tags__link btn" href=/tags/uptime/ rel=tag>uptime</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>