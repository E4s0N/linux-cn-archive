<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>ls 命令输出的颜色：它们意味着什么？ - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="ls 命令输出的颜色：它们意味着什么？"><meta property="og:description" content="想知道 ls 命令输出中的颜色是什么？它们从何而来，又该如何设置？本文将为您一一解答。"><meta property="og:type" content="article"><meta property="og:url" content="/article-16108-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-19T09:38:25+00:00"><meta property="article:modified_time" content="2023-08-19T09:38:25+00:00"><meta itemprop=name content="ls 命令输出的颜色：它们意味着什么？"><meta itemprop=description content="想知道 ls 命令输出中的颜色是什么？它们从何而来，又该如何设置？本文将为您一一解答。"><meta itemprop=datePublished content="2023-08-19T09:38:25+00:00"><meta itemprop=dateModified content="2023-08-19T09:38:25+00:00"><meta itemprop=wordCount content="242"><meta itemprop=keywords content="ls,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>ls 命令输出的颜色：它们意味着什么？</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-08-19T09:38:25Z>August 19, 2023</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202308/19/093739lmsxp2psmxxuq9ki.jpg alt></p><blockquote><p>想知道 ls 命令输出中的颜色是什么？它们从何而来，又该如何设置？本文将为您一一解答。</p></blockquote><p>相信你一定使用过 <code>ls</code> 命令来 <a href=https://itsfoss.com/list-directory-content/>列出目录的内容</a>。在 Ubuntu 和许多其他发行版中，你将看到不同颜色的 <code>ls</code> 命令输出。</p><p>如果你没有看到过，你可以这样获得如下所示的彩色输出：</p><pre tabindex=0><code>ls --color=auto
</code></pre><p>但是你有没有想过这些颜色在 <code>ls</code> 命令输出中意味着什么？</p><p>我将回答本文中的问题。<strong>如果你的终端默认情况下不显示它，我还将展示如何使用 <code>ls</code> 命令获取彩色输出</strong>。</p><h3 id=ubuntu-中-ls-命令中使用的颜色的含义>Ubuntu 中 ls 命令中使用的颜色的含义</h3><blockquote><p>? ls 命令输出的颜色没有固定的标准。不同的终端和发行版使用不同的颜色编码，你也可以根据自己的喜好进行修改。换句话说，不要依赖颜色。</p></blockquote><p><strong>我在本节中使用默认的 Ubuntu 终端及其颜色配置文件。</strong></p><p>当你 <a href=https://itsfoss.com/ls-command/>使用 ls 命令列出文件</a> 时，它会使用不同的颜色来指示不同类型的文件。</p><p>大多数终端都会以不同的颜色显示可执行文件、链接、常规文件和目录，以便你可以轻松区分它们。</p><p>有些终端（例如 Ubuntu 中的默认终端）将其提升到一个新的水平，并为音乐文件、图像和视频添加更多颜色。</p><p>为了演示，我列出了来自不同目录的文件，这些文件在 Ubuntu 中用不同的颜色填充了我的终端窗口：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202308/19/093825erfuzksrky935ouo.png alt="different colors used by the ls command"></p><p>看起来很混乱？ 让我一一为你解密吧！</p><table><thead><tr><th>颜色</th><th>描述</th></tr></thead><tbody><tr><td><strong>粗体蓝色</strong></td><td>目录</td></tr><tr><td><strong>无色</strong></td><td>文件或硬链接</td></tr><tr><td><strong>粗体青色</strong></td><td>指向文件的符号链接。</td></tr><tr><td><strong>粗体绿色</strong></td><td>可执行文件（<code>.sh</code> 扩展名的脚本）</td></tr><tr><td><strong>粗体红色</strong></td><td>归档文件（主要是 tarball 或 zip 文件）</td></tr><tr><td><strong>洋红色</strong></td><td>表示图像和视频文件</td></tr><tr><td><strong>青色</strong></td><td>音频文件</td></tr><tr><td><strong>黄色配黑色背景</strong></td><td>管道文件（称为 FIFO）</td></tr><tr><td><strong>粗体红色配黑色背景</strong></td><td>损坏的符号链接</td></tr><tr><td><strong>无色（白色）配红色背景</strong></td><td>表示设置用户 ID 文件</td></tr><tr><td><strong>黑色配黄色背景</strong></td><td>表示设置组 ID 文件</td></tr><tr><td><strong>白色与蓝色背景</strong></td><td>显示粘滞位目录</td></tr><tr><td><strong>蓝色配绿色背景</strong></td><td>指向其他可写目录</td></tr><tr><td><strong>黑色配绿色背景</strong></td><td>当目录同时具有粘滞位和其他可写目录的特征时</td></tr></tbody></table><blockquote><p>? 再次强调，上述颜色数据基于终端的默认设置，如果更改调色板，将不会得到类似的结果。</p></blockquote><p>但是如果你的终端不显示任何颜色怎么办？ 好吧，这是有原因和解决方案的。</p><h3 id=如果-ls-命令不显示彩色输出怎么办>如果 ls 命令不显示彩色输出怎么办？</h3><p>事情是这样的。默认情况下，<code>ls</code> 命令不应在输出中显示颜色。如果你使用 <code>--color=auto</code> 标志，它将显示颜色。</p><pre tabindex=0><code>ls --color=auto
</code></pre><p>那么为什么 <code>ls</code> 命令在 Ubuntu 和其他一些发行版中默认添加颜色呢？ 这是因为你的发行版为 <code>ls</code> 命令设置了别名，以便在执行 <code>ls</code> 命令时使用 <code>--color=auto</code> 标志：</p><pre tabindex=0><code>alias
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/202308/19/093825krvhxhjaajrbbrbv.png alt></p><p>因此，如果 <code>ls</code> 命令未显示彩色输出，则是因为默认情况下没有设置别名。</p><p>现在，每当你使用 <code>ls</code> 命令时，你都可以使用 <code>--color=auto</code> 标志。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202308/19/093825q71qivx3v11zqiig.png alt="Use  &ndash;color=auto flag with the ls command to get the colored output"></p><p>但这不太方便。相反，你应该创建别名并将其添加到 <code>.bashrc</code> 中，以便 <code>ls</code> 命令默认显示颜色。</p><h4 id=为-ls-创建一个永久别名来显示颜色>为 ls 创建一个永久别名来显示颜色</h4><p>要创建永久别名，首先，使用以下命令打开 <code>.bashrc</code> 文件：</p><pre tabindex=0><code>nano ~/.bashrc
</code></pre><p>使用 <code>Alt + /</code> <a href=https://linuxhandbook.com/beginning-end-file-nano/>跳到文件末尾</a> 并 <a href=https://itsfoss.com/copy-paste-linux-terminal/>粘贴如下行到终端</a>:</p><pre tabindex=0><code>alias ls=&#39;ls --color=auto&#39;
</code></pre><p>完成后，<a href=https://linuxhandbook.com/nano-save-exit/>保存更改并退出 nano</a> 文本编辑器。</p><p>要使你刚刚所做的更改生效，请 源引 source <code>.bashrc</code> 文件：</p><pre tabindex=0><code>source ~/.bashrc
</code></pre><p>就是这样！ 从现在开始，你可以使用彩色输出。</p><h3 id=ls-命令从哪里获取颜色>ls 命令从哪里获取颜色？</h3><p>现在有趣的部分来了。<code>ls</code> 命令的颜色在哪里定义？ 答案是 <code>LS_COLORS</code> 环境变量。</p><p>是的。这是名为 <code>LS_COLORS</code> 的特殊环境变量，它定义 <code>ls</code> 命令使用的颜色。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202308/19/093825cuylguk78u7zu2jy.png alt="Value of the LS_COLORS env variable in Ubuntu"></p><p>这很好，但是谁定义了这个变量呢？ 如果你想做出一些改变怎么办？ 我也来回答一下这些问题。</p><p>实际上，你有一个专门的 <code>dircolors</code> 命令来为 <code>ls</code> 命令设置颜色。</p><p>不同的 Shell 有不同的颜色配置文件格式。这就是为什么在使用此命令时应指定 Shell。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202308/19/093826hvwxrsoim4gperse.png alt="dircolors command output for bash"></p><p>如你所见，它定义了 <code>LS_COLORS</code> 环境变量并将其导出，以便该变量可用于子 Shell。</p><p>现在，如果你想使用它，你可以将其复制粘贴到你的 <code>.bashrc</code> 文件或像这样重定向输出：</p><pre tabindex=0><code>dircolors -b &gt;&gt; .bashrc
</code></pre><p>并 源引 source 该文件，以便效果立即可见。你只需要做一次。</p><h4 id=理解颜色配置文件>理解颜色配置文件</h4><p><code>LS_COLORS</code> 包含由冒号（<code>:</code>）分隔的键值对数据。如果该值有多个部分，则它们之间用分号（<code>;</code>）分隔。</p><p>键通常是预定义的。值部分代表颜色。</p><p>因此，如果显示 <code>ln=01;36</code>，则表示对于符号链接，字体为粗体，颜色（<code>36</code>）为青色。</p><p><code>00</code> 为正常，<code>01</code> 为粗体，<code>4</code> 为下划线。<code>31</code> 代表红色，32 代表绿色等。颜色代码遵循 <a href=https://en.wikipedia.org/wiki/ANSI_escape_code>ANSI 转义代码</a>。</p><p>另一个例子。<code>or=40;31;01</code> 表示链接到不存在的文件（键为 <code>or</code>），使用黑色背景（颜色代码 <code>40</code>）、红色（<code>31</code>）和粗体字体（代码 <code>01</code>）。</p><p>我认为顺序并不重要，因为代码不重叠。<code>31</code> 是前景色红色的代码，<code>41</code> 是背景红色的颜色。因此，如果使用 <code>41</code>，你就知道它用于背景颜色。</p><h3 id=使用-ls-命令执行更多操作>使用 ls 命令执行更多操作</h3><p><code>ls</code> 命令可以做更多的事情，为此，我们制作了有关如何使用 <code>ls</code> 命令的详细教程：</p><blockquote><p><strong><a href=https://itsfoss.com/ls-command/>在 Linux 中使用 ls 命令</a></strong></p></blockquote><p>Abhishek Prakash 提供资料。</p><p><em>（题图：MJ/4d0f1f66-259f-4671-a3a8-158f61a38b10）</em></p><hr><p>via: <a href=https://itsfoss.com/ls-color-output/>https://itsfoss.com/ls-color-output/</a></p><p>作者：<a href=https://itsfoss.com/author/sagar/>Sagar Sharma</a> 选题：<a href=https://github.com/lkxed/>lkxed</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/ls/ rel=tag>ls</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>