<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>直接从硬盘启动Linux ISO镜像 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="直接从硬盘启动Linux ISO镜像"><meta property="og:description" content="Linux的GRUB2启动加载器可以直接从硬盘启动Linux ISO文件，可以启动Live CD的 ISO，而不用烧录到光盘来安装Linux到一个硬盘分区，或从USB驱动启动。 我们在Ubuntu 14.04上实施了该过程Ubuntu及基于Ubuntu的Linux版本对此支持良好。其它Linux发行版上的工作原理也类似。 获取Linux ISO文件 这一密技需要你的硬盘驱动器上安装有Linux系统，你的计算机必须使用GRUB2启动加载器，这是大多数Linux系统的标准启动加载器。不好意思，你是不能使用Windows启动加载器来直接启动一个Linux ISO文件的。 下载你想要使用的ISO文件，并放到你的Linux分区"><meta property="og:type" content="article"><meta property="og:url" content="/article-4089-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-10-26T13:56:00+00:00"><meta property="article:modified_time" content="2014-10-26T13:56:00+00:00"><meta itemprop=name content="直接从硬盘启动Linux ISO镜像"><meta itemprop=description content="Linux的GRUB2启动加载器可以直接从硬盘启动Linux ISO文件，可以启动Live CD的 ISO，而不用烧录到光盘来安装Linux到一个硬盘分区，或从USB驱动启动。 我们在Ubuntu 14.04上实施了该过程Ubuntu及基于Ubuntu的Linux版本对此支持良好。其它Linux发行版上的工作原理也类似。 获取Linux ISO文件 这一密技需要你的硬盘驱动器上安装有Linux系统，你的计算机必须使用GRUB2启动加载器，这是大多数Linux系统的标准启动加载器。不好意思，你是不能使用Windows启动加载器来直接启动一个Linux ISO文件的。 下载你想要使用的ISO文件，并放到你的Linux分区"><meta itemprop=datePublished content="2014-10-26T13:56:00+00:00"><meta itemprop=dateModified content="2014-10-26T13:56:00+00:00"><meta itemprop=wordCount content="77"><meta itemprop=keywords content="ISO,光盘,启动,GRUB2,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>直接从硬盘启动Linux ISO镜像</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-10-26T13:56:00Z>October 26, 2014</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201410/25/225846ph8s8jghh6prwsnw.png alt></p><p>Linux的GRUB2启动加载器可以直接从硬盘启动Linux ISO文件，可以启动Live CD的 ISO，而不用烧录到光盘来安装Linux到一个硬盘分区，或从USB驱动启动。</p><p>我们在Ubuntu 14.04上实施了该过程——Ubuntu及基于Ubuntu的Linux版本对此支持良好。<a href=http://www.howtogeek.com/191207/10-of-the-most-popular-linux-distributions-compared/>其它Linux发行版</a>上的工作原理也类似。</p><h3 id=获取linux-iso文件>获取Linux ISO文件</h3><p>这一密技需要你的硬盘驱动器上安装有Linux系统，你的计算机必须使用<a href=http://www.howtogeek.com/196655/how-to-configure-the-grub2-boot-loaders-settings/>GRUB2启动加载器</a>，这是大多数Linux系统的标准启动加载器。不好意思，你是不能使用Windows启动加载器来直接启动一个Linux ISO文件的。</p><p>下载你想要使用的ISO文件，并放到你的Linux分区中。GRUB2应该支持大多数Linux系统的。如果你想要在live环境中使用它们，而不想将它们安装到硬盘驱动器上，请确认你下载的是各个Linux ISO的“<a href=http://www.howtogeek.com/172810/take-a-secure-desktop-everywhere-everything-you-need-to-know-about-linux-live-cds-and-usb-drives/>live CD</a>”版本。很多基于Linux的可启动工具盘也应该可以工作。</p><h3 id=检查iso文件内容>检查ISO文件内容</h3><p>你可能需要查看ISO文件的内部来知道那些特定的的文件在哪里。例如，你可以通过使用Ubuntu及其它基于GNOME的桌面环境中的归档管理器/文件管理器这些图形化应用程序来打开ISO文件。在Nautilus文件管理器中，右击ISO文件并选择使用归档管理器打开。</p><p>找到内核文件和initrd映像。如果你正在使用Ubuntu ISO文件，你会在casper文件夹中找到这些文件——vmlinuz文件是Linux内核，而initrd文件是initrd映像。后面，你需要知道它们在ISO文件中所处的位置。</p><p><img src=/data/attachment/album/201410/25/225848myz96eelo8j8lr98.png alt></p><h3 id=检查硬盘分区路径>检查硬盘分区路径</h3><p>GRUB使用与Linux不同的“设备命名”方式。在Linux系统中，/dev/sda0是硬盘上的第一个分区——<strong>a</strong>是指第一个硬盘，而<strong>0</strong>是指第一个分区。在GRUB中，与/dev/sda0相对应的是(hd0,1)。<strong>0</strong>指第一个硬盘，而<strong>1</strong>则指它上面的第一个分区。换句话说，在GRUB设备名中，磁盘编号从0开始计数，而分区编号则从1开始计数——是啊，这真是突然令人困惑。例如，(hd3,6)是指第四磁盘上的第六分区。</p><p>你可以使用<strong>fdisk -l</strong>命令来查看该信息。在Ubuntu上，打开终端并运行以下命令：</p><pre tabindex=0><code>sudo fdisk -l
</code></pre><p>你将看到一个Linux设备路径列表，你可以自行将它们转成GRUB设备名。例如，在下面的图片中，我们可以看到有个系统分区是/dev/sda1——那么，对于GRUB而言，它就是(hd0,1)。</p><p><img src=/data/attachment/album/201410/25/225849kus93uvb9vx35g38.png alt></p><h3 id=创建grub2启动条目>创建GRUB2启动条目</h3><p>添加自定义启动条目的最简单的方式是编辑/etc/grub.d/40_custom脚本，该文件设计用于用户自行添加启动条目。在编辑该文件后，/etc/defaults/grub文件和/etc/grub.d/脚本的内容将合成创建/boot/grub/grub.cfg文件——你不应该手工编辑这个文件。它被设计为通过你在另外的文件中指定的设置自动生成。</p><p>你需要以root特权打开/etc/grub.d/40_custom文件来编辑。在Ubuntu上，你可以通过打开终端窗口，并运行以下命令来完成：</p><pre tabindex=0><code>sudo gedit /etc/grub.d/40_custom
</code></pre><p>放轻松点，你可以用你喜爱的文本编辑打开该文件。例如，你可以替换命令中“gedit”为“nano”，在<a href=http://www.howtogeek.com/howto/42980/the-beginners-guide-to-nano-the-linux-command-line-text-editor/>Nano文本编辑器</a>中打开它。</p><p>除非你已经添加了其它自定义启动条目，否则你应当看到的是一个几乎空的文件。你需要在<a href=http://www.howtogeek.com/118389/how-to-comment-out-and-uncomment-lines-in-a-configuration-file/>注释</a>行下添加一个或多个ISO启动部分。</p><p><img src=/data/attachment/album/201410/25/225851suzyu3uiiywwvvi3.png alt></p><p>这里为你展示了怎样来从ISO文件启动Ubuntu或基于Ubuntu的发行版，我们在Ubuntu 14.04下作了测试：</p><pre tabindex=0><code>menuentry &#34;Ubuntu 14.04 ISO&#34; {
set isofile=&#34;/home/name/Downloads/ubuntu-14.04.1-desktop-amd64.iso&#34;
loopback loop (hd0,1)$isofile
linux (loop)/casper/vmlinuz.efi boot=casper iso-scan/filename=${isofile} quiet splash
initrd (loop)/casper/initrd.lz
}
</code></pre><p>自定义启动条目以包含你期望的菜单的条目名称，并指定计算机上该ISO文件的正确路径，以及包含ISO文件的硬盘和分区设备名。如果vmlinuz和initrd文件的名称或路径不同，请为这些文件指定正确的路径。</p><p>（如果你的/home/ 目录是一个分区，请忽略/home部分，像这样：<strong>set isofile="/name/Downloads/${isoname}"</strong>)。</p><p><strong>重要说明</strong>：不同的Linux版本要求带有不同启动选项的不同的启动条目，GRUB Live ISO多启动项目提供了<a href=http://git.marmotte.net/git/glim/tree/grub2>用于不同Linux发行版的菜单条目</a>的各种不同类型。你应当为你想要启动的ISO文件调整这些示例菜单条目。你也可以仅仅从网页搜索你想要启动的Linux发行版的名称和发行编号，并附带关键词“在GRUB中从ISO启动”，以获取更多信息。</p><p><img src=/data/attachment/album/201410/25/225853kpsj6fzki3lyhl66.png alt></p><p>如果你想要添加更多ISO启动选项，请为该文件添加额外部分。</p><p>完成后保存文件，返回终端窗口并运行以下命令：</p><pre tabindex=0><code>sudo update-grub
</code></pre><p><img src=/data/attachment/album/201410/25/225855kibofwi8orlclhfi.png alt></p><p>再次启动计算机时，你将看到ISO启动条目，你可以选择它来启动ISO文件。在启动时，你可能需要按Shift键来显示GRUB菜单。</p><p>如果在尝试启动ISO文件时你看见错误信息或黑屏，那么你的启动条目配置肯定配置错误了。即使ISO文件路径和设备名是正确的，ISO文件上的vmlinuz和initrd文件的路径可能是不正确的，或者你启动Linux系统可能需要不同的选项。</p><hr><p>via: <a href=http://www.howtogeek.com/196933/how-to-boot-linux-iso-images-directly-from-your-hard-drive/>http://www.howtogeek.com/196933/how-to-boot-linux-iso-images-directly-from-your-hard-drive/</a></p><p>作者：<a href=http://www.howtogeek.com/author/chrishoffman/>Chris Hoffman</a> 译者：<a href=https://github.com/GOLinux>GOLinux</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/iso/ rel=tag>ISO</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%85%89%E7%9B%98/ rel=tag>光盘</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%90%AF%E5%8A%A8/ rel=tag>启动</a></li><li class=tags__item><a class="tags__link btn" href=/tags/grub2/ rel=tag>GRUB2</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>