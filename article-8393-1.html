<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux 命令行工具使用小贴士及技巧（四） - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Linux 命令行工具使用小贴士及技巧（四）"><meta property="og:description" content="在这第四期、也是最后一期文章中，我们会讨论别名的概念以及你可以如何使用它们使你的命令行导航更加轻松和平稳。"><meta property="og:type" content="article"><meta property="og:url" content="/article-8393-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-04-11T09:13:44+00:00"><meta property="article:modified_time" content="2017-04-11T09:13:44+00:00"><meta itemprop=name content="Linux 命令行工具使用小贴士及技巧（四）"><meta itemprop=description content="在这第四期、也是最后一期文章中，我们会讨论别名的概念以及你可以如何使用它们使你的命令行导航更加轻松和平稳。"><meta itemprop=datePublished content="2017-04-11T09:13:44+00:00"><meta itemprop=dateModified content="2017-04-11T09:13:44+00:00"><meta itemprop=wordCount content="226"><meta itemprop=keywords content="命令行,导航,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Linux 命令行工具使用小贴士及技巧（四）</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2017-04-11T09:13:44Z>April 11, 2017</time></div></div></header><div class="content post__content clearfix"><p>到目前为止，在该系列指南中，我们已经讨论了 <a href=/article-8335-1.html>cd -</a> 和 <a href=/article-8371-1.html>pushd/popd 命令</a>的基本使用方法和相关细节，以及 <a href=/article-8387-1.html>CDPATH 环境变量</a>。在这第四期、也是最后一期文章中，我们会讨论别名的概念以及你可以如何使用它们使你的命令行导航更加轻松和平稳。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/11/091317jjjj0fs3017hz14s.jpg alt></p><p>一如往常，在进入该指南的核心之前，值得指出本文中的所有命令以及展示的例子都在 Ubuntu 14.04LTS 中进行了测试。我们使用的命令行 shell 是 bash（4.3.11 版本）。</p><h3 id=linux-中的命令行别名>Linux 中的命令行别名</h3><p>按照外行人的定义，别名可以被认为是一个复杂命令或者一组命令（包括它们的参数和选项）的简称或缩写。所以基本上，使用别名，你可以为那些不那么容易书写/记忆的命令创建易于记忆的名称。</p><p>例如，下面的命令为 <code>cd ~</code> 命令创建别名 <code>home</code>：</p><pre tabindex=0><code>alias home=&#34;cd ~&#34;
</code></pre><p>这意味着现在在你的系统中无论何地，无论何时你想要回到你的主目录时，你可以很快地输入 <code>home</code> 然后按回车键实现。</p><p>关于 <code>alias</code> 命令，man 手册是这么描述的：</p><blockquote><p>alias 工具可以创建或者重定义别名定义，或者把现有别名定义输出到标准输出。别名定义提供了输入一个命令时应该被替换的字符串值</p><p>一个别名定义会影响当前 shell 的执行环境以及当前 shell 的所有子 shell 的执行环境。按照 IEEE Std 1003.1-2001 规定，别名定义不应该影响当前 shell 的父进程以及任何 shell 调用的程序环境。</p></blockquote><p>那么，别名到底如何帮助命令行导航呢？这是一个简单的例子：</p><p>假设你正在 <code>/home/himanshu/projects/howtoforge</code> 目录工作，它包括很多子目录以及子子目录。例如下面就是一个完整的目录分支：</p><pre tabindex=0><code>/home/himanshu/projects/howtoforge/command-line/navigation/tips-tricks/part4/final
</code></pre><p>现在想象你在 <code>final</code> 目录，然后你想回到 <code>tips-tricks</code> 目录，然后再从那里，回到 <code>howtoforge</code> 目录。你会怎么做呢？</p><p>是的，一般情况下，你会运行下面的一组命令：</p><pre tabindex=0><code>cd ../..

cd ../../..
</code></pre><p>虽然这种方法并没有错误，但它绝对不方便，尤其是当你在一个很长的路径中想往回走例如说 5 个目录时。那么，有什么解决办法吗？答案就是：别名。</p><p>你可以做的是，为每个 <code>cd ..</code> 命令创建容易记忆（和书写）的别名。例如：</p><pre tabindex=0><code>alias bk1=&#34;cd ..&#34;  
alias bk2=&#34;cd ../..&#34;  
alias bk3=&#34;cd ../../..&#34;  
alias bk4=&#34;cd ../../../..&#34;  
alias bk5=&#34;cd ../../../../..&#34;
</code></pre><p>现在无论你什么时候想从当前工作目录往回走，例如说 5 个目录，你只需要运行下面的命令：</p><pre tabindex=0><code>bk5
</code></pre><p>现在这不是很简单吗？</p><h3 id=相关细节>相关细节</h3><p>尽管当前我们在 shell 中用于定义别名的技术（通过使用 alias 命令）实现了效果，别名只存在于当前终端会话。很有可能你会希望你定义的别名能保存下来，使得此后你可以在任何新启动的命令行窗口/标签页中使用它们。</p><p>为此，你需要在 <code>~/.bash_aliases</code> 文件中定义你的别名，你的 <code>~/.bashrc</code> 文件默认会加载该文件（如果你使用更早版本的 Ubuntu，我没有验证过是否有效）。</p><p>下面是我的 <code>.bashrc</code> 文件中关于 <code>.bash_aliases</code> 文件的部分：</p><pre tabindex=0><code># Alias definitions.
# You may want to put all your additions into a separate file like
# ~/.bash_aliases, instead of adding them here directly.
# See /usr/share/doc/bash-doc/examples in the bash-doc package.

if [ -f ~/.bash_aliases ]; then 
      . ~/.bash_aliases
fi
</code></pre><p>一旦你把别名定义添加到你的 <code>.bash_aliases</code> 文件，该别名在任何新终端中都可用。但是，在任何其它你定义别名时已经启动的终端中，你还不能使用它们 - 解决办法是在这些终端中重新加载 <code>.bashrc</code>。下面就是你需要执行的具体命令：</p><pre tabindex=0><code>source ~/.bashrc
</code></pre><p>如果你觉得这要做的也太多了（是的，我期待你有更懒惰的办法），那么这里有一个快捷方式来做到这一切：</p><pre tabindex=0><code>&#34;alias [the-alias]&#34; &gt;&gt; ~/.bash_aliases &amp;&amp; source ~/.bash_aliases
</code></pre><p>毫无疑问，你需要用实际的命令替换 <code>[the-alias]</code>。例如：</p><pre tabindex=0><code>&#34;alias bk5=&#39;cd ../../../../..&#39;&#34; &gt;&gt; ~/.bash_aliases &amp;&amp; source ~/.bash_aliases
</code></pre><p>接下来，假设你已经创建了一些别名，并时不时使用它们有一段时间了。突然有一天，你发现它们其中的一个并不像期望的那样。因此你觉得需要查看被赋予该别名的真正命令。你会怎么做呢？</p><p>当然，你可以打开你的 <code>.bash_aliases</code> 文件在那里看看，但这种方式可能有点费时，尤其是当文件中包括很多别名的时候。因此，如果你正在查找一种更简单的方式，这就有一个：你需要做的只是运行 <code>alias</code> 命令并把别名名称作为参数。</p><p>这里有个例子：</p><pre tabindex=0><code>$ alias bk6
alias bk6=&#39;cd ../../../../../..&#39;
</code></pre><p>你可以看到，上面提到的命令显示了被赋值给别名 <code>bk6</code> 的实际命令。这里还有另一种办法：使用 <code>type</code> 命令。下面是一个例子：</p><pre tabindex=0><code>$ type bk6
bk6 is aliased to `cd ../../../../../..&#39;
</code></pre><p><code>type</code> 命令产生了一个易于人类理解的输出。</p><p>另一个值得分享的是你可以将别名用于常见的输入错误。例如：</p><pre tabindex=0><code>alias mroe=&#39;more&#39;
</code></pre><p><em>最后，还值得注意的是并非每个人都喜欢使用别名。他们中的大部分人认为一旦你习惯了你为了简便而定义的别名，当你在其它相同而不存在别名（而且不允许你创建）的系统中工作时就会变得非常困难。更多（也是更准确的）为什么一些专家不推荐使用别名的原因，你到<a href=http://unix.stackexchange.com/questions/66934/why-is-aliasing-over-standard-commands-not-recommended>这里</a>查看。</em></p><h3 id=总结>总结</h3><p>就像我们之前文章讨论过的 <code>CDPATH</code> 环境变量，别名也是一把应该谨慎使用的双刃剑。尽管如此也别太丧气，因为每个东西都有它自己的好处和劣势。遇到类似别名的概念时，更多的练习和完备的知识才是重点。</p><p>那么这就是该系列指南的最后章节。希望你喜欢它并能从中学到新的东西/概念。如果你有任何疑问或者问题，请在下面的评论框中和我们（以及其他人）分享。</p><hr><p>via: <a href=https://www.howtoforge.com/tutorial/command-line-aliases-in-linux/>https://www.howtoforge.com/tutorial/command-line-aliases-in-linux/</a></p><p>作者：<a href=https://www.howtoforge.com/tutorial/command-line-aliases-in-linux/>Ansh</a> 译者：<a href=https://github.com/ictlyh>ictlyh</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C/ rel=tag>命令行</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%AF%BC%E8%88%AA/ rel=tag>导航</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>