<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 RHEL、CentOS 及 Fedora 上安装 Drupal 8 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 RHEL、CentOS 及 Fedora 上安装 Drupal 8"><meta property="og:description" content="在这个文章， 我们展示了在 CentOS 7 上如何去下载、安装和使用基本配置来设置 LAMP 以及 Drupal 8。"><meta property="og:type" content="article"><meta property="og:url" content="/article-8436-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-04-22T16:02:00+00:00"><meta property="article:modified_time" content="2017-04-22T16:02:00+00:00"><meta itemprop=name content="在 RHEL、CentOS 及 Fedora 上安装 Drupal 8"><meta itemprop=description content="在这个文章， 我们展示了在 CentOS 7 上如何去下载、安装和使用基本配置来设置 LAMP 以及 Drupal 8。"><meta itemprop=datePublished content="2017-04-22T16:02:00+00:00"><meta itemprop=dateModified content="2017-04-22T16:02:00+00:00"><meta itemprop=wordCount content="722"><meta itemprop=keywords content="Drupal,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 RHEL、CentOS 及 Fedora 上安装 Drupal 8</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2017-04-22T16:02:00Z>April 22, 2017</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160226gzsvvw432p9wh6p3.jpg alt></p><p><strong>Drupal</strong> 是一个开源，灵活，高度可拓展和安全的 内容管理系统 Content Management System （CMS），使用户轻松的创建网站。</p><p>它可以使用模块拓展，使用户将内容管理转换为强大的数字解决方案。</p><p><strong>Drupal</strong> 运行在诸如 Apache、IIS、Lighttpd、Cherokee、Nginx 的 Web 服务器上，后端数据库可以使用 MySQL、MongoDB、MariaDB、PostgreSQL、MSSQL Server。</p><p>在这篇文章中， 我们会展示在 RHEL 7/6、CentOS 7/6 和 Fedora 20-25 发行版上使用 LAMP 架构，如何手动安装和配置 Drupal 8。</p><h4 id=drupal-需求>Drupal 需求：</h4><ol><li><strong>Apache 2.x</strong> （推荐）</li><li><strong>PHP 5.5.9</strong> 或 更高 （推荐 PHP 5.5）</li><li><strong>MySQL 5.5.3</strong> 或 <strong>MariaDB 5.5.20</strong> 与 PHP 数据对象（PDO） 支持</li></ol><p>安装过程中，我使用 <code>drupal.tecmint.com</code> 作为网站主机名，IP 地址为 <code>192.168.0.104</code>。你的环境也许与这些设置不同，因此请适当做出更改。</p><h3 id=步骤-1安装-apache-web-服务器>步骤 1：安装 Apache Web 服务器</h3><p>1、 首先我们从官方仓库开始安装 Apache Web 服务器。</p><pre tabindex=0><code># yum install httpd
</code></pre><p>2、 安装完成后，服务开始是被禁用的，因此我们需要手动启动它，同时让它下次系统启动时自动启动，如下：</p><pre tabindex=0><code>-------------  通过 SystemD - CentOS/RHEL 7 和 Fedora 22+ -------------------
# systemctl start httpd 
# systemctl enable httpd

-------------  通过 SysVInit - CentOS/RHEL 6 和 Fedora ----------------------
# service httpd start
# chkconfig --level 35 httpd on
</code></pre><p>3、 接下来，为了允许通过 <strong>HTTP</strong> 和 <strong>HTTPS</strong> 访问 Apache 服务，我们必须打开 <strong>HTTPD</strong> 守护进程正在监听的 <strong>80</strong> 和 <strong>443</strong> 端口，如下所示：</p><pre tabindex=0><code>------------ 通过 Firewalld - CentOS/RHEL 7 and Fedora 22+ ------------- 
# firewall-cmd --permanent --zone=public --add-service=http
# firewall-cmd --permanent --zone=public --add-service=https
# firewall-cmd --reload

------------ 通过 IPtables - CentOS/RHEL 6 and Fedora 22+ ------------- 
# iptables -A INPUT -p tcp -m tcp --dport 80 -j ACCEPT
# iptables -A INPUT -p tcp -m tcp --dport 443 -j ACCEPT
# service iptables save
# service iptables restart
</code></pre><p>4、 现在验证 Apache 是否正常工作， 打开浏览器在地址栏中输入 <code>http://server_IP</code>， 输入你的服务器 IP 地址， 默认 Apache2 页面应出现，如下面截图所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160235sejsje3csz9zzqj6.png alt="Apache 默认页面"></p><p><em>Apache 默认页面</em></p><h3 id=步骤-2-安装-apache-php-支持>步骤 2： 安装 Apache PHP 支持</h3><p>5、 接下来，安装 PHP 和 PHP 所需模块。</p><pre tabindex=0><code># yum install php php-mbstring php-gd php-xml php-pear php-fpm php-mysql php-pdo php-opcache
</code></pre><p><strong>重要</strong>: 假如你想要安装 <strong>PHP7</strong>， 你需要增加以下仓库：<strong>EPEL</strong> 和 <strong>Webtactic</strong> 才可以使用 yum 安装 PHP7.0：</p><pre tabindex=0><code>------------- Install PHP 7 in CentOS/RHEL and Fedora ------------- 
# rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
# rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
# yum install php70w php70w-opcache php70w-mbstring php70w-gd php70w-xml php70w-pear php70w-fpm php70w-mysql php70w-pdo
</code></pre><p>6、 接下来，要从浏览器得到关于 PHP 安装和配置完整信息，使用下面命令在 Apache 文档根目录 （<code>/var/www/html</code>） 创建一个 <code>info.php</code> 文件。</p><pre tabindex=0><code># echo &#34;&lt;?php  phpinfo(); ?&gt;&#34; &gt; /var/www/html/info.php
</code></pre><p>然后重启 HTTPD 服务器 ，在浏览器地址栏输入 <code>http://server_IP/info.php</code>。</p><pre tabindex=0><code># systemctl restart httpd
或
# service httpd restart
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160235qotgstwtw8w3gf2g.png alt="验证 PHP 信息"></p><p><em>验证 PHP 信息</em></p><h3 id=步骤-3-安装和配置-mariadb-数据库>步骤 3: 安装和配置 MariaDB 数据库</h3><p>7、 请知晓， <strong>Red Hat Enterprise Linux/CentOS 7.0</strong> 从支持 <strong>MySQL</strong> 转为了 <strong>MariaDB</strong> 作为默认数据库管理系统。</p><p>要安装 <strong>MariaDB</strong> 数据库， 你需要添加 <a href="https://downloads.mariadb.org/mariadb/repositories/#mirror=Fibergrid&amp;distro=CentOS">官方 MariaDB 库</a> 到 <code>/etc/yum.repos.d/MariaDB.repo</code> 中，如下所示。</p><pre tabindex=0><code>[mariadb]
name = MariaDB
baseurl = http://yum.mariadb.org/10.1/centos7-amd64
gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB
gpgcheck=1
</code></pre><p>当仓库文件准备好后，你可以像这样安装 MariaDB：</p><pre tabindex=0><code># yum install mariadb-server mariadb
</code></pre><p>8、 当 MariaDB 数据库安装完成，启动数据库的守护进程，同时使它能够在下次启动后自动启动。</p><pre tabindex=0><code>------------- 通过 SystemD - CentOS/RHEL 7 and Fedora 22+ ------------- 
# systemctl start mariadb
# systemctl enable mariadb
------------- 通过 SysVInit - CentOS/RHEL 6 and Fedora ------------- 
# service mysqld start
# chkconfig --level 35 mysqld on
</code></pre><p>9、 然后运行 <code>mysql_secure_installation</code> 脚本去保护数据库（设置 root 密码， 禁用远程登录，移除测试数据库并移除匿名用户），如下所示：</p><pre tabindex=0><code># mysql_secure_installation
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160236hql77x5qq9xl89m9.png alt=Mysql安全安装></p><p><em>MySQL 安全安装</em></p><h3 id=步骤-4-在-centos-中安装和配置-drupal-8>步骤 4： 在 CentOS 中安装和配置 Drupal 8</h3><p>10、 这里我们使用 <a href=http://www.tecmint.com/10-wget-command-examples-in-linux/>wget 命令</a> <a href=https://www.drupal.org/download>下载最新版本 Drupal</a>（例如 8.2.6），如果你没有安装 wget 和 gzip 包 ，请使用下面命令安装它们：</p><pre tabindex=0><code># yum install wget gzip
# wget -c https://ftp.drupal.org/files/projects/drupal-8.2.6.tar.gz
</code></pre><p>11、 之后，<a href=http://www.tecmint.com/extract-tar-files-to-specific-or-different-directory-in-linux/>解压 tar 文件</a> 并移动 Drupal 目录到 Apache 文档根目录（<code>/var/www/html</code>）。</p><pre tabindex=0><code># tar -zxvf drupal-8.2.6.tar.gz
# mv drupal-8.2.6 /var/www/html/drupal
</code></pre><p>12、 然后，依据 <code>/var/www/html/drupal/sites/default</code> 目录下的示例设置文件 <code>default.settings.php</code>，创建设置文件 <code>settings.php</code>，然后给 Drupal 站点目录设置适当权限，包括子目录和文件，如下所示：</p><pre tabindex=0><code># cd /var/www/html/drupal/sites/default/
# cp default.settings.php settings.php
# chown -R apache:apache /var/www/html/drupal/
</code></pre><p>13、 更重要的是在 <code>/var/www/html/drupal/sites/</code> 目录设置 <strong>SElinux</strong> 规则，如下:</p><pre tabindex=0><code># chcon -R -t httpd_sys_content_rw_t /var/www/html/drupal/sites/
</code></pre><p>14、 现在我们必须为 Drupal 站点去创建一个用于管理的数据库和用户。</p><pre tabindex=0><code># mysql -u root -p
Enter password: 
MySQL Shell
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MySQL connection id is 12
Server version: 5.1.73 Source distribution
Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.
Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.
**MySQL [(none)]&gt; create database drupal;**
Query OK, 1 row affected (0.00 sec)
**MySQL [(none)]&gt; create user ravi@localhost identified by &#39;tecmint123&#39;;**
Query OK, 0 rows affected (0.00 sec)
**MySQL [(none)]&gt; grant all on drupal.* to ravi@localhost;**
Query OK, 0 rows affected (0.00 sec)
**MySQL [(none)]&gt; flush privileges;**
Query OK, 0 rows affected (0.00 sec)
**MySQL [(none)]&gt; exit**
Bye
</code></pre><p>15、 最后，打开地址: <code>http://server_IP/drupal/</code> 开始网站的安装，选择你首选的安装语言然后点击保存以继续。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160238xbu4bue8cllezq18.png alt="Drupal 安装语言"></p><p><em>Drupal 安装语言</em></p><p>16、 下一步，选择安装配置文件，选择 Standard（标准），点击保存继续。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160238rs9lzru6n4lu9tyy.png alt="Drupal 安装配置文件"></p><p><em>Drupal 安装配置文件</em></p><p>17、 在进行下一步之前查看并通过需求审查并启用 <code>Clean URL</code>。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160239k1rdiji6qqj3ojsr.png alt="验证 Drupal 需求"></p><p><em>验证 Drupal 需求</em></p><p>现在在你的 Apache 配置下启用 Clean URL 的 Drupal。</p><pre tabindex=0><code># vi /etc/httpd/conf/httpd.conf
</code></pre><p>确保为默认根文档目录 <code>/var/www/html</code> 设置 <code>AllowOverride All</code>，如下图所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160239o3373h8ciyvkhc81.png alt="在 Drupal 中启用 Clean URL"></p><p><em>在 Drupal 中启用 Clean URL</em></p><p>18、 当你为 Drupal 启用 Clean URL，刷新页面从下面界面执行数据库配置，输入 Drupal 站点数据库名，数据库用户和数据库密码。</p><p>当填写完所有信息点击<strong>保存并继续</strong>。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160240n92opvzh5p622ovp.png alt="Drupal 数据库配置"></p><p><em>Drupal 数据库配置</em></p><p>若上述设置正确，Drupal 站点安装应该完成了，如下图界面。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160240n5irj2i81o233712.png alt="Drupal 安装"></p><p><em>Drupal 安装</em></p><p>19、 接下来配置站点为下面的设置(使用适用你的情况的值):</p><ul><li><strong>站点名称</strong> – TecMint Drupal Site</li><li><strong>站点邮箱地址</strong> – <a href=mailto:admin@tecmint.com>admin@tecmint.com</a></li><li><strong>用户名</strong> – admin</li><li><strong>密码</strong> – ##########</li><li><strong>用户的邮箱地址</strong> – <a href=mailto:admin@tecmint.com>admin@tecmint.com</a></li><li><strong>默认国家</strong> – India</li><li><strong>默认时区</strong> – UTC</li></ul><p>设置适当的值后，点击<strong>保存并继续</strong>完成站点安装过程。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160241zyofyyil0lfbstko.png alt="Drupal 站点配置"></p><p><em>Drupal 站点配置</em></p><p>20、下图显示的是通过 LAMP 成功安装的 Drupal 8 站点。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/22/160241byhpybzkc4yy144n.png alt=Drupal站点面板></p><p><em>Drupal 站点面板</em></p><p>现在你可以点击<strong>增加内容</strong>，创建示例网页内容。</p><p>选项: 有些人<a href=http://www.tecmint.com/mysqladmin-commands-for-database-administration-in-linux/>使用 MySQL 命令行管理数据库</a>不舒服，可以从浏览器界面 <a href=http://www.tecmint.com/install-phpmyadmin-rhel-centos-fedora-linux/>安装 PHPMYAdmin 管理数据库</a></p><p>浏览 Drupal 文档 : <a href=https://www.drupal.org/docs/8>https://www.drupal.org/docs/8</a></p><p>就这样！ 在这个文章， 我们展示了在 CentOS 7 上如何去下载、安装和使用基本配置来设置 LAMP 以及 Drupal 8。 欢迎就这个教程提供反馈，或提供给我们一些相关信息。</p><hr><p>作者简介：</p><p>Aaron Kili 是 linux 和 F.O.S.S 爱好者，将成为 Linux 系统管理员，Web 开发者，目前是 TecMint 的原创作者，热爱计算机工作，并且坚信知识共享。</p><hr><p>via: <a href=http://www.tecmint.com/install-drupal-in-centos-rhel-fedora/>http://www.tecmint.com/install-drupal-in-centos-rhel-fedora/</a></p><p>作者：<a href=http://www.tecmint.com/author/aaronkili/>Aaron Kili</a> 译者：<a href=https://github.com/imxieke>imxieke</a> 校对：<a href=https://github.com/jasminepeng>jasminepeng</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/drupal/ rel=tag>Drupal</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>