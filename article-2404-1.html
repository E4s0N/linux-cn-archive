<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>十个鲜为人知的 Linux 命令 - Part 4 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="十个鲜为人知的 Linux 命令 - Part 4"><meta property="og:description" content="继续我们的&#34;鲜为人知&#34;系列，本系列的第四篇会让你了解一些有趣 又 动态的命令。这里我们进入实际的教程，没有很多理论。
十一个鲜为人知的 Linux 命令 - Part 1
十个鲜为人知的 Linux 命令 - Part 2
十个鲜为人知  &mldr;
"><meta property="og:type" content="article"><meta property="og:url" content="/article-2404-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-12-23T09:42:00+00:00"><meta property="article:modified_time" content="2013-12-23T09:42:00+00:00"><meta itemprop=name content="十个鲜为人知的 Linux 命令 - Part 4"><meta itemprop=description content="继续我们的&#34;鲜为人知&#34;系列，本系列的第四篇会让你了解一些有趣 又 动态的命令。这里我们进入实际的教程，没有很多理论。
十一个鲜为人知的 Linux 命令 - Part 1
十个鲜为人知的 Linux 命令 - Part 2
十个鲜为人知  &mldr;
"><meta itemprop=datePublished content="2013-12-23T09:42:00+00:00"><meta itemprop=dateModified content="2013-12-23T09:42:00+00:00"><meta itemprop=wordCount content="454"><meta itemprop=keywords content="Linux,命令,strace,disown,技巧,教程,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>十个鲜为人知的 Linux 命令 - Part 4</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2013-12-23T09:42:00Z>December 23, 2013</time></div></div></header><div class="content post__content clearfix"><p>继续我们的"鲜为人知"系列，本系列的第四篇会让你了解一些<strong>有趣</strong> 又 <strong>动态</strong>的命令。这里我们进入实际的教程，没有很多理论。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201312/23/094047n3sciu1kxx1w1c3n.png alt></p><ul><li><a href=http://linux.cn/article-2258-1.html>十一个鲜为人知的 Linux 命令 - Part 1</a></li><li><a href=http://linux.cn/article-2265-1.html>十个鲜为人知的 Linux 命令 - Part 2</a></li><li><a href=http://linux.cn/article-2284-1.html>十个鲜为人知的 Linux 命令 - Part 3</a></li></ul><p>本系列的第四篇包含了另外的鲜为人知的Linux命令，这些值得去了解。也许你已经知道了这些命令，毫无疑问你是一个勇于探索的资深Linux用户。</p><h3 id=32-strace-command>32. strace Command</h3><p><strong>strace</strong>是一个调试工具并被主要用于Linux的故障排除。它可能在你的系统内没有默认安装，你可能需要<strong>apt</strong> 或者 <strong>yum</strong> 安装所需要的包。</p><p>使用strace命令追踪一个命令的执行。</p><pre tabindex=0><code>root@tecmint [~]# strace pwd
</code></pre><h4 id=示例输出>示例输出</h4><pre tabindex=0><code>execve(&#34;/bin/pwd&#34;, [&#34;pwd&#34;], [/* 29 vars */]) = 0
brk(0)                                  = 0x728000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f29b0df2000
access(&#34;/etc/ld.so.preload&#34;, R_OK)      = -1 ENOENT (No such file or directory)
open(&#34;/etc/ld.so.cache&#34;, O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=38427, ...}) = 0
mmap(NULL, 38427, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f29b0de8000
close(3)                                = 0
open(&#34;/lib64/libc.so.6&#34;, O_RDONLY)      = 3
read(3, &#34;\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0\360\355\1I;\0\0\0&#34;..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1922152, ...}) = 0
mmap(0x3b49000000, 3745960, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x3b49000000
mprotect(0x3b4918a000, 2093056, PROT_NONE) = 0
mmap(0x3b49389000, 20480, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x189000) = 0x3b49389000
mmap(0x3b4938e000, 18600, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x3b4938e000
close(3)                                = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f29b0de7000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f29b0de6000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f29b0de5000
....
</code></pre><p><strong>strace</strong>命令有大量的参数和选项，请参考man页来获取详细信息。</p><h3 id=33-disown--a--exit-命令>33. disown -a && exit 命令</h3><p>大多数系统管理员使用<a href=http://www.tecmint.com/screen-command-examples-to-manage-linux-terminals/>screen 命令</a>来控制运行在终端后台的作业。让我们假设一下如果你有一个长期运行的作业并想要将它从终端中<strong>脱离</strong>，你可以用screen命令来这么做。但是如果你不知道如何使用screen，那么disown可以用来救急。</p><p>disown命令可以在后台持续运行任务，即使你关闭了终端会话。disown命令的语法是:</p><pre tabindex=0><code>root@tecmint [~]# Command; disown -a &amp;&amp; exit
</code></pre><p>为了在终端中再次脱离一个已经长期运行的任务（译注：可能已经bg运行了，但是并没有脱离终端），使用<strong>jobs</strong>命令来找出任务号，接着使用disown <strong>%n</strong>，这里的**%n<strong>是作业号。为了验证作业确实在运行，使用</strong>ps** 或者 <a href=http://www.tecmint.com/12-top-command-examples-in-linux/>top 命令</a>。<strong>nohup</strong>命令也是一个disown命令的替代品。</p><h3 id=34-getconf-long_bit-命令>34. getconf LONG_BIT 命令</h3><p>上面的命令能显示你的机器架构是<strong>32</strong> bit 或者 <strong>64</strong> 位?</p><pre tabindex=0><code>root@tecmint [~]# getconf LONG_BIT

32
</code></pre><h3 id=35-终端上显示日期>35. 终端上显示日期</h3><p>下面的命令是几个命令的集合，确切地说是一个脚本。对于在shell或者终端下工作的人来说，没有GUI界面看到当前系统日期是一个乏味的工作。你可以用‘<strong>date</strong>‘命令查看今天的日期。</p><p>只要在提示符后输入如下的命令你就会在终端的右上角看到<strong>日期</strong>和<strong>时间</strong>。</p><pre tabindex=0><code>root@tecmint [~]# while sleep 1;do tput sc;tput cup 0 $(($(tput cols)-29));date;tput rc;done &amp;
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201312/23/094048tinc13zw6ij3jfmj.jpg alt=在终端下显示日期></p><h3 id=36-convert-命令>36. convert 命令</h3><p>在写教程的时候，我经常需要生成输出，很多时候是图片格式的输出。上面的命令集合并不适合我。假设我需要tree命令的图片格式的输出(对 <strong>/etc/x11</strong> 目录 )。</p><pre tabindex=0><code>root@tecmint:/etc/X11# tree | convert label:@- /home/avi/tree.png
</code></pre><p>上面命令的输出可以在一个特定的位置(这里是我的主目录)下看到，文件名是<strong>tree.png</strong>。</p><h3 id=37-watch--t--n1-date-tfiglet>37. watch -t -n1 “date +%T|figlet”</h3><p>记住“<strong>figlet</strong>”命令在我们早期的文章“<a href=http://www.tecmint.com/20-funny-commands-of-linux-or-linux-is-fun-in-terminal/>20 Funny Commands of Linux</a>”中的描述。这个命令非常酷，这次我们会通过管道输出到‘<strong>figlet</strong>‘而在终端上显示一个动画电子钟。</p><p>你自己检查一下，记住你必须已经在系统上安装了<strong>figlet</strong>，用<strong>apt</strong> 或者 <strong>yum</strong>安装所需要的包。</p><pre tabindex=0><code>root@tecmint [~]# watch -t -n1 &#34;date +%T|figlet&#34;
</code></pre><h4 id=示例输出-1>示例输出</h4><pre tabindex=0><code> _  ___    ____   ___    _____ _  _                                                                                             Fri Nov 29 10:29:34 GMT 
/ |/ _ \ _|___ \ / _ \ _|___ /| || |
| | | | (_) __) | (_) (_) |_ \| || |_
| | |_| |_ / __/ \__, |_ ___) |__   _|
|_|\___/(_)_____|  /_/(_)____/   |_|
</code></pre><h3 id=38-host-和-dig-命令>38. host 和 dig 命令</h3><p>虽然“<strong>host</strong>” 和 “<strong>dig</strong>”命令不那么鲜为人知，仍然很少使用。host命令是一个<strong>DNS</strong>查询工具。</p><pre tabindex=0><code>root@tecmint [~]# host www.google.com

www.google.com has address 173.194.66.147
www.google.com has address 173.194.66.105
www.google.com has address 173.194.66.99
www.google.com has address 173.194.66.104
www.google.com has address 173.194.66.106
www.google.com has address 173.194.66.103
www.google.com has IPv6 address 2a00:1450:400c:c03::68
</code></pre><p>（译注：事实上，我觉得dig命令是最强大的，自从有了dig，我就再也不用 nslookup 了。）</p><pre tabindex=0><code>root@tecmint [~]# dig www.google.com

; &lt;&lt;&gt;&gt; DiG 9.8.2rc1-RedHat-9.8.2-0.17.rc1.el6_4.6 &lt;&lt;&gt;&gt; www.google.com
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;
</code></pre><h3 id=39-dstat-命令>39. dstat 命令</h3><p><strong>dstat</strong>是一个多用途的工具，它会依据系统资源生成统计。默认情况下你的系统可能没有安装‘<strong>dstat</strong>‘。在使用这个彩色的描述系统信息的生成器前使用<strong>apt</strong> 或者 <strong>yum</strong>来安装。</p><pre tabindex=0><code>root@tecmint [~]# dstat
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201312/23/094050qq5a45gziit4dggg.jpeg alt="dstat 命令"></p><h3 id=40-bind--p-命令>40. bind -p 命令</h3><p>‘<strong>bind -p</strong>‘会显示所有的<strong>BASH</strong> shell可用的快捷方式。</p><pre tabindex=0><code>root@tecmint [~]# bind -p

&#34;\C-g&#34;: abort 
&#34;\C-x\C-g&#34;: abort 
&#34;\e\C-g&#34;: abort 
&#34;\C-j&#34;: accept-line
&#34;\C-m&#34;: accept-line 
# alias-expand-line (not bound) 
# arrow-key-prefix (not bound) 
# backward-byte (not bound) 
&#34;\C-b&#34;: backward-char 
&#34;\eOD&#34;: backward-char 
&#34;\e[D&#34;: backward-char 
&#34;\e!&#34;: complete-command 
&#34;\e/&#34;: complete-filename 
&#34;\e@&#34;: complete-hostname 
&#34;\e{&#34;: complete-into-braces 
&#34;\e~&#34;: complete-username 
&#34;\e$&#34;: complete-variable 
# copy-backward-word (not bound)
# copy-forward-word (not bound) 
# copy-region-as-kill (not bound)
....
....
</code></pre><h3 id=41-touch-forcefsck>41. touch /forcefsck</h3><p>下面的命令会在root目录下创建一个空的文件夹&rsquo;<strong>forcefsck</strong>&rsquo;。这会强制Linux系统在下次启动时检查文件系统。</p><pre tabindex=0><code>root@tecmint [~]# touch /forcefsck
</code></pre><p>今天这些就是全部。因为你们爱‘<strong>鲜为人知的命令</strong>‘ ，因此我们将继续这个系列，本系列的下一篇文章将很快发布。</p><p>不要走开继续关注<strong>Tecmint</strong>。不要忘记在评论栏里留下你们有价值的反馈。帮我们一个忙，喜爱、分享我们的文章，并帮我们传播。</p><hr><p>via: <a href=http://www.tecmint.com/10-lesser-known-effective-linux-commands-part-iv/>http://www.tecmint.com/10-lesser-known-effective-linux-commands-part-iv/</a></p><p>译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/linux/ rel=tag>Linux</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%91%BD%E4%BB%A4/ rel=tag>命令</a></li><li class=tags__item><a class="tags__link btn" href=/tags/strace/ rel=tag>strace</a></li><li class=tags__item><a class="tags__link btn" href=/tags/disown/ rel=tag>disown</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%8A%80%E5%B7%A7/ rel=tag>技巧</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%95%99%E7%A8%8B/ rel=tag>教程</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>