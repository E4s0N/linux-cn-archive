<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>使用 Linux 自动化工具提高生产率 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="使用 Linux 自动化工具提高生产率"><meta property="og:description" content="用 AutoKey 配置你的键盘，纠正常见的错别字，输入常用的短语等等。"><meta property="og:type" content="article"><meta property="og:url" content="/article-13347-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-30T11:12:00+00:00"><meta property="article:modified_time" content="2021-04-30T11:12:00+00:00"><meta itemprop=name content="使用 Linux 自动化工具提高生产率"><meta itemprop=description content="用 AutoKey 配置你的键盘，纠正常见的错别字，输入常用的短语等等。"><meta itemprop=datePublished content="2021-04-30T11:12:00+00:00"><meta itemprop=dateModified content="2021-04-30T11:12:00+00:00"><meta itemprop=wordCount content="390"><meta itemprop=keywords content="键盘,自动化,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>使用 Linux 自动化工具提高生产率</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-04-30T11:12:00Z>April 30, 2021</time></div></div></header><div class="content post__content clearfix"><blockquote><p>用 AutoKey 配置你的键盘，纠正常见的错别字，输入常用的短语等等。</p></blockquote><p><img src=https://img.linux.net.cn/data/attachment/album/202104/30/111130s7ffji6cmb7rkcfx.jpg alt title="Linux keys on the keyboard for a desktop computer"></p><p><a href=https://github.com/autokey/autokey>AutoKey</a> 是一个开源的 Linux 桌面自动化工具，一旦它成为你工作流程的一部分，你就会想，如何没有它，那该怎么办。它可以成为一种提高生产率的变革性工具，或者仅仅是减少与打字有关的身体压力的一种方式。</p><p>本文将研究如何安装和开始使用 AutoKey ，介绍一些可以立即在工作流程中使用的简单方法，并探讨 AutoKey 高级用户可能会感兴趣的一些高级功能。</p><h3 id=安装并设置-autokey>安装并设置 AutoKey</h3><p>AutoKey 在许多 Linux 发行版中都是现成的软件包。该项目的 <a href=https://github.com/autokey/autokey/wiki/Installing>安装指南</a> 包含许多平台的说明，也包括了从源代码进行构建的指导。本文使用 Fedora 作为操作平台。</p><p>AutoKey 有两个变体：为像 GNOME 等基于 <a href=https://www.gtk.org/>GTK</a> 环境而设计的 autokey-gtk 和基于 <a href=https://www.qt.io/>QT</a> 的 autokey-qt。</p><p>你可以从命令行安装任一变体：</p><pre tabindex=0><code>sudo dnf install autokey-gtk
</code></pre><p>安装完成后，使用 <code>autokey-gtk</code>（或 <code>autokey-qt</code>）运行它。</p><h3 id=探究界面>探究界面</h3><p>在将 AutoKey 设置为在后台运行并自动执行操作之前，你首先需要对其进行配置。调出用户界面（UI）配置：</p><pre tabindex=0><code>autokey-gtk -c
</code></pre><p>AutoKey 提供了一些预设配置的示例。你可能希望在熟悉 UI 时将他们留作备用，但是可以根据需要删除它们。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202104/30/111205r73r3nn3wxar33nx.png alt="AutoKey 用户界面" title="AutoKey UI"></p><p>左侧窗格包含一个文件夹式的短语和脚本的层次结构。“ 短语 Phrases ” 代表要让 AutoKey 输入的文本。“ 脚本 Scripts ” 是动态的、程序化的等效项，可以使用 Python 编写，并且获得与键盘击键发送到活动窗口基本相同的结果。</p><p>右侧窗格构建和配置短语和脚本。</p><p>对配置满意后，你可能希望在登录时自动运行 AutoKey，这样就不必每次都启动它。你可以通过在 “ 首选项 Preferences ”菜单（“ 编辑 -> 首选项 Edit -> Preferences” ”）中勾选 “ 登录时自动启动 AutoKey Automatically start AutoKey at login ”进行配置。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202104/30/111205wpjo49ophu724tt2.png alt="登录时自动启动 AutoKey" title="Automatically start AutoKey at login"></p><h3 id=使用-autokey-纠正常见的打字排版错误>使用 AutoKey 纠正常见的打字排版错误</h3><p>修复常见的打字排版错误对于 AutoKey 来说是一个容易解决的问题。例如，我始终键入 “gerp” 来代替 “grep”。这里是如何配置 AutoKey 为你解决这些类型问题。</p><p>创建一个新的子文件夹，可以在其中将所有“打字排版错误校正”配置分组。在左侧窗格中选择 “My Phrases” ，然后选择 “ 文件 -> 新建 -> 子文件夹 File -> New -> Subfolder ”。将子文件夹命名为 “Typos”。</p><p>在 “ 文件 -> 新建 -> 短语 File -> New -> Phrase ” 中创建一个新短语。并将其称为 “grep”。</p><p>通过高亮选择短语 “grep”，然后在 输入短语内容 Enter phrase contents 部分（替换默认的 “Enter phrase contents” 文本）中输入 “grep” ，配置 AutoKey 插入正确的关键词。</p><p>接下来，通过定义缩写来设置 AutoKey 如何触发此短语。点击用户界面底部紧邻 “ 缩写 Abbreviations ” 的 “ 设置 Set ”按钮。</p><p>在弹出的对话框中，单击 “ 添加 Add ” 按钮，然后将 “gerp” 添加为新的缩写。勾选 “ 删除键入的缩写 Remove typed abbreviation ”；此选项让 AutoKey 将任何键入 “gerp” 一词的替换为 “grep”。请不要勾选“ 在键入单词的一部分时触发 Trigger when typed as part of a word ”，这样，如果你键入包含 “grep”的单词（例如 “fingerprint”），就不会尝试将其转换为 “fingreprint”。仅当将 “grep” 作为独立的单词键入时，此功能才有效。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202104/30/111206en1zhspvlnbjghlh.png alt="在 AutoKey 中设置缩写" title="Set abbreviation in AutoKey"></p><h3 id=限制对特定应用程序的更正>限制对特定应用程序的更正</h3><p>你可能希望仅在某些应用程序（例如终端窗口）中打字排版错误时才应用校正。你可以通过设置 窗口过滤器 Window Filter 进行配置。单击 “ 设置 Set ” 按钮来定义。</p><p>设置 窗口过滤器 Window Filter 的最简单方法是让 AutoKey 为你检测窗口类型：</p><ol><li>启动一个新的终端窗口。</li><li>返回 AutoKey，单击 “ 检测窗口属性 Detect Window Properties ”按钮。</li><li>单击终端窗口。</li></ol><p>这将自动填充窗口过滤器，可能的窗口类值为 <code>gnome-terminal-server.Gnome-terminal</code>。这足够了，因此单击 “OK”。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202104/30/111206emyyozpeyy59coyc.png alt="AutoKey 窗口过滤器" title="AutoKey Window Filter"></p><h3 id=保存并测试>保存并测试</h3><p>对新配置满意后，请确保将其保存。 单击 “ 文件 File ” ，然后选择 “ 保存 （ Save ） ” 以使更改生效。</p><p>现在进行重要的测试！在你的终端窗口中，键入 “gerp” 紧跟一个空格，它将自动更正为 “grep”。要验证窗口过滤器是否正在运行，请尝试在浏览器 URL 栏或其他应用程序中键入单词 “gerp”。它并没有变化。</p><p>你可能会认为，使用 <a href=https://opensource.com/article/19/7/bash-aliases>shell 别名</a> 可以轻松解决此问题，我完全赞成！与别名不同，只要是面向命令行，无论你使用什么应用程序，AutoKey 都可以按规则纠正错误。</p><p>例如，我在浏览器，集成开发环境和终端中输入的另一个常见打字错误 “openshfit” 替代为 “openshift”。别名不能完全解决此问题，而 AutoKey 可以在任何情况下纠正它。</p><h3 id=键入常用短语>键入常用短语</h3><p>你可以通过许多其他方法来调用 AutoKey 的短语来帮助你。例如，作为从事 OpenShift 的站点可靠性工程师（SRE），我经常在命令行上输入 Kubernetes 命名空间名称：</p><pre tabindex=0><code>oc get pods -n openshift-managed-upgrade-operator
</code></pre><p>这些名称空间是静态的，因此它们是键入特定命令时 AutoKey 可以为我插入的理想短语。</p><p>为此，我创建了一个名为 “Namespaces” 的短语子文件夹，并为我经常键入的每个命名空间添加了一个短语条目。</p><h3 id=分配热键>分配热键</h3><p>接下来，也是最关键的一点，我为子文件夹分配了一个 “ 热键 hotkey ”。每当我按下该热键时，它都会打开一个菜单，我可以在其中选择（要么使用 “方向键”+回车键要么使用数字）要插入的短语。这减少了我仅需几次击键就可以输入这些命令的击键次数。</p><p>“My Phrases” 文件夹中 AutoKey 的预配置示例使用 <code>Ctrl+F7</code> 热键进行配置。如果你将示例保留在 AutoKey 的默认配置中，请尝试一下。你应该在此处看到所有可用短语的菜单。使用数字或箭头键选择所需的项目。</p><h3 id=高级自动键入>高级自动键入</h3><p>AutoKey 的 <a href=https://autokey.github.io/index.html>脚本引擎</a> 允许用户运行可以通过相同的缩写和热键系统调用的 Python 脚本。这些脚本可以通过支持的 API 的函数来完成诸如切换窗口、发送按键或执行鼠标单击之类的操作。</p><p>AutoKey 用户非常欢迎这项功能，发布了自定义脚本供其他用户采用。例如，<a href=https://github.com/luziferius/autokey_scripts>NumpadIME 脚本</a> 将数字键盘转换为旧的手机样式的文本输入方法，<a href=https://github.com/AlienKevin/Emojis-AutoKey>Emojis-AutoKey</a> 可以通过将诸如: <code>:smile:</code> 之类的短语转换为它们等价的表情符号来轻松插入。</p><p>这是我设置的一个小脚本，该脚本进入 Tmux 的复制模式，以将前一行中的第一个单词复制到粘贴缓冲区中：</p><pre tabindex=0><code>from time import sleep

# 发送 Tmux 命令前缀（b 更改为 s）
keyboard.send_keys(&#34;&lt;ctr&gt;+s&#34;)
# Enter copy mode
keyboard.send_key(&#34;[&#34;)
sleep(0.01)
# Move cursor up one line
keyboard.send_keys(&#34;k&#34;)
sleep(0.01)
# Move cursor to start of line
keyboard.send_keys(&#34;0&#34;)
sleep(0.01)
# Start mark
keyboard.send_keys(&#34; &#34;)
sleep(0.01)
# Move cursor to end of word
keyboard.send_keys(&#34;e&#34;)
sleep(0.01)
# Add to copy buffer
keyboard.send_keys(&#34;&lt;ctrl&gt;+m&#34;)
</code></pre><p>之所以有 <code>sleep</code> 函数，是因为 Tmux 有时无法跟上 AutoKey 发送击键的速度，并且它们对整体执行时间的影响可忽略不计。</p><h3 id=使用-autokey-自动化>使用 AutoKey 自动化</h3><p>我希望你喜欢这篇使用 AutoKey 进行键盘自动化的探索，它为你提供了有关如何改善工作流程的一些好主意。如果你在使用 AutoKey 时有什么有用的或新颖的方法，一定要在下面的评论中分享。</p><hr><p>via: <a href=https://opensource.com/article/21/2/linux-autokey>https://opensource.com/article/21/2/linux-autokey</a></p><p>作者：<a href=https://opensource.com/users/mbargenquast>Matt Bargenquast</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/stevenzdg988>stevenzdg988</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E9%94%AE%E7%9B%98/ rel=tag>键盘</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/ rel=tag>自动化</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>