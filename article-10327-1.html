<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Emacs 系列（三）： Org 模式的补充 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Emacs 系列（三）： Org 模式的补充"><meta property="og:description" content="当你使用 Org 模式来跟进你的 TODO 时，它有多种状态。"><meta property="og:type" content="article"><meta property="og:url" content="/article-10327-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-12-09T19:50:15+00:00"><meta property="article:modified_time" content="2018-12-09T19:50:15+00:00"><meta itemprop=name content="Emacs 系列（三）： Org 模式的补充"><meta itemprop=description content="当你使用 Org 模式来跟进你的 TODO 时，它有多种状态。"><meta itemprop=datePublished content="2018-12-09T19:50:15+00:00"><meta itemprop=dateModified content="2018-12-09T19:50:15+00:00"><meta itemprop=wordCount content="225"><meta itemprop=keywords content="Org模式,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Emacs 系列（三）： Org 模式的补充</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2018-12-09T19:50:15Z>December 09, 2018</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201812/09/195006oz8xr841oko616x3.png alt></p><p>这是 <a href=https://changelog.complete.org/archives/tag/emacs2018>Emacs 和 Org 模式系列</a>的第三篇。</p><h3 id=todo-的跟进及关键字>Todo 的跟进及关键字</h3><p>当你使用 Org 模式来跟进你的 TODO 时，它有多种状态。你可以用 <code>C-c C-t</code> 来快速切换状态。我将它设为这样：</p><pre tabindex=0><code>(setq org-todo-keywords &#39;(
  (sequence &#34;TODO(t!)&#34; &#34;NEXT(n!)&#34; &#34;STARTED(a!)&#34; &#34;WAIT(w@/!)&#34; &#34;OTHERS(o!)&#34; &#34;|&#34; &#34;DONE(d)&#34; &#34;CANCELLED(c)&#34;)
))
</code></pre><p>在这里，我设置了一个任务未完成的五种状态：<code>TODO</code>、<code>NEXT</code>、<code>STARTED</code>、<code>WAIT</code> 及 <code>OTHERS</code>。每一个状态都有单个字的快捷键（<code>t</code>、<code>n</code>、<code>a</code> 等）。管道符（<code>|</code>）之后的状态被认为是“完成”的状态。我有两个“完成”状态：<code>DONE</code>（已经完成）及 <code>CANCELLED</code>（还没完成，但由于其它的原因无法完成）。</p><p><code>!</code> 的含义是记录某项更改为状态的时间。我不把这个添加到完成的状态，是因为它们已经被记录了。<code>@</code> 符号表示带理由的提示，所以当切换到 <code>WAIT</code> 时，Org 模式会问我为什么，并将这个添加到笔记中。</p><p>以下是项目状态发生变化的例子：</p><pre tabindex=0><code>** DONE This is a test
   CLOSED: [2018-03-02 Fri 03:05]
  
   - State &#34;DONE&#34;       from &#34;WAIT&#34;       [2018-03-02 Fri 03:05]
   - State &#34;WAIT&#34;       from &#34;TODO&#34;       [2018-03-02 Fri 03:05] \\
     waiting for pigs to fly
   - State &#34;TODO&#34;       from &#34;NEXT&#34;       [2018-03-02 Fri 03:05]
   - State &#34;NEXT&#34;       from &#34;TODO&#34;       [2018-03-02 Fri 03:05]
</code></pre><p>在这里，最新的项目在最上面。</p><h3 id=议程模式日程及期限>议程模式，日程及期限</h3><p>当你处在一个待办事项时，<code>C-c C-s</code> 或 <code>C-c C-d</code> 可以为其设置相应的日程或期限。这些都是在议程模式中的功能。它们的区别在于其意图和表现。日程是你希望在某个时候完成的事情，而期限是在某个特定的时间应该完成的事情。默认情况下，议程视图将在项目的截止日期前提醒你。</p><p>在此过程中，<a href=https://orgmode.org/guide/Agenda-Views.html#Agenda-Views>议程视图</a>将显示即将出现的项目，提供了一种基于纯文本或标记搜索项目的方法，甚至可以进行跨多个文件处理项目的批量操作。我在本系列的<a href=/article-10312-1.html>第 2 部分</a>中介绍了为议程模式配置。</p><h3 id=标签>标签</h3><p>Org 模式当然也支持标签了。你可以通过 <code>C-c C-q</code> 快速的建立标签。</p><p>你可能会想为一些常用的标签设置快捷键。就像这样:</p><pre tabindex=0><code>  (setq org-tag-persistent-alist 
        &#39;((&#34;@phone&#34; . ?p) 
          (&#34;@computer&#34; . ?c) 
          (&#34;@websurfing&#34; . ?w)
          (&#34;@errands&#34; . ?e)
          (&#34;@outdoors&#34; . ?o)
          (&#34;MIT&#34; . ?m)
          (&#34;BIGROCK&#34; . ?b)
          (&#34;CONTACTS&#34; . ?C)
          (&#34;INBOX&#34; . ?i)
          ))
</code></pre><p>你还可以按文件向该列表添加标记，也可以按文件为某些内容设置标记。我就在我的 <code>inbox.org</code> 和 <code>email.org</code> 文件中设置了一个 <code>INBOX</code> 的标签。然后我可以每天从日程视图中查看所有标记为 <code>INBOX</code> 的项目，像将它们重新归档到其他文件中的这样的简单操作将让它们去掉 <code>INBOX</code> 标记。</p><h3 id=重新归档>重新归档</h3><p>“重新归档”就是在文件中或其他地方移动。它是使用标题来完成的。<code>C-c C-w</code> 就是做这个的。我设置成这样:</p><pre tabindex=0><code>(setq org-outline-path-complete-in-steps nil)         ; Refile in a single go
(setq org-refile-use-outline-path &#39;file)
</code></pre><h3 id=归档分类>归档分类</h3><p>一段时间后，你的文件就会被已经完成的事情弄得乱七八糟。Org 模式有一个<a href=https://orgmode.org/guide/Archiving.html#Archiving>归档</a>特性，可以将主 <code>.org</code> 文件移到其他文件中，以备将来参考。如果你在 <code>git</code> 或其他软件中 有 Org 文件，你可能希望删除这些其他文件，因为无论如何都会在历史中拥有这些文件，但是我发现它们对于析取和搜索非常方便。</p><p>我会定期检查并归档文件中的所有内容。基于 <a href=https://stackoverflow.com/questions/6997387/how-to-archive-all-the-done-tasks-using-a-single-command>stackoverflow 的讨论</a>，我有以下代码：</p><pre tabindex=0><code>(defun org-archive-done-tasks ()
  (interactive)
  (org-map-entries
   (lambda ()
     (org-archive-subtree)
     (setq org-map-continue-from (outline-previous-heading)))
   &#34;/DONE&#34; &#39;file)
  (org-map-entries
   (lambda ()
     (org-archive-subtree)
     (setq org-map-continue-from (outline-previous-heading)))
   &#34;/CANCELLED&#34; &#39;file)
)
</code></pre><p>这基于<a href=https://stackoverflow.com/a/27043756>一个特定的答案</a> —— 你可以从评论那获得一些额外的提示。现在你可以运行 <code>M-x org-archive-done-tasks</code>，当前文件中所有标记为 <code>DONE</code> 或 <code>CANCELED</code> 的内容都将放到另一个文件中。</p><h3 id=下一篇>下一篇</h3><p>我将通过讨论在 Org 模式中自动接受邮件以及在不同的机器上同步来对 Org 模式进行总结。</p><hr><p>via: <a href=https://changelog.complete.org/archives/9877-emacs-3-more-on-org-mode>https://changelog.complete.org/archives/9877-emacs-3-more-on-org-mode</a></p><p>作者：<a href=http://changelog.complete.org/archives/author/jgoerzen>John Goerzen</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/oneforalone>oneforalone</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/org%E6%A8%A1%E5%BC%8F/ rel=tag>Org模式</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>