<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>如何在 Ubuntu Linux 中正确地设置 JAVA_HOME 变量 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="如何在 Ubuntu Linux 中正确地设置 JAVA_HOME 变量"><meta property="og:description" content="在这篇初学者教程中，我将向你展示在 Ubuntu 上正确地设置 JAVA_HOME 变量的步骤。"><meta property="og:type" content="article"><meta property="og:url" content="/article-13954-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-05T12:20:28+00:00"><meta property="article:modified_time" content="2021-11-05T12:20:28+00:00"><meta itemprop=name content="如何在 Ubuntu Linux 中正确地设置 JAVA_HOME 变量"><meta itemprop=description content="在这篇初学者教程中，我将向你展示在 Ubuntu 上正确地设置 JAVA_HOME 变量的步骤。"><meta itemprop=datePublished content="2021-11-05T12:20:28+00:00"><meta itemprop=dateModified content="2021-11-05T12:20:28+00:00"><meta itemprop=wordCount content="213"><meta itemprop=keywords content="JAVA_HOME,Java,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>如何在 Ubuntu Linux 中正确地设置 JAVA_HOME 变量</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-11-05T12:20:28Z>November 05, 2021</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202111/05/122020qr5pys4p851sf1zs.jpg alt></p><p>如果你 <a href=https://itsfoss.com/run-java-program-ubuntu/>在 Ubuntu 上运行 Java 程序</a> ，使用 Eclipse、<a href=https://maven.apache.org/>Maven</a> 或 Netbeans 等等，你将需要将 <code>JAVA_HOME</code> 环境变量设置为正确的路径。否则，你的系统将会向你控诉 “java_home 环境变量没有设置”。</p><p>在这篇初学者教程中，我将向你展示在 Ubuntu 上正确地设置 <code>JAVA_HOME</code> 变量的步骤。这些步骤应该也适用于大多数的其它的 Linux 发行版。</p><p>设置过程包含这些步骤：</p><ul><li>确保已安装 Java 开发工具包（JDK）。</li><li>查找 JDK 可执行文件的正确的位置。</li><li>设置 <code>JAVA_HOME</code> 环境变量，并永久更改它。</li></ul><h3 id=步骤-1-核查-jdk-是否已经安装>步骤 1: 核查 JDK 是否已经安装</h3><p>核查 Java 开发工具包（JDK）是否已经安装在你的 Linux 系统上的最简单的方法是运行这个命令：</p><pre tabindex=0><code>javac --version
</code></pre><p>上面的命令将核查 Java 编译器的版本。如果已经安装了 Java 编译器，它将显示 Java 版本：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202111/05/122030h1rrrrgu1e1iwwyu.png alt="Java Compiler is installed"></p><p>如果上面的命令显示像这样未找到 <code>javac</code> 命令的错误信息，你得先安装 JDK ：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202111/05/122032eml7apli9zfh0sbh.png alt="Java Compiler is not installed"></p><p>如果在你的系统上并没有安装 Java 编译器，使用这条命令来安装 Java 开发工具包 （JDK）：</p><pre tabindex=0><code>sudo apt install default-jdk
</code></pre><p>这将在你当前的 Ubuntu 版本中安装默认的 Java 版本。如果你需要一些其它版本的 Java 版本，那么你必须 <a href=https://itsfoss.com/install-java-ubuntu/>在 Ubuntu 中安装 Java 时</a> 具体指出它的版本。</p><p>在你确保 Java 编译器存在于你的系统之中后，接下来就到了查找其位置的时候了。</p><h3 id=步骤-2-获取-jdk-可执行文件java-编译器的位置>步骤 2: 获取 JDK 可执行文件（Java 编译器）的位置</h3><p>可执行文件通常位于 <code>/usr/lib/jvm</code> 目录之中。但我不会让你来玩一个猜谜游戏，让我们来找出 Java 可执行文件的路径。</p><p><a href=https://linuxhandbook.com/which-command/>使用 which 命令</a> 来获取 Java 编译器可执行文件的位置：</p><pre tabindex=0><code>which javac
</code></pre><p>在这里的问题是，它给出的位置实际上是一个 <a href=https://linuxhandbook.com/symbolic-link-linux/>符号链接</a> 。你将需要按照下图执行几次：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202111/05/122033acijqffqnqdz70j8.png alt></p><p>最简单的方法是直接使用下面这条命令跟随符号链接来以获取实际的可执行文件：</p><pre tabindex=0><code>readlink -f `which java`
</code></pre><p><code>readlink</code> 命令会跟随一个符号链接。我在 <code>which java</code> 的外侧使用 <code>readlink</code> 将会使用 <code>which java</code> 的输出来替换要检查的符号链接，这被称之为命令替换。因此，在这个实例中，上面的命令大体上相当于 <code>readlink -f /usr/bin/java</code> 。</p><p>在我的示例中，可执行文件的位置是 <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code> 。对你来说可能会不一样。在你的系统中，复制上述命令所获取的正确的路径。你知道，你可以 <a href=https://itsfoss.com/copy-paste-linux-terminal/>在 Ubuntu 的终端中复制和粘贴</a> 。</p><h3 id=步骤-3-设置-java_home-变量>步骤 3: 设置 JAVA_HOME 变量</h3><p>现在，你已经获取了位置，使用它来设置 <code>JAVA_HOME</code> 环境变量：</p><pre tabindex=0><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/bin/java
</code></pre><p>核查 <code>JAVA_HOME</code> 目录的值：</p><pre tabindex=0><code>echo $JAVA_HOME
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/202111/05/122035biq3fdoffdafzo6r.png alt></p><p>尝试在同一个终端中运行你的 Java 程序或工程，并查看它是否工作。</p><p>这尚未结束。你刚刚声明的 <code>JAVA_HOME</code> 环境变量是临时的。如果你关闭这个终端或开始一个新的会话，它将会再次变成空的。</p><p>为了“永久地”设置 <code>JAVA_HOME</code> 变量，你应该将其添加到你的家目录中的 <code>.bashrc</code> 文件中。</p><p>你可以 <a href=https://itsfoss.com/nano-editor-guide/>在 Linux 终端中使用 Nano 编辑器来编辑文件</a>。 如果你不想使用它，并想采取一种简单的复制和粘贴的方法，使用下面的命令：</p><p>首先备份你的 <code>.bashrc</code> 文件（以防万一你把它弄坏了，你还可以将其再恢复回来）：</p><pre tabindex=0><code>cp ~/.bashrc ~/.bashrc.bak
</code></pre><p>接下来，<a href=https://linuxhandbook.com/echo-command/>使用 echo 命令来追加</a> 在这一节开头使用的 <code>export</code> 命令。<strong>你应该适当地更改下面的命令，以便其正确地使用你的系统所显示的路径</strong>。</p><pre tabindex=0><code>echo &#34;export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/bin/java&#34; &gt;&gt; ~/.bashrc
</code></pre><p>验证它已经被正确地添加到文件的结尾处：</p><pre tabindex=0><code>tail -3 ~/.bashrc
</code></pre><p>上面的 <a href=https://linuxhandbook.com/tail-command/>tail 命令</a> 将显示所具体指定文件的最后 3 行。</p><p>这里是上面的三个命令的全部的输出：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202111/05/122036bfook1kj4zkj6848.png alt></p><p>现在，即使你退出会话或重新启动系统，<code>JAVA_HOME</code> 环境变量都仍将设置为你所具体指定的值。这就是你所想要的，对吧？</p><p>注意，如果你将来更改默认的 Java 版本，你将需要更改 <code>JAVA_HOME</code> 环境变量的值并将其指向正确的可执行文件的路径。</p><p>我希望这篇教程不仅会帮助你设置 <code>JAVA_HOME</code> 环境变量，也会教会你如何完成这项工作。</p><p>如果你仍然面临难题或者有一些疑问或建议，请在评论区告诉我。</p><hr><p>via: <a href=https://itsfoss.com/set-java-home-ubuntu/>https://itsfoss.com/set-java-home-ubuntu/</a></p><p>作者：<a href=https://itsfoss.com/author/abhishek/>Abhishek Prakash</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/robsean>robsean</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/java_home/ rel=tag>JAVA_HOME</a></li><li class=tags__item><a class="tags__link btn" href=/tags/java/ rel=tag>Java</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>