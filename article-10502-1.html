<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>理解 Bash 中的尖括号 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="理解 Bash 中的尖括号"><meta property="og:description" content="为初学者介绍尖括号。"><meta property="og:type" content="article"><meta property="og:url" content="/article-10502-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-02-02T20:35:29+00:00"><meta property="article:modified_time" content="2019-02-02T20:35:29+00:00"><meta itemprop=name content="理解 Bash 中的尖括号"><meta itemprop=description content="为初学者介绍尖括号。"><meta itemprop=datePublished content="2019-02-02T20:35:29+00:00"><meta itemprop=dateModified content="2019-02-02T20:35:29+00:00"><meta itemprop=wordCount content="277"><meta itemprop=keywords content="shell,尖括号,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>理解 Bash 中的尖括号</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-02-02T20:35:29Z>February 02, 2019</time></div></div></header><div class="content post__content clearfix"><blockquote><p>为初学者介绍尖括号。</p></blockquote><p><img src=/data/attachment/album/201902/02/203531zbi5pzfk1xlfvxid.jpg alt></p><p><a href=https://www.linux.com/blog/2019/1/bash-shell-utility-reaches-50-milestone>Bash</a> 内置了很多诸如 <code>ls</code>、<code>cd</code>、<code>mv</code> 这样的重要的命令，也有很多诸如 <code>grep</code>、<code>awk</code>、<code>sed</code> 这些有用的工具。但除此之外，其实 <a href=https://www.linux.com/blog/2019/1/bash-shell-utility-reaches-50-milestone>Bash</a> 中还有很多可以<a href=https://www.linux.com/blog/learn/2019/1/linux-tools-meaning-dot>起到胶水作用</a>的标点符号，例如点号（<code>.</code>）、逗号（<code>,</code>）、括号（<code>&lt;></code>）、引号（<code>"</code>）之类。下面我们就来看一下可以用来进行数据转换和转移的尖括号（<code>&lt;></code>）。</p><h3 id=转移数据>转移数据</h3><p>如果你对其它编程语言有所了解，你会知道尖括号 <code>&lt;</code> 和 <code>></code> 一般是作为逻辑运算符，用来比较两个值之间的大小关系。如果你还编写 HTML，尖括号作为各种标签的一部分，就更不会让你感到陌生了。</p><p>在 shell 脚本语言中，尖括号可以将数据从一个地方转移到另一个地方。例如可以这样把数据存放到一个文件当中：</p><pre tabindex=0><code>ls &gt; dir_content.txt
</code></pre><p>在上面的例子中，<code>></code> 符号让 shell 将 <code>ls</code> 命令的输出结果写入到 <code>dir_content.txt</code> 里，而不是直接显示在命令行中。需要注意的是，如果 <code>dir_content.txt</code> 这个文件不存在，Bash 会为你创建；但是如果 <code>dir_content.txt</code> 是一个已有的非空文件，它的内容就会被覆盖掉。所以执行类似的操作之前务必谨慎。</p><p>你也可以不使用 <code>></code> 而使用 <code>>></code>，这样就可以把新的数据追加到文件的末端而不会覆盖掉文件中已有的数据了。例如：</p><pre tabindex=0><code>ls $HOME &gt; dir_content.txt; wc -l dir_content.txt &gt;&gt; dir_content.txt
</code></pre><p>在这串命令里，首先将家目录的内容写入到 <code>dir_content.txt</code> 文件中，然后使用 <code>wc -l</code> 计算出 <code>dir_content.txt</code> 文件的行数（也就是家目录中的文件数）并追加到 <code>dir_content.txt</code> 的末尾。</p><p>在我的机器上执行上述命令之后，<code>dir_content.txt</code> 的内容会是以下这样：</p><pre tabindex=0><code>Applications
bin
cloud
Desktop
Documents
Downloads
Games
ISOs
lib
logs
Music
OpenSCAD
Pictures
Public
Templates
test_dir
Videos
17 dir_content.txt
</code></pre><p>你可以将 <code>></code> 和 <code>>></code> 作为箭头来理解。当然，这个箭头的指向也可以反过来。例如，Coen brothers （LCTT 译注：科恩兄弟，一个美国电影导演组合）的一些演员以及他们出演电影的次数保存在 <code>CBActors</code> 文件中，就像这样：</p><pre tabindex=0><code>John Goodman 5
John Turturro 3
George Clooney 2
Frances McDormand 6
Steve Buscemi 5
Jon Polito 4
Tony Shalhoub 3
James Gandolfini 1
</code></pre><p>你可以执行这样的命令：</p><pre tabindex=0><code>sort &lt; CBActors
Frances McDormand 6 # 你会得到这样的输出
George Clooney 2
James Gandolfini 1
John Goodman 5
John Turturro 3
Jon Polito 4
Steve Buscemi 5
Tony Shalhoub 3
</code></pre><p>就可以使用 <a href=https://linux.die.net/man/1/sort>sort</a> 命令将这个列表按照字母顺序输出。但是，<code>sort</code> 命令本来就可以接受传入一个文件，因此在这里使用 <code>&lt;</code> 会略显多余，直接执行 <code>sort CBActors</code> 就可以得到期望的结果。</p><p>如果你想知道 Coens 最喜欢的演员是谁，你可以这样操作。首先：</p><pre tabindex=0><code>while read name surname films; do echo $films $name $surname &gt; filmsfirst.txt; done &lt; CBActors
</code></pre><p>上面这串命令写在多行中可能会比较易读：</p><pre tabindex=0><code>while read name surname films;\
 do
 echo $films $name $surname &gt;&gt; filmsfirst;\
 done &lt; CBActors
</code></pre><p>下面来分析一下这些命令做了什么：</p><ul><li><a href=http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO-7.html>while …; do … done</a> 是一个循环结构。当 <code>while</code> 后面的条件成立时，<code>do</code> 和 <code>done</code> 之间的部分会一直重复执行；</li><li><a href=https://linux.die.net/man/2/read>read</a> 语句会按行读入内容。<code>read</code> 会从标准输入中持续读入，直到没有内容可读入；</li><li><code>CBActors</code> 文件的内容会通过 <code>&lt;</code> 从标准输入中读入，因此 <code>while</code> 循环会将 <code>CBActors</code> 文件逐行完整读入；</li><li><code>read</code> 命令可以按照空格将每一行内容划分为三个字段，然后分别将这三个字段赋值给 <code>name</code>、<code>surname</code> 和 <code>films</code> 三个变量，这样就可以很方便地通过 <code>echo $films $name $surname >> filmsfirst;\</code> 来重新排列几个字段的放置顺序并存放到 <code>filmfirst</code> 文件里面了。</li></ul><p>执行完以后，查看 <code>filmsfirst</code> 文件，内容会是这样的：</p><pre tabindex=0><code>5 John Goodman
3 John Turturro
2 George Clooney
6 Frances McDormand
5 Steve Buscemi
4 Jon Polito
3 Tony Shalhoub
1 James Gandolfini
</code></pre><p>这时候再使用 <code>sort</code> 命令：</p><pre tabindex=0><code>sort -r filmsfirst
</code></pre><p>就可以看到 Coens 最喜欢的演员是 Frances McDormand 了。（<code>-r</code> 参数表示降序排列，因此 McDormand 会排在最前面）</p><hr><p>via: <a href=https://www.linux.com/blog/learn/2019/1/understanding-angle-brackets-bash>https://www.linux.com/blog/learn/2019/1/understanding-angle-brackets-bash</a></p><p>作者：<a href=https://www.linux.com/users/bro66>Paul Brown</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/HankChow>HankChow</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/shell/ rel=tag>shell</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%B0%96%E6%8B%AC%E5%8F%B7/ rel=tag>尖括号</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>