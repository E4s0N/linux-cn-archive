<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>SSL/TLS 加密新纪元 - Let's Encrypt - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="SSL/TLS 加密新纪元 - Let's Encrypt"><meta property="og:description" content="根据 Let&rsquo;s Encrypt 官方博客消息，Let&rsquo;s Encrypt 服务将在下周（11 月 16 日）正式对外开放。 Let&rsquo;s Encrypt 项目是由互联网安全研究小组（ISRG，Internet Security Research Group）主导并开发的一个新型数字证书认证机构（CA，Certificate Authority）。该项目旨在开发一个自由且开放的自动化 CA 套件，并向公众提供相关的证书免费签发服务以降低安全通讯的财务、技术和教育成本。在过去的一年中，互联网安全研究小组拟定了 ACME 协议草案，并首次实现了使用该协议的应用套件：服务端 Boulder 和客户端 letsencrypt。 至于为什么 Let&rsquo;s"><meta property="og:type" content="article"><meta property="og:url" content="/article-6565-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-11-11T08:40:00+00:00"><meta property="article:modified_time" content="2015-11-11T08:40:00+00:00"><meta itemprop=name content="SSL/TLS 加密新纪元 - Let's Encrypt"><meta itemprop=description content="根据 Let&rsquo;s Encrypt 官方博客消息，Let&rsquo;s Encrypt 服务将在下周（11 月 16 日）正式对外开放。 Let&rsquo;s Encrypt 项目是由互联网安全研究小组（ISRG，Internet Security Research Group）主导并开发的一个新型数字证书认证机构（CA，Certificate Authority）。该项目旨在开发一个自由且开放的自动化 CA 套件，并向公众提供相关的证书免费签发服务以降低安全通讯的财务、技术和教育成本。在过去的一年中，互联网安全研究小组拟定了 ACME 协议草案，并首次实现了使用该协议的应用套件：服务端 Boulder 和客户端 letsencrypt。 至于为什么 Let&rsquo;s"><meta itemprop=datePublished content="2015-11-11T08:40:00+00:00"><meta itemprop=dateModified content="2015-11-11T08:40:00+00:00"><meta itemprop=wordCount content="283"><meta itemprop=keywords content="https,ssl,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>SSL/TLS 加密新纪元 - Let's Encrypt</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-11-11T08:40:00Z>November 11, 2015</time></div></div></header><div class="content post__content clearfix"><p>根据 Let&rsquo;s Encrypt 官方博客消息，Let&rsquo;s Encrypt 服务将在下周（11 月 16 日）正式对外开放。</p><p>Let&rsquo;s Encrypt 项目是由 互联网安全研究小组 （ ISRG，Internet Security Research Group ） 主导并开发的一个新型 数字证书认证机构 （ CA，Certificate Authority ） 。该项目旨在开发一个自由且开放的自动化 CA 套件，并向公众提供相关的证书<strong>免费签发服务</strong>以降低安全通讯的财务、技术和教育成本。在过去的一年中，互联网安全研究小组拟定了 <a href=https://github.com/letsencrypt/acme-spec>ACME 协议草案</a>，并首次实现了使用该协议的应用套件：服务端 <a href=https://github.com/letsencrypt/boulder>Boulder</a> 和客户端 <a href=https://github.com/letsencrypt/letsencrypt>letsencrypt</a>。</p><p>至于为什么 Let&rsquo;s Encrypt 让我们如此激动，以及 HTTPS 协议如何保护我们的通讯请参考<a href=/article-5175-1.html>浅谈 HTTPS 和 SSL/TLS 协议的背景与基础</a>。</p><p><img src=/data/attachment/album/201511/11/083937alelmdbkrmweezwt.jpg alt="Let&rsquo;s Encrypt"></p><p>（题图来自：muylinux.com）</p><h3 id=acme-协议>ACME 协议</h3><p>Let&rsquo;s Encrypt 的诞生离不开 ACME（ 自动证书管理环境 （ Automated Certificate Management Environment ） ）协议的拟定。</p><p>说到 ACME 协议，我们不得不提一下传统 CA 的认证方式。Let&rsquo;s Encrypt 服务所签发的证书为 域名认证证书 （ DV，Domain-validated Certificate ） ，签发这类证书需要域名所有者完成以下至少一种 挑战 （ Challenge ） 以证明自己对域名的所有权：</p><ul><li>验证申请人对域名的 Whois 信息中邮箱的控制权；</li><li>验证申请人对域名的常见管理员邮箱（如以 <code>admin@</code>、<code>postmaster@</code> 开头的邮箱等）的控制权；</li><li>在 DNS 的 TXT 记录中发布一条 CA 提供的字符串；</li><li>在包含域名的网址中特定路径发布一条 CA 提供的字符串。</li></ul><p>不难发现，其中最容易实现自动化的一种操作必然为最后一条，ACME 协议中的 <a href=https://letsencrypt.github.io/acme-spec/#simple-http>Simple HTTP</a> 认证即是用一种类似的方法对从未签发过任何证书的域名进行认证。该协议要求在访问 <code>http://域名/.well-known/acme-challenge/指定字符串</code> 时返回特定的字符串。</p><p>然而实现该协议的客户端 <a href=https://github.com/letsencrypt/letsencrypt>letsencrypt</a> 做了更多——它不仅可以通过 ACME 协议配合服务端 <a href=https://github.com/letsencrypt/boulder>Boulder</a> 的域名进行 独立 （ standalone ） 的认证工作，同时还可以自动配置常见的服务器软件（目前支持 Nginx 和 Apache）以完成认证。</p><h3 id=lets-encrypt-免费证书签发服务>Let&rsquo;s Encrypt 免费证书签发服务</h3><p>对于大多数网站管理员来讲，想要对自己的 Web 服务器进行加密需要一笔不小的支出进行证书签发并且难以配置。根据早些年 SSL Labs 公布的 <a href=https://community.qualys.com/servlet/JiveServlet/download/38-1636/Qualys_SSL_Labs-State_of_SSL_2010-v1.6.pdf>2010 年互联网 SSL 调查报告（PDF）</a> 指出超过半数的 Web 服务器没能正确使用 Web 服务器证书，主要的问题有证书不被浏览器信任、证书和域名不匹配、证书过期、证书信任链没有正确配置、使用已知有缺陷的协议和算法等。而且证书过期后的续签和泄漏后的吊销仍需进行繁琐的人工操作。</p><p>幸运的是 Let&rsquo;s Encrypt 免费证书签发服务在经历了漫长的开发和测试之后终于来临，在 Let&rsquo;s Encrypt 官方 CA 被广泛信任之前，IdenTrust 的根证书对 Let&rsquo;s Encrypt 的二级 CA 进行了交叉签名使得大部分浏览器已经信任 Let&rsquo;s Encrypt 签发的证书。</p><h3 id=使用-letsencrypt>使用 letsencrypt</h3><p>由于当前 Let&rsquo;s Encrypt 官方的证书签发服务还未公开，你只能尝试开发版本。这个版本会签发一个 CA 标识为 <code>happy hacker fake CA</code> 的测试证书，注意这个证书不受信任。</p><p>要获取开发版本请直接：</p><pre tabindex=0><code>$ git clone https://github.com/letsencrypt/letsencrypt
</code></pre><p>以下的<a href=https://letsencrypt.org/howitworks/>使用方法</a>摘自 Let&rsquo;s Encrypt 官方网站。</p><h4 id=签发证书>签发证书</h4><p><code>letsencrypt</code> 工具可以协助你处理证书请求和验证工作。</p><p><strong>自动配置 Web 服务器</strong></p><p>下面的操作将会自动帮你将新证书配置到 Nginx 和 Apache 中。</p><pre tabindex=0><code>$ letsencrypt run
</code></pre><p><strong>独立签发证书</strong></p><p>下面的操作将会将新证书置于当前目录下。</p><pre tabindex=0><code>$ letsencrypt -d example.com auth
</code></pre><h4 id=续签证书>续签证书</h4><p>默认情况下 <code>letsencrypt</code> 工具将协助你跟踪当前证书的有效期限并在需要时自动帮你续签。如果需要手动续签，执行下面的操作。</p><pre tabindex=0><code>$ letsencrypt renew --cert-path example-cert.pem
</code></pre><h4 id=吊销证书>吊销证书</h4><p>列出当前托管的证书菜单以吊销。</p><pre tabindex=0><code>$ letsencrypt revoke
</code></pre><p>你也可以吊销某一个证书或者属于某个私钥的所有证书。</p><pre tabindex=0><code>$ letsencrypt revoke --cert-path example-cert.pem
</code></pre><pre tabindex=0><code>$ letsencrypt revoke --key-path example-key.pem
</code></pre><h3 id=docker-化-letsencrypt>Docker 化 letsencrypt</h3><p>如果你不想让 letsencrypt 自动配置你的 Web 服务器的话，使用 Docker 跑一份独立的版本将是一个不错的选择。你所要做的只是在装有 Docker 的系统中执行：</p><pre tabindex=0><code>$ sudo docker run -it --rm -p 443:443 -p 80:80 --name letsencrypt \
            -v &#34;/etc/letsencrypt:/etc/letsencrypt&#34; \
            -v &#34;/var/lib/letsencrypt:/var/lib/letsencrypt&#34; \
            quay.io/letsencrypt/letsencrypt:latest auth
</code></pre><p>你就可以快速的为自己的 Web 服务器签发一个免费而且受信任的 DV 证书啦！</p><h3 id=lets-encrypt-的注意事项>Let&rsquo;s Encrypt 的注意事项</h3><ul><li>Let&rsquo;s Encrypt 当前发行的 DV 证书仅能验证域名的所有权，并不能验证其所有者身份；</li><li>Let&rsquo;s Encrypt 不像其他 CA 那样对安全事故有保险赔付；</li><li>Let&rsquo;s Encrypt 目前不提供 Wildcard 证书；</li><li>Let&rsquo;s Encrypt 的有效时间仅为 90 天，逾期需要续签（可自动续签）。</li></ul><p>对于 Let&rsquo;s Encrypt 的介绍就到这里，让我们一起目睹这场互联网的安全革命吧。</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/https/ rel=tag>https</a></li><li class=tags__item><a class="tags__link btn" href=/tags/ssl/ rel=tag>ssl</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>