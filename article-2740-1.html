<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux touch 命令 - 为什么我们需要改变时间戳？ - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Linux touch 命令 - 为什么我们需要改变时间戳？"><meta property="og:description" content="我们可能在 Linux 下运用 touch 命令创建一个空文件。当然我们也可以使用其他命令例如 vi, nano 或是任意一个编辑工具来实现。但是你可能需要更多的步骤来完成操作。其实你要知道 touch 命令的主要功能并不是为了创建一个空文件哦。  什么是 touch 命令 众所周知，每个文件都被附有时间戳。这个时间戳记包括访问时间和修改时间。而 Touch 命令主要就是用来修改文件的访问时间和修改时间。 为什么我们需要使用 touch 命令 既然 touch 命令描述的是改变时间戳，那么我们可能会想为什么我们需要去改变时间戳呢?这个问题会引发我们的深思。然  &mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/article-2740-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-03-23T08:52:00+00:00"><meta property="article:modified_time" content="2014-03-23T08:52:00+00:00"><meta itemprop=name content="Linux touch 命令 - 为什么我们需要改变时间戳？"><meta itemprop=description content="我们可能在 Linux 下运用 touch 命令创建一个空文件。当然我们也可以使用其他命令例如 vi, nano 或是任意一个编辑工具来实现。但是你可能需要更多的步骤来完成操作。其实你要知道 touch 命令的主要功能并不是为了创建一个空文件哦。  什么是 touch 命令 众所周知，每个文件都被附有时间戳。这个时间戳记包括访问时间和修改时间。而 Touch 命令主要就是用来修改文件的访问时间和修改时间。 为什么我们需要使用 touch 命令 既然 touch 命令描述的是改变时间戳，那么我们可能会想为什么我们需要去改变时间戳呢?这个问题会引发我们的深思。然  &mldr;"><meta itemprop=datePublished content="2014-03-23T08:52:00+00:00"><meta itemprop=dateModified content="2014-03-23T08:52:00+00:00"><meta itemprop=wordCount content="204"><meta itemprop=keywords content="Linux,touch,时间戳,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Linux touch 命令 - 为什么我们需要改变时间戳？</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-03-23T08:52:00Z>March 23, 2014</time></div></div></header><div class="content post__content clearfix"><p>我们可能在 Linux 下运用 touch 命令创建一个空文件。当然我们也可以使用其他命令例如 vi, nano 或是任意一个编辑工具来实现。但是你可能需要更多的步骤来完成操作。其实你要知道 touch 命令的主要功能并不是为了创建一个空文件哦。</p><p><img src=/data/attachment/album/201403/23/085430b7z0qsysl7y4qzee.png alt></p><h3 id=什么是-touch-命令>什么是 touch 命令</h3><p>众所周知，每个文件都被附有时间戳。这个时间戳记包括访问时间和修改时间。而 Touch 命令主要就是用来修改文件的访问时间和修改时间。</p><h3 id=为什么我们需要使用-touch-命令>为什么我们需要使用 touch 命令</h3><p>既然 touch 命令描述的是改变时间戳，那么我们可能会想为什么我们需要去改变时间戳呢?这个问题会引发我们的深思。然而，我想有个理由可以解释为什么我们需要使用它。如果你参加了一个全球范围的开源项目，那么时间戳可能变得很重要。编译源代码文件可能需要同一地区的时间戳。如果未统一，程序可能会编译失败。（译注：有强迫症的同学也很喜欢这个命令——就看不得乱七八糟的时间，;>）</p><h3 id=不带任何选项下运行-touch>不带任何选项下运行 touch</h3><p>最简单的使用 touch 命令。只需键入：</p><pre tabindex=0><code>$ touch file_name
</code></pre><p>请观察下面的一张截图。</p><p><img src=/data/attachment/album/201403/23/085248eich9hu1ytbtba3b.png alt="Touch command"></p><p><strong>File_1.txt</strong>原来的时间戳是 12:42。在我们使用 touch 命令后，它改变为了 17:08。由此看出，默认情况下，touch 会将文件的时间戳改为当前时间。</p><h3 id=只改变访问时间>只改变访问时间</h3><p>正如我们之前提到的，每个文件都附有访问时间和修改时间。上面的时间戳是 17:08。我们可以看更多的细节。</p><p><img src=/data/attachment/album/201403/23/085250gd74q4zn04eeba7d.png alt="Detail timestamp"></p><p>我们发现<strong>访问</strong>时间和<strong>修改</strong>时间的值是相同的都是 17:08:35 ,还有它们属于同一时区 GMT +7。</p><p>如果现在我们要只改变访问时间，我们需要使用**-a**选项。</p><pre tabindex=0><code>$ touch -a file_1.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085251fmsv44v44vsmnm04.png alt="Touch -a option"></p><p>如你所见，<strong>访问时间变为</strong>了 17:51:37 ,但是<strong>修改时间仍为</strong>17:08:35。[译注：原文为 Change time(状态改变时间)应是作者笔误]</p><h3 id=只改变修改时间>只改变修改时间</h3><p>我们可以使用**-m<strong>选项来实现。现在我们用</strong>file_2.txt**作个示例。</p><p><img src=/data/attachment/album/201403/23/085253fcsmbcbqfsqozgnl.png alt="File_2.txt detail timestamp"></p><pre tabindex=0><code>$ touch -m file_2.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085254h4cg1it77iqttl4n.png alt="Touch -m option"></p><p>现在<strong>修改时间从 12:42:20 改为了 17:57:20。请注意</strong>,当文件被访问或修改时，状态改变时间域的值总会对其记录。</p><h3 id=更改为自定义时间戳>更改为自定义时间戳</h3><p><strong>-a</strong>和**-m<strong>选项都会将文件的时间戳改为现在当前时间。当然我们也可以更改为自定义时间戳。使用</strong>-t**选项实现。</p><p>从上面示例示例中的 file_2.txt，我们看出它的时间戳是：</p><pre tabindex=0><code>访问时间:12:42:20
修改时间:17:57:20
执行日期:2014-01-14
</code></pre><p>假如我们想要将<strong>访问时间和修改时间</strong>改为<strong>2014年1月12日 09:58:27</strong>。我们可以用下列命令来完成：</p><pre tabindex=0><code>$ touch -t 201401120958.27 file_2.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085256nlsnwosaz0yxap1a.png alt="Touch using -t option"></p><p><strong>-t</strong> 选项语法组成 :</p><h4 id=ccyymmddhhmm-ss>[[CC]YY]MMDDhhmm [.SS]</h4><pre tabindex=0><code>CC - 年份的前两位 
YY - 年份的后两位 
MM - 月份 [01-12]
DD - 日期 [01-31]
hh - 时 [00-23]
mm - 分 [00-59]
SS - 秒 [00-61]
</code></pre><h3 id=改变日期和时间的另一种方式>改变日期和时间的另一种方式</h3><p>如果你觉得**[[CC]YY]MMDDhhmm [.SS]<strong>格式不适合你，我们也可以使用 -d 选项。下面是</strong>-d**选项使用的一个示例。</p><h4 id=更改指定日期>更改指定日期</h4><p>举例来说，我们有个名为 file_3.txt 的文件，它的相关属性在下面的截图中展示了。</p><p><img src=/data/attachment/album/201403/23/085257unwxygd3wefzxuby.png alt="File_3.txt detail timestamp"></p><p>现在<strong>我们要将日期2014年1月14日改为2013年12月20日</strong>。可以使用下列命令：</p><pre tabindex=0><code>$ touch -d &#39;10-December-2013&#39; file_3.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085259vgs7swgasfkiwziy.png alt="Change date using -d option"></p><p>不出意料，访问时间和修改时间的日期已经改为了2013年12月10日。</p><h3 id=改变时区>改变时区</h3><p>如果我们想改变指定GMT的时间，我们也可以使用**-d**选项。先让file_3.txt 移回当前时间。</p><pre tabindex=0><code>$ touch file_3.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085300dcmmpcfmshrf6isr.png alt="Reset file_3.txt timestamp"></p><p>不难发现 file_3.txt 的时区为 GMT +0700。要改为 GMT3 时区，我们只需要键入如下命令：</p><pre tabindex=0><code>$ touch -d GMT3 file_3.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085302rv8w01f9vmj8wjjj.png alt="Change into GMT3 timezone"></p><p>好的，现在时间已经改为了 10:00:00 AM。</p><h3 id=结合参数下使用-d选项>结合参数下使用-d选项</h3><p>还可以用很酷的方式使用**-d**选项。请观察下面的图片。</p><p><img src=/data/attachment/album/201403/23/085303pvm27u6kq02kd5o4.png alt="Change date using keyword"></p><p>我们可以将单词 <strong>next Sunday</strong> 和 GMT 3合成一个值，而 touch 命令仍然能识别它。日期已经改为了2014年1月21日，而当前的日期为2014年1月14日。</p><p>还有另一个**-d**选项的示例。 首先，我们要将file3_3.txt重置到当前日期和时间。</p><pre tabindex=0><code>$ touch file_3.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085305o1ux27xxds3riizf.png alt="Reset file_3.txt timestamp"></p><p>然后我们尝试这个命令：</p><pre tabindex=0><code>$ touch -d &#39;1 year ago 13:43:07&#39; file_3.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085306ga5q1cu51kjnq57a.png alt="Change date using keyword"></p><p>太震撼了，Touch 甚至能识别单词‘<strong>1 year ago</strong>’。现在的日期以及时间已经改为了2013年1月14日,13:43:07。</p><h3 id=创建一个空文件>创建一个空文件</h3><p>当你运行 touch 命令目标文件不存在时，touch 会创建一个同名的空文件。</p><pre tabindex=0><code>$ touch file_10.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085308ib3r1mtbsqp6rlbl.png alt="Create an empty file"></p><h3 id=同时创建多个文件>同时创建多个文件</h3><p>你可以用空格将目标文件分割开来，以此来创建多个文件。</p><pre tabindex=0><code>$ touch doc_10.txt doc_20.txt doc_30.txt
</code></pre><p><img src=/data/attachment/album/201403/23/085309bdhs3u1m1umm1hbu.png alt="Create multiple files"></p><h3 id=总结>总结</h3><p>如果你要处理关于文件或目录的时间戳问题，那么 Touch 会对你很有用的。一如既往得你也可以键入<strong>man touch</strong>或<strong>touch &ndash;help</strong>来显示帮助页面了解更多细节。</p><hr><p>via: <a href=http://linoxide.com/linux-command/linux-touch-command/>http://linoxide.com/linux-command/linux-touch-command/</a></p><p>译者：<a href=https://github.com/Luoxcat>Luoxcat</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/linux/ rel=tag>Linux</a></li><li class=tags__item><a class="tags__link btn" href=/tags/touch/ rel=tag>touch</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%97%B6%E9%97%B4%E6%88%B3/ rel=tag>时间戳</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>