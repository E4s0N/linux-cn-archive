<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>GoTTY：把你的 Linux 终端放到浏览器里面 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="GoTTY：把你的 Linux 终端放到浏览器里面"><meta property="og:description" content="GoTTY 是一个简单的基于 Go 语言的命令行工具，它可以将你的终端（TTY）作为 web 程序共享。它会将命令行工具转换为 web 程序。"><meta property="og:type" content="article"><meta property="og:url" content="/article-8445-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-04-25T10:02:01+00:00"><meta property="article:modified_time" content="2017-04-25T10:02:01+00:00"><meta itemprop=name content="GoTTY：把你的 Linux 终端放到浏览器里面"><meta itemprop=description content="GoTTY 是一个简单的基于 Go 语言的命令行工具，它可以将你的终端（TTY）作为 web 程序共享。它会将命令行工具转换为 web 程序。"><meta itemprop=datePublished content="2017-04-25T10:02:01+00:00"><meta itemprop=dateModified content="2017-04-25T10:02:01+00:00"><meta itemprop=wordCount content="416"><meta itemprop=keywords content="gotty,终端,浏览器,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>GoTTY：把你的 Linux 终端放到浏览器里面</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2017-04-25T10:02:01Z>April 25, 2017</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/201704/25/100155qz7y1729z09473p7.png alt></p><p>GoTTY 是一个简单的基于 Go 语言的命令行工具，它可以将你的终端（TTY）作为 web 程序共享。它会将命令行工具转换为 web 程序。</p><p>它使用 Chrome OS 的终端仿真器（hterm）来在 Web 浏览器上执行基于 JavaScript 的终端。重要的是，GoTTY 运行了一个 Web 套接字服务器，它基本上是将 TTY 的输出传输给客户端，并从客户端接收输入（即允许客户端的输入），并将其转发给 TTY。</p><p>它的架构（hterm + web socket 的想法）灵感来自 <a href=http://www.tecmint.com/access-linux-server-terminal-in-web-browser-using-wetty/>Wetty 项目</a>，它使终端能够通过 HTTP 和 HTTPS 使用。</p><h3 id=先决条件>先决条件</h3><p>你需要在 Linux 中安装 <a href=http://www.tecmint.com/install-go-in-linux/>GoLang (Go 编程语言)</a> 环境来运行 GoTTY。</p><h3 id=如何在-linux-中安装-gotty>如何在 Linux 中安装 GoTTY</h3><p>如果你已经有一个<a href=http://www.tecmint.com/install-go-in-linux/>可以工作的 Go 语言环境</a>，运行下面的 <code>go get</code> 命令来安装它：</p><pre tabindex=0><code># go get github.com/yudai/gotty
</code></pre><p>上面的命令会在你的 <code>GOBIN</code> 环境变量中安装 GOTTY 的二进制，尝试检查下是否如此：</p><pre tabindex=0><code># $GOPATH/bin/
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201704/25/100204skcar6115r4ap4gd.png alt="Check GOBIN Environment"></p><p><em>检查 GOBIN 环境</em></p><h3 id=如何在-linux-中使用-gotty>如何在 Linux 中使用 GoTTY</h3><p>要运行它，你可以使用 GOBIN 环境变量并用命令补全：</p><pre tabindex=0><code># $GOBIN/gotty
</code></pre><p>另外，要不带完整命令路径运行 GoTTY 或其他 Go 程序，使用 <code>export</code> 命令将 <code>GOBIN</code> 变量添加到 <code>~/.profile</code> 文件中的 <code>PATH</code> 环境变量中。</p><pre tabindex=0><code>export PATH=&#34;$PATH:$GOBIN&#34;
</code></pre><p>保存文件并关闭。接着运行 <code>source</code> 来使更改生效：</p><pre tabindex=0><code># source ~/.profile
</code></pre><p>运行 GoTTY 命令的常规语法是：</p><pre tabindex=0><code>Usage: gotty [options] &lt;Linux command here&gt; [&lt;arguments...&gt;]
</code></pre><p>现在用 GoTTY 运行任意命令，如 <a href=/tag-df.html>df</a> 来从 Web 浏览器中查看系统分区空间及使用率。</p><pre tabindex=0><code># gotty df -h
</code></pre><p>GoTTY 默认会在 8080 启动一个 Web 服务器。在浏览器中打开 URL：<code>http://127.0.0.1:8080/</code>，你会看到运行的命令仿佛运行在终端中一样：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/25/100204zrboso2kuov7jv8k.png alt="Gotty Linux Disk Usage"></p><p><em>Gotty 查看 Linux 磁盘使用率</em></p><h3 id=如何在-linux-中自定义-gotty>如何在 Linux 中自定义 GoTTY</h3><p>你可以在 <code>~/.gotty</code> 配置文件中修改默认选项以及终端，如果该文件存在，它会在每次启动时加载这个文件。</p><p>这是由 getty 命令读取的主要自定义文件，因此，按如下方式创建：</p><pre tabindex=0><code># touch ~/.gotty
</code></pre><p>并为配置选项设置你自己的有效值（<a href=https://github.com/yudai/gotty#options>在此处查找所有配置选项</a>）以自定义 GoTTY，例如：</p><pre tabindex=0><code>// Listen at port 9000 by default
port = &#34;9000&#34;
// Enable TSL/SSL by default
enable_tls = true
// hterm preferences
// Smaller font and a little bit bluer background color
preferences {
font_size = 5,
background_color = &#34;rgb(16, 16, 32)&#34;
}
</code></pre><p>你可以使用命令行中的 <code>--html</code> 选项设置你自己的 <code>index.html</code> 文件：</p><pre tabindex=0><code># gotty --index /path/to/index.html uptime
</code></pre><h3 id=如何在-gotty-中使用安全功能>如何在 GoTTY 中使用安全功能</h3><p>由于 GoTTY 默认不提供可靠的安全保障，你需要手动使用下面说明的某些安全功能。</p><h4 id=允许客户端在终端中运行命令>允许客户端在终端中运行命令</h4><p>请注意，默认情况下，GoTTY 不允许客户端输入到TTY中，它只支持窗口缩放。</p><p>但是，你可以使用 <code>-w</code> 或 <code>--permit-write</code> 选项来允许客户端写入 TTY，但是并不推荐这么做因为会有安全威胁。</p><p>以下命令会使用 <a href=/tag-vi.html>vi 命令行编辑器</a>在 Web 浏览器中打开文件 <code>fossmint.txt</code> 进行编辑：</p><pre tabindex=0><code># gotty -w vi fossmint.txt
</code></pre><p>以下是从 Web 浏览器看到的 vi 界面（像平常一样使用 vi 命令）：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/25/100205z5rjn7v76grcrzy0.png alt="Gotty Web Vi Editor"></p><p><em>Gotty Web Vi 编辑器</em></p><h4 id=使用基本用户名和密码验证运行-gotty>使用基本（用户名和密码）验证运行 GoTTY</h4><p>尝试激活基本身份验证机制，这样客户端将需要输入指定的用户名和密码才能连接到 GoTTY 服务器。</p><p>以下命令使用 <code>-c</code> 选项限制客户端访问，以向用户询问指定的凭据（用户名：<code>test</code> 密码：<code>@67890</code>）：</p><pre tabindex=0><code># gotty -w -p &#34;9000&#34; -c &#34;test@67890&#34; glances
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201704/25/100205mpd14uur212ud4dd.png alt="Gotty with Basic Authentication"></p><p><em>使用基本验证运行 GoTTY</em></p><h4 id=gotty-生成随机-url>Gotty 生成随机 URL</h4><p>限制访问服务器的另一种方法是使用 <code>-r</code> 选项。GoTTY 会生成一个随机 URL，这样只有知道该 URL 的用户才可以访问该服务器。</p><p>还可以使用 <code>-title-format "GoTTY – {{ .Command }} ({{ .Hostname }})"</code> 选项来定义浏览器标题。<a href=/article-6882-1.html>glances</a> 用于显示系统监控统计信息：</p><pre tabindex=0><code># gotty -r --title-format &#34;GoTTY - {{ .Command }} ({{ .Hostname }})&#34; glances
</code></pre><p>以下是从浏览器中看到的上面的命令的结果：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/25/100205ad1m5f5o5fo23722.png alt="Gotty Random URL for Glances Linux Monitoring"></p><p><em>使用 Gotty 随机 URL 用于 Glances 系统监控</em></p><h4 id=带有-ssltls-使用-gotty>带有 SSL/TLS 使用 GoTTY</h4><p>因为默认情况下服务器和客户端之间的所有连接都不加密，当你通过 GoTTY 发送秘密信息（如用户凭据或任何其他信息）时，你需要使用 <code>-t</code> 或 <code>--tls</code> 选项才能在会话中启用 TLS/SSL：</p><p>默认情况下，GoTTY 会读取证书文件 <code>~/.gotty.crt</code> 和密钥文件 <code>~/.gotty.key</code>，因此，首先使用下面的 <code>openssl</code> 命令创建一个自签名的证书以及密钥（ 回答问题以生成证书和密钥文件）：</p><pre tabindex=0><code># openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout ~/.gotty.key -out ~/.gotty.crt
</code></pre><p>按如下所示，通过启用 SSL/TLS，以安全方式使用 GoTTY：</p><pre tabindex=0><code># gotty -tr --title-format &#34;GoTTY - {{ .Command }} ({{ .Hostname }})&#34; glances
</code></pre><h4 id=与多个客户端分享你的终端>与多个客户端分享你的终端</h4><p>你可以使用<a href=/article-8421-1.html>终端复用程序</a>来与多个客户端共享一个进程，以下命令会启动一个名为 gotty 的新 <a href=/article-8421-1.html>tmux 会话</a>来运行 glances（确保你安装了 tmux）：</p><pre tabindex=0><code># gotty tmux new -A -s gotty glances 
</code></pre><p>要读取不同的配置文件，像下面那样使用 <code>–config "/path/to/file"</code> 选项：</p><pre tabindex=0><code># gotty -tr --config &#34;~/gotty_new_config&#34; --title-format &#34;GoTTY - {{ .Command }} ({{ .Hostname }})&#34; glances
</code></pre><p>要显示 GoTTY 版本，运行命令：</p><pre tabindex=0><code># gotty -v 
</code></pre><p>访问 GoTTY GitHub 仓库以查找更多使用示例：<a href=https://github.com/yudai/gotty>https://github.com/yudai/gotty</a> 。</p><p>就这样了！你有尝试过了吗？如何知道 GoTTY 的？通过下面的反馈栏与我们分享你的想法。</p><hr><p>作者简介：</p><p>Aaron Kili 是 Linux 和 F.O.S.S 爱好者，即将成为 Linux SysAdmin 和网络开发人员，目前是 TecMint 的内容创作者，他喜欢在电脑上工作，并坚信分享知识。</p><hr><p>via: <a href=http://www.tecmint.com/gotty-share-linux-terminal-in-web-browser/>http://www.tecmint.com/gotty-share-linux-terminal-in-web-browser/</a></p><p>作者：<a href=http://www.tecmint.com/author/aaronkili/>Aaron Kili</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/gotty/ rel=tag>gotty</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E7%BB%88%E7%AB%AF/ rel=tag>终端</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/ rel=tag>浏览器</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>