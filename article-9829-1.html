<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Linux 命令行中自定义文本颜色 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Linux 命令行中自定义文本颜色"><meta property="og:description" content="在 Linux 命令行当中使用不同颜色以期提供一种根据文件类型来识别文件的简单方式。你可以修改这些颜色，但是在做之前应该对你做的事情有充分的理由。"><meta property="og:type" content="article"><meta property="og:url" content="/article-9829-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-07-12T10:59:00+00:00"><meta property="article:modified_time" content="2018-07-12T10:59:00+00:00"><meta itemprop=name content="在 Linux 命令行中自定义文本颜色"><meta itemprop=description content="在 Linux 命令行当中使用不同颜色以期提供一种根据文件类型来识别文件的简单方式。你可以修改这些颜色，但是在做之前应该对你做的事情有充分的理由。"><meta itemprop=datePublished content="2018-07-12T10:59:00+00:00"><meta itemprop=dateModified content="2018-07-12T10:59:00+00:00"><meta itemprop=wordCount content="259"><meta itemprop=keywords content="终端,颜色,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Linux 命令行中自定义文本颜色</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2018-07-12T10:59:00Z>July 12, 2018</time></div></div></header><div class="content post__content clearfix"><blockquote><p>在 Linux 命令行当中使用不同颜色以期提供一种根据文件类型来识别文件的简单方式。你可以修改这些颜色，但是在做之前应该对你做的事情有充分的理由。</p></blockquote><p><img src=/data/attachment/album/201807/12/105947xztc1kpcvv8o9izn.jpg alt></p><p>如果你在 Linux 命令行上花费了大量的时间（如果没有，那么你可能不会读这篇文章），你无疑注意到了 <code>ls</code> 以多种不同的颜色显示文件。你可能也注意到了一些区别 —— 目录是一种颜色，可执行文件是另一种颜色等等。</p><p>这一切是如何发生的呢？以及，你可以选择哪些选项来改变颜色分配可能就不是很多人都知道的。</p><p>一种方法是运行 <code>dircolors</code> 命令得到一大堆展示了如何指定这些颜色的数据。它会显示以下这些东西：</p><pre tabindex=0><code>$ dircolors
LS_COLORS=&#39;rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do
=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg
=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01
;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01
;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=0
1;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31
:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.
xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.t
bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.j
ar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.a
lz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.r
z=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.
mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:
*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:
*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;3
5:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;
35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01
;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01
;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01
;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;3
5:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;3
5:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;3
6:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;
36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;
36:*.spx=00;36:*.xspf=00;36:&#39;;
export LS_COLORS
</code></pre><p>如果你擅长解析文件，那么你可能会注意到这个列表有一种 模式 patten 。用冒号分隔开，你会看到这样的东西：</p><pre tabindex=0><code>$ dircolors | tr &#34;:&#34; &#34;\n&#34; | head -10
LS_COLORS=&#39;rs=0
di=01;34
ln=01;36
mh=00
pi=40;33
so=01;35
do=01;35
bd=40;33;01
cd=40;33;01
or=40;31;01
</code></pre><p>OK，这里有一个模式 —— 一系列定义，有一到三个数字组件。我们来看看其中的一个定义。</p><pre tabindex=0><code>pi=40;33
</code></pre><p>有些人可能会问的第一个问题是“pi 是什么？”在这里，我们研究的是颜色和文件类型，所以这显然不是以 3.14 开头的那个有趣的数字。当然不是，这个 “pi” 代表 “pipe（管道）” —— Linux 系统上的一种特殊类型的文件，它可以将数据从一个程序传递给另一个程序。所以，让我们建立一个管道。</p><pre tabindex=0><code>$ mknod /tmp/mypipe p
$ ls -l /tmp/mypipe
prw-rw-r-- 1 shs shs 0 May 1 14:00 /tmp/mypipe
</code></pre><p>当我们在终端窗口中查看我们的管道和其他几个文件时，颜色差异非常明显。</p><p><img src=/data/attachment/album/201807/12/105959yu66w4wwq4e2t6tt.jpg alt="font colors"></p><p>在 <code>pi</code> 的定义中（如上所示），“40” 使文件在终端（或 PuTTY）窗口中使用黑色背景显示，31 使字体颜色变红。管道是特殊的文件，这种特殊的处理使它们在目录列表中突出显示。</p><p><code>bd</code> 和 <code>cd</code> 定义是相同的 —— <code>40;33;01</code>，它有一个额外的设置。这个设置会导致 块设备 block device （bd）和 字符设备 character device （cd）以黑色背景，橙色字体和另一种效果显示 —— 字符将以粗体显示。</p><p>以下列表显示由 文件类型 file type 所指定的颜色和字体分配：</p><pre tabindex=0><code>setting         file type
=======         =========
rs=0            reset to no color
di=01;34        directory
ln=01;36        link
mh=00           multi-hard link
pi=40;33        pipe
so=01;35        socket
do=01;35        door
bd=40;33;01     block device
cd=40;33;01     character device
or=40;31;01     orphan
mi=00           missing?
su=37;41        setuid
sg=30;43        setgid
ca=30;41        file with capability
tw=30;42        directory with sticky bit and world writable
ow=34;42        directory that is world writable
st=37;44        directory with sticky bit
ex=01;93        executable
</code></pre><p>你可能已经注意到，在 <code>dircolors</code> 命令输出中，我们的大多数定义都以星号开头（例如，<code>*.wav=00;36</code>）。这些按 文件扩展名 file extension 而不是文件类型定义显示属性。这有一个示例：</p><pre tabindex=0><code>$ dircolors | tr &#34;:&#34; &#34;\n&#34; | tail -10
*.mpc=00;36
*.ogg=00;36
*.ra=00;36
*.wav=00;36
*.oga=00;36
*.opus=00;36
*.spx=00;36
*.xspf=00;36
&#39;;
export LS_COLORS
</code></pre><p>这些设置（上面列表中所有的 <code>00;36</code>）将使这些文件名以青色显示。可用的颜色如下所示。</p><p><img src=/data/attachment/album/201807/12/110003t752g2b5obxfqx2g.jpg alt="all colors"></p><h3 id=如何改变设置>如何改变设置</h3><p>你要使用 <code>ls</code> 的别名来打开颜色显示功能。这通常是 Linux 系统上的默认设置，看起来是这样的：</p><pre tabindex=0><code>alias ls=&#39;ls --color=auto&#39;
</code></pre><p>如果要关闭字体颜色，可以运行 <code>unalias ls</code> 命令，然后文件列表将仅以默认字体颜色显示。</p><p>你可以通过修改 <code>$LS_COLORS</code> 设置和导出修改后的设置来更改文本颜色。</p><pre tabindex=0><code>$ export LS_COLORS=&#39;rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;...
</code></pre><p>注意：上面的命令由于太长被截断了。</p><p>如果希望文本颜色的修改是永久性的，则需要将修改后的 <code>$LS_COLORS</code> 定义添加到一个启动文件中，例如 <code>.bashrc</code>。</p><h3 id=更多关于命令行文本>更多关于命令行文本</h3><p>你可以在 NetworkWorld 的 <a href=https://www.networkworld.com/article/3138909/linux/coloring-your-world-with-ls-colors.html>2016 年 11 月</a>的帖子中找到有关文本颜色的其他信息。</p><hr><p>via: <a href=https://www.networkworld.com/article/3269587/linux/customizing-your-text-colors-on-the-linux-command-line.html>https://www.networkworld.com/article/3269587/linux/customizing-your-text-colors-on-the-linux-command-line.html</a></p><p>作者：<a href=https://www.networkworld.com/author/Sandra-Henry_Stocker/>Sandra Henry-Stocker</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/MjSeven>MjSeven</a> 校对：<a href=https://github.com/pityonline>pityonline</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E7%BB%88%E7%AB%AF/ rel=tag>终端</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E9%A2%9C%E8%89%B2/ rel=tag>颜色</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>