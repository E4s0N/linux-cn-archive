<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 FreeBSD 10.2 上如何通过配置 Apache 和 SSL 安装 Bugzilla - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 FreeBSD 10.2 上如何通过配置 Apache 和 SSL 安装 Bugzilla"><meta property="og:description" content="Bugzilla 是一个基于 web 的应用，并能帮助你管理软件开发，它用 perl 开发并以 MySQL 作为数据库系统。Bugzilla 帮助 mozilla、redhat、gnome 等公司完成软件开发工作。Bugzilla 有很多功能并易于配置和安装。"><meta property="og:type" content="article"><meta property="og:url" content="/article-7013-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-02-16T08:55:00+00:00"><meta property="article:modified_time" content="2016-02-16T08:55:00+00:00"><meta itemprop=name content="在 FreeBSD 10.2 上如何通过配置 Apache 和 SSL 安装 Bugzilla"><meta itemprop=description content="Bugzilla 是一个基于 web 的应用，并能帮助你管理软件开发，它用 perl 开发并以 MySQL 作为数据库系统。Bugzilla 帮助 mozilla、redhat、gnome 等公司完成软件开发工作。Bugzilla 有很多功能并易于配置和安装。"><meta itemprop=datePublished content="2016-02-16T08:55:00+00:00"><meta itemprop=dateModified content="2016-02-16T08:55:00+00:00"><meta itemprop=wordCount content="491"><meta itemprop=keywords content="Bugzilla,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 FreeBSD 10.2 上如何通过配置 Apache 和 SSL 安装 Bugzilla</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2016-02-16T08:55:00Z>February 16, 2016</time></div></div></header><div class="content post__content clearfix"><p>Bugzilla 是一款开源的 Web 应用，用于 bug 跟踪系统和测试工具，由 mozilla 开发，并采用 Mozilla 公共许可证授权（MPL）。它经常被一些高科技公司如 mozilla、红帽公司和 gnome 使用。Bugzilla 起初由 Terry Weissman开发于1998年，它用 perl 语言编写，用 MySQL 作为后端数据库。它是一款旨在帮助管理软件开发的服务器软件，它有丰富的功能、高度优化的数据库、卓越的安全性、高级的搜索工具、集成了邮件功能等等。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201602/16/170047pvv8p0jj68pd9jrd.png alt></p><p>在本教程中，我们将安装 bugzilla 5.0 ，采用 apache 作为 Web 服务器，并为它启用 SSL，然后在 freebsd 10.2 上安装 mysql 5.1 来作为数据库系统。</p><h4 id=准备>准备</h4><ul><li>FreeBSD 10.2 - 64位</li><li>Root 权限</li></ul><h3 id=第一步---更新系统>第一步 - 更新系统</h3><p>用 ssh 登录 freebsd 服务器，并更新软件库：</p><pre tabindex=0><code>sudo su
freebsd-update fetch
freebsd-update install
</code></pre><h3 id=第二步---安装并配置-apache>第二步 - 安装并配置 Apache</h3><p>在这一步我们将使用 pkg 命令从 freebsd 软件库中安装 apache，然后在 apache24 目录下编辑 &ldquo;httpd.conf&rdquo; 文件，来配置 apache 以启用 SSL 和 CGI 支持。</p><p>用 pkg 命令安装 apache：</p><pre tabindex=0><code>pkg install apache24
</code></pre><p>进入 apache 目录并用 nano 编辑器编辑"httpd.conf"文件：</p><pre tabindex=0><code>cd /usr/local/etc/apache24
nano -c httpd.conf
</code></pre><p>取消下面列出行的注释：</p><pre tabindex=0><code>#第70行
LoadModule authn_socache_module libexec/apache24/mod_authn_socache.so

#第89行
LoadModule socache_shmcb_module libexec/apache24/mod_socache_shmcb.so

#第117行
LoadModule expires_module libexec/apache24/mod_expires.so

#第141行，启用SSL
LoadModule ssl_module libexec/apache24/mod_ssl.so

#第162行，支持cgi
LoadModule cgi_module libexec/apache24/mod_cgi.so

#第174行，启用mod_rewrite
LoadModule rewrite_module libexec/apache24/mod_rewrite.so

#第219行，服务器名配置
ServerName 127.0.0.1:80
</code></pre><p>保存并退出。</p><p>接着，我们需要从 freebsd 库中安装 mod perl，并启用它：</p><pre tabindex=0><code>pkg install ap24-mod_perl2
</code></pre><p>启用 mod_perl，编辑"httpd.conf"文件并添加"Loadmodule"行：</p><pre tabindex=0><code>nano -c httpd.conf
</code></pre><p>添加该行：</p><pre tabindex=0><code>#第175行
LoadModule perl_module libexec/apache24/mod_perl.so
</code></pre><p>保存并退出。</p><p>在启用 apache 之前，用 sysrc 命令添加以下行作为开机启动项：</p><pre tabindex=0><code>sysrc apache24_enable=yes
service apache24 start
</code></pre><h3 id=第三步---安装并配置-mysql-数据库>第三步 - 安装并配置 MySQL 数据库</h3><p>我们要用 mysql 5.1 来作为后端数据库并且支持 perl 模块。用 pkg 命令安装 mysql 5.1：</p><pre tabindex=0><code>pkg install p5-DBD-mysql51 mysql51-server mysql51-client
</code></pre><p>现在我们要将 mysql 服务设置为开机启动，然后为 mysql 配置 root 密码。</p><p>运行以下命令来完成上述所有操作：</p><pre tabindex=0><code>sysrc mysql_enable=yes
service mysql-server start
mysqladmin -u root password aqwe123
</code></pre><p>注意：</p><p>这里 mysql 密码为：aqwe123</p><p><img src=https://img.linux.net.cn/data/attachment/album/201602/15/205906x0l3kiwqw4awl1j1.png alt="Configure MySQL Password"></p><p>以上步骤都完成之后，我们用 root 登录 mysql shell，然后为 bugzilla 安装创建一个新的数据库和用户。</p><p>用以下命令登录 mysql shell：</p><pre tabindex=0><code>mysql -u root -p
password: aqwe123
</code></pre><p>添加数据库：</p><pre tabindex=0><code>create database bugzilladb;
create user bugzillauser@localhost identified by &#39;bugzillauser@&#39;;
grant all privileges on bugzilladb.* to bugzillauser@localhost identified by &#39;bugzillauser@&#39;;
flush privileges;
\q
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201602/15/205908r5znye558m0nn9o8.png alt="Creating Database for Bugzilla"></p><p>bugzilla 的数据库创建好了，名字为"bugzilladb"，用户名和密码分别为"bugzillauser"和"bugzillauser@"。</p><h3 id=第四步---生成新的-ssl-证书>第四步 - 生成新的 SSL 证书</h3><p>在 bugzilla 站点的 &ldquo;ssl&rdquo; 目录里生成新的自签名 SSL 证书。</p><p>前往 apache24 目录并在此创建新目录 &ldquo;ssl&rdquo;：</p><pre tabindex=0><code>cd /usr/local/etc/apache24/
mkdir ssl; cd ssl
</code></pre><p>接着，用 openssl 命令生成证书文件，然后更改其权限：</p><pre tabindex=0><code>sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /usr/local/etc/apache24/ssl/bugzilla.key -out /usr/local/etc/apache24/ssl/bugzilla.crt
chmod 600 *
</code></pre><h3 id=第五步---配置虚拟主机>第五步 - 配置虚拟主机</h3><p>我们将在 &ldquo;/usr/local/www/bugzilla&rdquo; 目录里安装 bugzilla，所以我们必须为它创建新的虚拟主机配置。</p><p>前往 apache 目录并为虚拟主机文件创建名为 &ldquo;vhost&rdquo; 的新目录：</p><pre tabindex=0><code>cd /usr/local/etc/apache24/
mkdir vhost; cd vhost
</code></pre><p>现在为虚拟主机文件创建新文件 &ldquo;bugzilla.conf&rdquo;：</p><pre tabindex=0><code>nano -c bugzilla.conf
</code></pre><p>将以下配置粘贴进去：</p><pre tabindex=0><code>&lt;VirtualHost *:80&gt;
ServerName mybugzilla.me
ServerAlias www.mybuzilla.me
DocumentRoot /usr/local/www/bugzilla
Redirect permanent / https://mybugzilla.me/
&lt;/VirtualHost&gt;

Listen 443
&lt;VirtualHost _default_:443&gt;
ServerName mybugzilla.me
DocumentRoot /usr/local/www/bugzilla

ErrorLog &#34;/var/log/mybugzilla.me-error_log&#34;
CustomLog &#34;/var/log/mybugzilla.me-access_log&#34; common

SSLEngine On
SSLCertificateFile /usr/local/etc/apache24/ssl/bugzilla.crt
SSLCertificateKeyFile /usr/local/etc/apache24/ssl/bugzilla.key

&lt;Directory &#34;/usr/local/www/bugzilla&#34;&gt;
AddHandler cgi-script .cgi
Options +ExecCGI
DirectoryIndex index.cgi index.html
AllowOverride Limit FileInfo Indexes Options
Require all granted
&lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre><p>保存并退出。</p><p>上述都完成之后，为 bugzilla 安装创建新目录，并在 httpd.conf 文件添加虚拟主机配置来启用 bugzilla虚拟主机。</p><p>在 &ldquo;apache24&rdquo; 目录下运行以下命令：</p><pre tabindex=0><code>mkdir -p /usr/local/www/bugzilla
cd /usr/local/etc/apache24/
nano -c httpd.conf
</code></pre><p>文末，添加以下配置：</p><pre tabindex=0><code>Include etc/apache24/vhost/*.conf
</code></pre><p>保存并退出。</p><p>现在用 &ldquo;apachectl&rdquo; 命令测试一下 apache 的配置并重启它：</p><pre tabindex=0><code>apachectl configtest
service apache24 restart
</code></pre><h3 id=第六步---安装-bugzilla>第六步 - 安装 Bugzilla</h3><p>我们可以通过下载源来手动安装 bugzilla 了，或从 freebsd 库中安装也可以。在这一步中我们将用 pkg 命令从 freebsd 库中安装 bugzilla：</p><pre tabindex=0><code>pkg install bugzilla50
</code></pre><p>以上步骤都完成之后，前往 bugzilla 安装目录并安装所有 bugzilla 需要的 perl 模块。</p><pre tabindex=0><code>cd /usr/local/www/bugzilla
./install-module --all
</code></pre><p>要等到所有都完成，这需要点时间。</p><p>下一步，在 bugzilla 的安装目录中执行 &ldquo;checksetup.pl&rdquo; 文件来生成配置文件 &ldquo;localconfig&rdquo;。</p><pre tabindex=0><code>./checksetup.pl
</code></pre><p>你会看到一条关于数据库配置错误的消息，你得用 nano 编辑器编辑一下 &ldquo;localconfig&rdquo; 文件：</p><pre tabindex=0><code>nano -c localconfig
</code></pre><p>现在添加第三步创建的数据库。</p><pre tabindex=0><code>#第57行
$db_name = &#39;bugzilladb&#39;;

#第60行
$db_user = &#39;bugzillauser&#39;;

#第67行
$db_pass = &#39;bugzillauser@&#39;;
</code></pre><p>保存并退出。</p><p>然后再次运行 &ldquo;checksetup.pl&rdquo;：</p><pre tabindex=0><code>./checksetup.pl
</code></pre><p>你会收到输入邮箱名和管理员账号的提示，你只要输入你的邮箱、用户名和密码就行了。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201602/15/205909zf7euu7ft3u6uw37.png alt="Admin Setup"></p><p>最后，我们需要把安装目录的属主改成 &ldquo;www&rdquo;，然后用服务命令重启 apache：</p><pre tabindex=0><code>cd /usr/local/www/
chown -R www:www bugzilla
service apache24 restart
</code></pre><p>现在 Bugzilla 已经安装好了，你可以通过访问 mybugzilla.me 来查看，并且将会重定向到 https 连接。</p><p>Bugzilla 首页：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201602/15/205910mwu3yguupwgh03u3.png alt="Bugzilla Home"></p><p>Bugzilla admin 面板：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201602/15/205911ez0jj70i94jvhv5z.png alt="Bugzilla Admin Page"></p><h3 id=结论>结论</h3><p>Bugzilla 是一个基于 web 的应用，并能帮助你管理软件开发，它用 perl 开发并以 MySQL 作为数据库系统。Bugzilla 帮助 mozilla、redhat、gnome 等公司完成软件开发工作。Bugzilla 有很多功能并易于配置和安装。</p><hr><p>via: <a href=http://linoxide.com/tools/install-bugzilla-apache-ssl-freebsd-10-2/>http://linoxide.com/tools/install-bugzilla-apache-ssl-freebsd-10-2/</a></p><p>作者：<a href=http://linoxide.com/author/arulm/>Arul</a> 译者：<a href=https://github.com/ZTinoZ>ZTinoZ</a> 校对：<a href=https://github.com/carolinewuyan>Caroline</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/bugzilla/ rel=tag>Bugzilla</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>