<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux下NTFS分区的修复和恢复 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Linux下NTFS分区的修复和恢复"><meta property="og:description" content="我们时不时需要帮助我们的朋友、家人、熟人、商业伙伴或者其他杂七杂八的人摆脱使用Windows的时候遇到的困境。尽管我们不像他们一样日常遇到各种问题，却经常是在他们有难的时候会求助的人。此外,甚至我们自己的Wind &mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/article-2045-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-10-02T17:14:00+00:00"><meta property="article:modified_time" content="2013-10-02T17:14:00+00:00"><meta itemprop=name content="Linux下NTFS分区的修复和恢复"><meta itemprop=description content="我们时不时需要帮助我们的朋友、家人、熟人、商业伙伴或者其他杂七杂八的人摆脱使用Windows的时候遇到的困境。尽管我们不像他们一样日常遇到各种问题，却经常是在他们有难的时候会求助的人。此外,甚至我们自己的Wind &mldr;"><meta itemprop=datePublished content="2013-10-02T17:14:00+00:00"><meta itemprop=dateModified content="2013-10-02T17:14:00+00:00"><meta itemprop=wordCount content="71"><meta itemprop=keywords content="Linux,NTFS,ntfsfix,testdisk,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Linux下NTFS分区的修复和恢复</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2013-10-02T17:14:00Z>October 02, 2013</time></div></div></header><div class="content post__content clearfix"><p>我们时不时需要帮助我们的朋友、家人、熟人、商业伙伴或者其他杂七杂八的人摆脱使用Windows的时候遇到的困境。尽管我们不像他们一样日常遇到各种问题，却经常是在他们有难的时候会求助的人。此外,甚至我们自己的Windows分区/驱动器也会出现问题（毕竟，有时候我们还是需要玩儿会儿游戏，而且，尽管Steam在努力，但Linux还不是游戏玩家的梦想之地），但愿不会如此。下面让我们看一两个我们可能会遇到的状况，那时我们可以用手边的Linux环境和一些NTFS分区恢复工具来修复它们。</p><h3 id=简单修复><strong>简单修复</strong></h3><p>Windows 系统通常能很好的处理异常的“冷重启”（断电，关闭插线板的电源，或家里的小人儿手指随意按导致关机)。事实上，至今为止，最有效的修复Windows桌面问题的方法就是简单的重启系统。但是，Windows分区偶尔会显示系统需要进行驱动器一致性检测。不这么做的话，在几次重启后可能会引起文件系统状况恶化而使系统变得更糟。众所周知，Windows文件系统检查超级慢，而且经常不得不做好几次才能清理掉文件系统的“脏（dirty）”标志。</p><p>下面介绍一个叫“ntfsfix”的小工具，在基于Debian的系统（如 Ubuntu）可以通过下面的命令下载：</p><p>sudo apt-get install ntfsfix</p><p>或者在基于RPM的系统（如 Red Hat 或 CentOS）中通过下面的命令下载:</p><p>sudo yum install ntfsfix</p><p>这个‘ntfsfix’工具能快速的修复常见的错误以及NTFS分区不一致的问题。最常用的命令不用带任何参数。 它也可以报出来那些没有修复掉的项，然后我们能通过以下选项来修复它们：</p><ul><li>-b: 清除磁盘上的坏的扇区 (可以在从一个旧磁盘往新的磁盘上克隆之后使用)</li><li>-d: 清除“脏”标志。“脏”标志是Linux不能挂载一个Windows分区的最常见的原因，通常发生在Windows断电前没有正常关机的情况。</li><li>-n: 除了在标准输出上显示它要完成的(换句话说，就是需要修复哪些)之外不做任何事。</li></ul><p>过去Windows在启动前，用NTFS Disk Check来重置“脏”标志，常常要花几个小时。而‘ntfsfix’完成这个仅仅只需要大约三秒的时。</p><h3 id=深度修复><strong>深度修复</strong></h3><p>不幸的是, 并非所有的问题都能被快速修复。事实上，有非常多的昂贵的磁盘恢复软件（通常属于“磁盘取证”类的软件，因为是在筛选损坏磁盘的时候调查人员使用的）用来修复那些加电但不能启动或者不能访问文件系统的磁盘。</p><p>有一个神奇的工具，免费而强大（而且如果在你本地电脑使用的话，可以放到一个可引导的救援Live CD里面）可以用来恢复你的Windows NTFS分区（而且，也能恢复EXT2/3/4，FAT/FAT32、exFAT、HFS和SunFS文件系统）。这个工具叫做<a href=http://www.cgsecurity.org/wiki/TestDisk>TestDisk</a>，在Debian和CentOS 的软件仓库中可用。Red Hat的软件仓库中并没有这个软件，但是安装它很容易。</p><p>sudo apt-get install testdisk</p><p>在基于 RPM 的系统（如 Red Hat 或 CentOS）：</p><p>sudo yum install testdisk</p><p>这个工具简直无与伦比。如果驱动器加电并且运转了，甚至当驱动器有物理损坏时，这个小工具仍会奇迹般的取出一些文件来。 你可以通过一个旧式风格的命令“sudo testdisk /dev/sdX”来启动它，这里‘X’是你的驱动器号，之后你会看到下面的界面：</p><p><img src=https://img.linux.net.cn/data/attachment/album/201310/02/171324qenv744sqbnbwn99.jpg alt></p><p><em>TestDisk在终端中运行</em></p><p>这个工具使用起来很简单，只需要根据菜单提示进行操作，而且它是交互式的。它会扫描你指定的某个分区，然后把重建的目录和文件显示出来，然后你可以标记，并存到另外一磁盘或者分区里面。我已经成功地从Windows，OSX和linux分区里面恢复过文件，这些分区要么因为这种或那种原因不能启动，要么害怕启动之后可能彻底完蛋，总之，这些分区用不了多久就会彻底完蛋了。</p><p>说句实在的，你不能期望文件系统100%的恢复，尤其是你的驱动器已经有损坏了，不过至少聊胜于无吧，而且不用像去请专业人员处理那样花很多钱（实际上一分也不用花）。所以如果你的驱动器现在有问题了，那你可以用下这个工具。</p><h3 id=结束语><strong>结束语</strong></h3><p>当你使用Linux的时候，磁盘修复要容易得多，当然也便宜的多，要么用USB转接器连接有问题的磁盘，要么从一个LiveCD启动，然后用CD里面的修复工具。本文中我们谈到的所有的工具都是免费使用，而且是在持续开发（更新）中。您可以在下面留言，谈一下你曾经不得不使用什么工具来从您磁盘的问题中恢复。</p><p>via: <a href=http://blog.linuxacademy.com/linux/ntfs-partition-repair-and-recovery-in-linux/>http://blog.linuxacademy.com/linux/ntfs-partition-repair-and-recovery-in-linux/</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/portal.php>Linux中国</a> 荣誉推出</p><p>译者：<a href=http://linux.cn/space/younel0925>younel0925</a> 校对：<a href=http://linux.cn/space/jasminepeng>jasminepeng</a></p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/linux/ rel=tag>Linux</a></li><li class=tags__item><a class="tags__link btn" href=/tags/ntfs/ rel=tag>NTFS</a></li><li class=tags__item><a class="tags__link btn" href=/tags/ntfsfix/ rel=tag>ntfsfix</a></li><li class=tags__item><a class="tags__link btn" href=/tags/testdisk/ rel=tag>testdisk</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>