<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>zzupdate：单条命令升级 Ubuntu 18.04 LTS - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="zzupdate：单条命令升级 Ubuntu 18.04 LTS"><meta property="og:description" content="我们可以只通过一条命令使用 zzupdate 工具中将 Ubuntu PC/Server 从一个版本升级到另一个版本。"><meta property="og:type" content="article"><meta property="og:url" content="/article-9684-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-05-27T07:18:06+00:00"><meta property="article:modified_time" content="2018-05-27T07:18:06+00:00"><meta itemprop=name content="zzupdate：单条命令升级 Ubuntu 18.04 LTS"><meta itemprop=description content="我们可以只通过一条命令使用 zzupdate 工具中将 Ubuntu PC/Server 从一个版本升级到另一个版本。"><meta itemprop=datePublished content="2018-05-27T07:18:06+00:00"><meta itemprop=dateModified content="2018-05-27T07:18:06+00:00"><meta itemprop=wordCount content="968"><meta itemprop=keywords content="zzupdate,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>zzupdate：单条命令升级 Ubuntu 18.04 LTS</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2018-05-27T07:18:06Z>May 27, 2018</time></div></div></header><div class="content post__content clearfix"><p>Ubuntu 18.04 版本已经发布，并得到各个社区的一致好评，因为 Ubuntu 18.04 可能是 Ubuntu 多年来最令人兴奋的版本。</p><p>通常情况下，Ubuntu 及其衍生版可以使用命令从一个版本升级到最新版本或者其它版本，这也是官方推荐的升级方式。</p><h3 id=ubuntu-1804-特性亮点>Ubuntu 18.04 特性/亮点</h3><p>这次更新包含大量改进和新功能，这里只列举的几个主要的。如果您想要更详细的更新信息，请访问 <a href=https://wiki.ubuntu.com/BionicBeaver/ReleaseNotes>Ubuntu 18.04 官方</a> 页面。</p><ul><li>使用 Linux 4.15 内核，提供了从上游继承的新功能</li><li>它具有最新版本的 GNOME 3.28</li><li>它提供了与 RHEL 相似的最简安装选项，该选项可安装只包含一个 web 浏览器和核心系统程序的基本桌面环境</li><li>对于新安装，交换文件将取代默认的交换分区</li><li>您可以启用 Livepatch 安装内核更新而无需重新启动</li><li>笔记本电脑在使用电池供电时会在无操作 20 分钟后自动待机</li><li>不再提供 32 位的 Ubuntu 桌面安装程序映像</li></ul><p>注意：</p><ol><li>不要忘记备份重要数据。如果升级出现问题，我们将重新安装并恢复数据。</li><li>安装所需时间取决于您的网络状况和安装的程序。</li></ol><p><img src=/data/attachment/album/201805/27/071719gd2db2ddoddd2d2o.jpg alt></p><h3 id=zzupdate-是什么>zzupdate 是什么？</h3><p>我们可以只通过一条命令使用 <a href=https://github.com/TurboLabIt/zzupdate>zzupdate</a> 工具中将 Ubuntu PC/Server 从一个版本升级到另一个版本。它是一个自由开源工具，使用它不需要任何脚本知识，因为它只需要配置文件即可运行。</p><p>工具中提供两个默认 shell 文件。<code>setup.sh</code> 自动安装、更新代码，将脚本转换为一个简单的 zzupdate shell 命令。<code>zzupdate.sh</code> 将执行版本间的升级。</p><h3 id=如何安装-zzupdate>如何安装 zzupdate？</h3><p>要安装 <code>zzupdate</code>，只需执行以下命令：</p><pre tabindex=0><code>$ curl -s https://raw.githubusercontent.com/TurboLabIt/zzupdate/master/setup.sh | sudo sh
.
.
Installing...
-------------
Cloning into &#39;zzupdate&#39;...
remote: Counting objects: 57, done.
remote: Total 57 (delta 0), reused 0 (delta 0), pack-reused 57
Unpacking objects: 100% (57/57), done.
Checking connectivity... done.
Already up-to-date.

Setup completed!
----------------
See https://github.com/TurboLabIt/zzupdate for the quickstart guide.
</code></pre><p>将 Ubuntu 系统从一个版本升级到另一个版本，您不需要输入很多命令，也不需要重新启动，只需要运行下面的 <code>zzupdate</code> 命令并坐下喝杯咖啡就可以了。</p><p>请注意，当您远程升级系统时，建议您使用以下的工具来帮助您在任何断开连接时重新连接会话。</p><p>建议阅读： <a href=https://www.2daygeek.com/how-to-keep-a-process-command-running-after-disconnecting-ssh-session/>如何让一个进程/命令在 SSH 连接断开后继续运行</a></p><h3 id=如何配置-zzupdate可选>如何配置 zzupdate（可选）</h3><p>默认情况下，<code>zzupdate</code> 可以开箱即用，不需要配置任何东西。当然，如果您想要自己配置一些内容也是可以的。复制提供的示例配置文件 <code>zzupdate.default.conf</code> 到 <code>zzupdate.conf</code>，并在 <code>zzupdate.conf</code> 中配置您的首选项。</p><pre tabindex=0><code>$ sudo cp /usr/local/turbolab.it/zzupdate/zzupdate.default.conf /etc/turbolab.it/zzupdate.conf
</code></pre><p>打开文件，默认配置如下。</p><pre tabindex=0><code>$ sudo nano /etc/turbolab.it/zzupdate.conf

REBOOT=1
REBOOT_TIMEOUT=15
VERSION_UPGRADE=1
VERSION_UPGRADE_SILENT=0
COMPOSER_UPGRADE=1
SWITCH_PROMPT_TO_NORMAL=0
</code></pre><ul><li><code>REBOOT=1</code>：系统在更新完成后自动重启</li><li><code>REBOOT_TIMEOUT=15</code>：重启的默认超时值</li><li><code>VERSION_UPGRADE=1</code>：执行从一个版本到另一个版本的版本升级</li><li><code>VERSION_UPGRADE_SILENT=0</code>：禁用自动升级</li><li><code>COMPOSER_UPGRADE=1</code>：自动升级</li><li><code>SWITCH_PROMPT_TO_NORMAL=0</code>：如果值为 <code>0</code>，将寻找相同种类的版本升级。例如您正在运行 LTS 的版本，那么将寻找 LTS 的版本升级，而不是用于正常版本升级。如果值为 <code>1</code>，那么无论您是运行 LTS 还是正常版本，都会查找最新版本</li></ul><p>我现在正在使用 Ubuntu 17.10 ，查看一下详细信息。</p><pre tabindex=0><code>$ cat /etc/*-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=17.10
DISTRIB_CODENAME=artful
DISTRIB_DESCRIPTION=&#34;Ubuntu 17.10&#34;
NAME=&#34;Ubuntu&#34;
VERSION=&#34;17.10 (Artful Aardvark)&#34;
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME=&#34;Ubuntu 17.10&#34;
VERSION_ID=&#34;17.10&#34;
HOME_URL=&#34;https://www.ubuntu.com/&#34;
SUPPORT_URL=&#34;https://help.ubuntu.com/&#34;
BUG_REPORT_URL=&#34;https://bugs.launchpad.net/ubuntu/&#34;
PRIVACY_POLICY_URL=&#34;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&#34;
VERSION_CODENAME=artful
UBUNTU_CODENAME=artful
</code></pre><p>要升级 Ubuntu 到最新版本，只需要执行以下命令：</p><pre tabindex=0><code>$ sudo zzupdate

O===========================================================O
 zzupdate - Wed May 2 17:31:16 IST 2018
O===========================================================O

Self-update and update of other zzScript
----------------------------------------
.
.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.

Updating...
----------
Already up-to-date.

Setup completed!
----------------
See https://github.com/TurboLabIt/zzupdate for the quickstart guide.

Channel switching is disabled: using pre-existing setting
---------------------------------------------------------

Cleanup local cache
-------------------

Update available packages informations
--------------------------------------
Hit:1 https://download.docker.com/linux/ubuntu artful InRelease
Ign:2 http://dl.google.com/linux/chrome/deb stable InRelease
Hit:3 http://security.ubuntu.com/ubuntu artful-security InRelease
Hit:4 http://in.archive.ubuntu.com/ubuntu artful InRelease
Hit:5 http://dl.google.com/linux/chrome/deb stable Release
Hit:6 http://in.archive.ubuntu.com/ubuntu artful-updates InRelease
Hit:7 http://in.archive.ubuntu.com/ubuntu artful-backports InRelease
Hit:9 http://ppa.launchpad.net/notepadqq-team/notepadqq/ubuntu artful InRelease
Hit:10 http://ppa.launchpad.net/papirus/papirus/ubuntu artful InRelease
Hit:11 http://ppa.launchpad.net/twodopeshaggy/jarun/ubuntu artful InRelease
.
.
UPGRADE PACKAGES
----------------
Reading package lists...
Building dependency tree...
Reading state information...
Calculating upgrade...
The following packages were automatically installed and are no longer required:
.
.
Interactively upgrade to a new release, if any
----------------------------------------------

Reading cache

Checking package manager
Reading package lists... Done
Building dependency tree
Reading state information... Done
Ign http://dl.google.com/linux/chrome/deb stable InRelease
Hit https://download.docker.com/linux/ubuntu artful InRelease
Hit http://security.ubuntu.com/ubuntu artful-security InRelease
Hit http://dl.google.com/linux/chrome/deb stable Release
Hit http://in.archive.ubuntu.com/ubuntu artful InRelease
Hit http://in.archive.ubuntu.com/ubuntu artful-updates InRelease
Hit http://in.archive.ubuntu.com/ubuntu artful-backports InRelease
Hit http://ppa.launchpad.net/notepadqq-team/notepadqq/ubuntu artful InRelease
Hit http://ppa.launchpad.net/papirus/papirus/ubuntu artful InRelease
Hit http://ppa.launchpad.net/twodopeshaggy/jarun/ubuntu artful InRelease
Fetched 0 B in 6s (0 B/s)
Reading package lists... Done
Building dependency tree
Reading state information... Done
</code></pre><p>我们需要按下回车键禁用第三方仓库以继续升级。</p><pre tabindex=0><code>Updating repository information

Third party sources disabled

Some third party entries in your sources.list were disabled. You can
re-enable them after the upgrade with the &#39;software-properties&#39; tool
or your package manager.

To continue please press [ENTER]
.
.
Get:35 http://in.archive.ubuntu.com/ubuntu bionic-updates/universe i386 Packages [2,180 B]
Get:36 http://in.archive.ubuntu.com/ubuntu bionic-updates/universe Translation-en [1,644 B]
Fetched 38.2 MB in 6s (1,276 kB/s)

Checking package manager
Reading package lists... Done
Building dependency tree
Reading state information... Done

Calculating the changes

Calculating the changes
</code></pre><p>开始下载 <code>Ubuntu 18.04 LTS</code> 软件包，所需时间取决于您的网络状况，一般情况下这将需要几分钟。</p><pre tabindex=0><code>Do you want to start the upgrade?


63 installed packages are no longer supported by Canonical. You can
still get support from the community.

4 packages are going to be removed. 175 new packages are going to be
installed. 1307 packages are going to be upgraded.

You have to download a total of 999 M. This download will take about
12 minutes with your connection.

Installing the upgrade can take several hours. Once the download has
finished, the process cannot be canceled.

Continue [yN] Details [d]y
Fetching
Get:1 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 base-files amd64 10.1ubuntu2 [58.2 kB]
Get:2 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 debianutils amd64 4.8.4 [85.7 kB]
Get:3 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 bash amd64 4.4.18-2ubuntu1 [614 kB]
Get:4 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 locales all 2.27-3ubuntu1 [3,612 kB]
.
.
Get:1477 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 liblouisutdml-bin amd64 2.7.0-1 [9,588 B]
Get:1478 http://in.archive.ubuntu.com/ubuntu bionic/universe amd64 libtbb2 amd64 2017~U7-8 [110 kB]
Get:1479 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 libyajl2 amd64 2.1.0-2build1 [20.0 kB]
Get:1480 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 usb-modeswitch amd64 2.5.2+repack0-2ubuntu1 [53.6 kB]
Get:1481 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 usb-modeswitch-data all 20170806-2 [30.7 kB]
Get:1482 http://in.archive.ubuntu.com/ubuntu bionic/main amd64 xbrlapi amd64 5.5-4ubuntu2 [61.8 kB]
Fetched 999 MB in 6s (721 kB/s)
</code></pre><p>安装新软件包时，很少有服务需要重新启动。 点击 <code>Yes</code> 按钮，它会自动重启所需的服务。</p><pre tabindex=0><code>Upgrading
Inhibiting until Ctrl+C is pressed...
Preconfiguring packages ...
Preconfiguring packages ...
Preconfiguring packages ...
Preconfiguring packages ...
(Reading database ... 441375 files and directories currently installed.)
Preparing to unpack .../base-files_10.1ubuntu2_amd64.deb ...
Warning: Stopping motd-news.service, but it can still be activated by:
 motd-news.timer
Unpacking base-files (10.1ubuntu2) over (9.6ubuntu102) ...
Setting up base-files (10.1ubuntu2) ...
Installing new version of config file /etc/debian_version ...
Installing new version of config file /etc/issue ...
Installing new version of config file /etc/issue.net ...
Installing new version of config file /etc/lsb-release ...
motd-news.service is a disabled or a static unit, not starting it.
(Reading database ... 441376 files and directories currently installed.)
.
.
Progress: [ 80%]

Progress: [ 85%]

Progress: [ 90%]

Progress: [ 95%]
</code></pre><p>现在删除旧版的、系统不再需要的包。点击 <code>y</code> 以删除。</p><pre tabindex=0><code>Searching for obsolete software
 ing package lists... 97%
 ding package lists... 98%
Reading package lists... Done
Building dependency tree
Reading state information... Done
Reading state information... 23%
Reading state information... 47%
Reading state information... 71%
Reading state information... 94%
Reading state information... Done

Remove obsolete packages?


88 packages are going to be removed.

Continue [yN] Details [d]y
.
.
.
done
Removing perlmagick (8:6.9.7.4+dfsg-16ubuntu6) ...
Removing snapd-login-service (1.23-0ubuntu1) ...
Processing triggers for libc-bin (2.27-3ubuntu1) ...
Processing triggers for man-db (2.8.3-2) ...
Processing triggers for dbus (1.12.2-1ubuntu1) ...
Fetched 0 B in 0s (0 B/s)
</code></pre><p>升级成功，需要重启系统。点击 <code>y</code> 以重启系统。</p><pre tabindex=0><code>System upgrade is complete.

Restart required

To finish the upgrade, a restart is required.
If you select &#39;y&#39; the system will be restarted.

Continue [yN]y
</code></pre><p>注意： 少数情况下，会要求您确认配置文件替换以继续安装。</p><p>查看升级后的系统详情：</p><pre tabindex=0><code>$ cat /etc/*-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=18.04
DISTRIB_CODENAME=bionic
DISTRIB_DESCRIPTION=&#34;Ubuntu 18.04 LTS&#34;
NAME=&#34;Ubuntu&#34;
VERSION=&#34;18.04 LTS (Bionic Beaver)&#34;
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME=&#34;Ubuntu 18.04 LTS&#34;
VERSION_ID=&#34;18.04&#34;
HOME_URL=&#34;https://www.ubuntu.com/&#34;
SUPPORT_URL=&#34;https://help.ubuntu.com/&#34;
BUG_REPORT_URL=&#34;https://bugs.launchpad.net/ubuntu/&#34;
PRIVACY_POLICY_URL=&#34;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&#34;
VERSION_CODENAME=bionic
UBUNTU_CODENAME=bionic
</code></pre><hr><p>via: <a href=https://www.2daygeek.com/zzupdate-single-command-to-upgrade-ubuntu-18-04/>https://www.2daygeek.com/zzupdate-single-command-to-upgrade-ubuntu-18-04/</a></p><p>作者：<a href=https://www.2daygeek.com/author/prakash/>PRAKASH SUBRAMANIAN</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/XiatianSummer>XiatianSummer</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/zzupdate/ rel=tag>zzupdate</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>