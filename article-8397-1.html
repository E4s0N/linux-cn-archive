<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>pyinotify：在 Linux 中实时监控文件系统更改 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="pyinotify：在 Linux 中实时监控文件系统更改"><meta property="og:description" content="Pyinotify 是一个简单而有用的 Python 模块，它可用于在 Linux 中实时监控文件系统更改。
作为一名系统管理员，你可以用它来监视你感兴趣的目录的更改，如 Web 目录或程序数据存储目录及其他目录。"><meta property="og:type" content="article"><meta property="og:url" content="/article-8397-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-04-13T11:53:23+00:00"><meta property="article:modified_time" content="2017-04-13T11:53:23+00:00"><meta itemprop=name content="pyinotify：在 Linux 中实时监控文件系统更改"><meta itemprop=description content="Pyinotify 是一个简单而有用的 Python 模块，它可用于在 Linux 中实时监控文件系统更改。
作为一名系统管理员，你可以用它来监视你感兴趣的目录的更改，如 Web 目录或程序数据存储目录及其他目录。"><meta itemprop=datePublished content="2017-04-13T11:53:23+00:00"><meta itemprop=dateModified content="2017-04-13T11:53:23+00:00"><meta itemprop=wordCount content="190"><meta itemprop=keywords content="pyinotify,inotify,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>pyinotify：在 Linux 中实时监控文件系统更改</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2017-04-13T11:53:23Z>April 13, 2017</time></div></div></header><div class="content post__content clearfix"><p><code>Pyinotify</code> 是一个简单而有用的 Python 模块，它可用于在 Linux 中实时<a href=http://www.tecmint.com/fswatch-monitors-files-and-directory-changes-modifications-in-linux/>监控文件系统更改</a>。</p><p>作为一名系统管理员，你可以用它来监视你感兴趣的目录的更改，如 Web 目录或程序数据存储目录及其他目录。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201704/13/115317spul9psb2pzp7q5b.jpg alt></p><p><strong>建议阅读：</strong> <a href=http://www.tecmint.com/fswatch-monitors-files-and-directory-changes-modifications-in-linux/>fswatch - 监控 Linux 中的文件和目录更改或修改</a></p><p>它依赖于 <code>inotify</code>（在内核 2.6.13 中纳入的 Linux 内核功能），它是一个事件驱动的通知程序，其通知通过三个系统调用从内核空间导出到用户空间。</p><p><code>pyinotiy</code> 的目的是绑定这三个系统调用，并在其上提供了一个通用和抽象的方法来操作这些功能。</p><p>在本文中，我们将向你展示如何在 Linux 中安装并使用 <code>pyinotify</code> 来实时监控文件系统更改或修改。</p><h4 id=依赖>依赖</h4><p>要使用 <code>pyinotify</code>，你的系统必须运行：</p><ol><li>Linux kernel 2.6.13 或更高</li><li>Python 2.4 或更高</li></ol><h3 id=如何在-linux-中安装-pyinotify>如何在 Linux 中安装 Pyinotify</h3><p>首先在系统中检查内核和 Python 的版本：</p><pre tabindex=0><code># uname -r 
# python -V
</code></pre><p>一旦依赖满足，我们会使用 <code>pip</code> 安装 <code>pynotify</code>。在大多数 Linux 发行版中，如果你使用的是从 python.org 下载的 <strong>Python 2 （>= 2.7.9）</strong> 或者 <strong>Python 3（ >=3.4）</strong> 的二进制，那么 <code>pip</code> 就已经安装了，否则，就按如下安装：</p><pre tabindex=0><code># yum install python-pip      [On CentOS based Distros]
# apt-get install python-pip  [On Debian based Distros]
# dnf install python-pip      [On Fedora 22+]
</code></pre><p>现在安装 <code>pyinotify</code>：</p><pre tabindex=0><code># pip install pyinotify
</code></pre><p>它会从默认仓库安装可用的版本，如果你想要最新的稳定版，可以按如下从 git 仓库 clone 下来：</p><pre tabindex=0><code># git clone https://github.com/seb-m/pyinotify.git
# cd pyinotify/
# ls
# python setup.py install
</code></pre><h3 id=如何在-linux-中使用-pyinotify>如何在 Linux 中使用 pyinotify</h3><p>在下面的例子中，我以 root 用户（通过 ssh 登录）监视了用户 tecmint 的家目录（<code>/home/tecmint</code>）下的改变，如截图所示：</p><pre tabindex=0><code># python -m pyinotify -v /home/tecmint
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201704/13/115326wh2ia8s82sj44sn4.png alt="Monitor Directory Changes"></p><p><em>监视目录更改</em></p><p>接下来，我会观察到任何 web 目录 （<code>/var/www/html/tecmint.com</code>） 的更改：</p><pre tabindex=0><code># python -m pyinotify -v /var/www/html/tecmint.com
</code></pre><p>要退出程序，只要按下 <code>Ctrl+C</code>。</p><p><strong>注意</strong>：当你在运行 <code>pyinotify</code> 时如果没有指定要监视的目录，<code>/tmp</code> 将作为默认目录。</p><p>可以在 Github 上了解更多 Pyinotify 信息：<a href=https://github.com/seb-m/pyinotify>https://github.com/seb-m/pyinotify</a>。</p><p>就是这样了！在本文中，我们向你展示了如何安装及使用 <code>pyinotify</code>，一个在 Linux 中监控文件系统更改的有用的 Python 模块。</p><p>你有遇到类似的 Python 模块或者相关的 <a href=http://tecmint.com/tag/commandline-tools>Linux 工具/小程序</a>么？请在评论中让我们了解，或许你也可以询问与这篇文章相关的问题。</p><hr><p>作者简介：</p><p>Aaron Kili 是 Linux 和 F.O.S.S 爱好者，将来的 Linux 系统管理员和网络开发人员，目前是 TecMint 的内容创作者，他喜欢用电脑工作，并坚信分享知识。</p><hr><p>via: <a href=http://www.tecmint.com/pyinotify-monitor-filesystem-directory-changes-in-linux/>http://www.tecmint.com/pyinotify-monitor-filesystem-directory-changes-in-linux/</a></p><p>作者：<a href=http://www.tecmint.com/author/aaronkili/>Aaron Kili</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/jasminepeng>jasminepeng</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/pyinotify/ rel=tag>pyinotify</a></li><li class=tags__item><a class="tags__link btn" href=/tags/inotify/ rel=tag>inotify</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>