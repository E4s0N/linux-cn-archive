<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>PHP 5.5 / PHP5.6 / PHP-NG 和 HHVM 哪个性能更好？ - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="PHP 5.5 / PHP5.6 / PHP-NG 和 HHVM 哪个性能更好？"><meta property="og:description" content="摘要：在一个基于Vagrant的本地环境中，可能是某个错误的原因，导致HHVM测试结果很差；在HHVM伙伴们协助下，该原因仍在研究中！然而，在DigitalOcean的一个4GB虚拟机中，HHVM甚至盖过了最新版的PHP-NG的风头！  结论：它们反映出HHVM的功效更佳（在JIT热启动后），虽然出于某些原因，我们不能在所有装备中获取这些结果。 如果你记得我们在几个月前写过一篇文章，那时WordPress 3.9表明是完全支持HHVM的，当时是那么令我们欢欣鼓舞。最初的基准测试结果显示，HHVM要比驱动着当前所有PHP构建的Zend引擎高级得多。后来，问题就出来了：  HHVM"><meta property="og:type" content="article"><meta property="og:url" content="/article-5224-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-04-08T09:40:00+00:00"><meta property="article:modified_time" content="2015-04-08T09:40:00+00:00"><meta itemprop=name content="PHP 5.5 / PHP5.6 / PHP-NG 和 HHVM 哪个性能更好？"><meta itemprop=description content="摘要：在一个基于Vagrant的本地环境中，可能是某个错误的原因，导致HHVM测试结果很差；在HHVM伙伴们协助下，该原因仍在研究中！然而，在DigitalOcean的一个4GB虚拟机中，HHVM甚至盖过了最新版的PHP-NG的风头！  结论：它们反映出HHVM的功效更佳（在JIT热启动后），虽然出于某些原因，我们不能在所有装备中获取这些结果。 如果你记得我们在几个月前写过一篇文章，那时WordPress 3.9表明是完全支持HHVM的，当时是那么令我们欢欣鼓舞。最初的基准测试结果显示，HHVM要比驱动着当前所有PHP构建的Zend引擎高级得多。后来，问题就出来了：  HHVM"><meta itemprop=datePublished content="2015-04-08T09:40:00+00:00"><meta itemprop=dateModified content="2015-04-08T09:40:00+00:00"><meta itemprop=wordCount content="263"><meta itemprop=keywords content="PHP,PHP-NG,HHVM,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>PHP 5.5 / PHP5.6 / PHP-NG 和 HHVM 哪个性能更好？</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-04-08T09:40:00Z>April 08, 2015</time></div></div></header><div class="content post__content clearfix"><p><strong>摘要：在一个基于Vagrant的本地环境中，可能是某个错误的原因，导致HHVM测试结果很差；在HHVM伙伴们协助下，该原因仍在研究中！然而，在DigitalOcean的一个4GB虚拟机中，HHVM甚至盖过了最新版的PHP-NG的风头！</strong></p><p><img src=/data/attachment/album/201504/07/234331p3bmkxwx500xxf5s.jpg alt></p><p><strong>结论：它们反映出HHVM的功效更佳（在JIT热启动后），虽然出于某些原因，我们不能在所有装备中获取这些结果。</strong></p><p>如果你记得我们<a href=https://kinsta.com/blog/hhvm-and-wordpress/>在几个月前写过一篇文章</a>，那时WordPress 3.9表明是完全支持HHVM的，当时是那么令我们欢欣鼓舞。最初的基准测试结果显示，HHVM要比驱动着当前所有PHP构建的Zend引擎高级得多。后来，问题就出来了：</p><ul><li>HHVM只能以单个用户运行，这意味着（在共享环境中）安全性差了</li><li>HHVM在崩溃后不会自动重启，而不幸的是，它至今仍然经常发生</li><li>HHVM在启动时使用大量内存，虽然，它和同规模的PHP-FPM比较，单个请求的内存使用量更低</li></ul><p>很显然，你不得不根据你的（或者更确切地说是你的站点）的需求采取折中方案，然而这值得吗？切换到HHVM后，你期望获得多少性能改善呢？</p><p>在Kinsta，我们真的想要测试所有新技术，并通常会优化这一切来为我们的客户提供最佳的环境。今天，我最终花了点时间来配置测试环境并进行了一些测试来对比两个不同的构建，一个是全新出炉的WordPress安装，另外一个则添加了大量内容的WooCommerce！为了计量脚本的运行时间，我只是简单地添加了</p><pre tabindex=0><code>&lt;?php timer_stop(1); ?&gt;
</code></pre><p>这一行到footer.php的/body标记前。</p><p>这里是配置环境的详情：</p><ul><li>DigitalOcean 4GB 雨滴容器 (2 CPU核心, 4GB RAM)</li><li>Ubuntu 14.04, MariaDB10</li><li>测试站点： 已导入演示内容的Munditia主题，WooCommerce 2.1.12 & WordPress 3.9.1</li><li>PHP 5.5.9, PHP 5.5.15, PHP 5.6.0 RC2, PHP-NG （20140718-git-6cc487d）和HHVM 3.2.0 （版本是PHP 5.6.99-hhvm）</li></ul><p><strong>没有进一步大费周章，这些就是我的测试结果，数值越低越好，以秒为单位：</strong></p><h3 id=digitalocean-4gb-雨滴容器>DigitalOcean 4GB 雨滴容器</h3><p>单位是秒，运行10次，越低越好</p><p><img src=/data/attachment/album/201504/07/234146hvke5qwoe41e405p.png alt></p><p>看起来似乎PHP-NG在它首次运行后就获得了峰值性能！HHVM需要更多几次重载，但是它们的性能貌似差不多！我等不及PHP-NG合并到开发主干了！：）</p><p>一分钟命中数，越高越好。</p><p><img src=/data/attachment/album/201504/07/234214demrp6k0zkzgooz8.png alt></p><p><strong>PHP 5.5.15禁用OpCache</strong></p><ul><li>执行： <strong>236 hits</strong></li><li>可用性： 100.00 %</li><li>消耗时间： 59.03 secs</li><li>传输的数据： 2.40 MB</li><li>回应时间： 2.47 secs</li><li>执行率： 4.00 trans/sec</li><li>吞吐量： 0.04 MB/sec</li><li>并发数： 9.87</li><li>成功的执行： 236</li><li>失败的执行： 0</li><li>最长执行： 4.44</li><li>最短执行： 0.48</li></ul><p><strong>PHP 5.5.15启用OpCache</strong></p><ul><li>执行： <strong>441 hits</strong></li><li>可用性： 100.00 %</li><li>消耗时间： 59.55 secs</li><li>传输的数据： 4.48 MB</li><li>回应时间： 1.34 secs</li><li>执行率： 7.41 trans/sec</li><li>吞吐量： 0.08 MB/sec</li><li>并发数： 9.91</li><li>成功的执行： 441</li><li>失败的执行： 0</li><li>最长执行： 2.19</li><li>最短执行： 0.64</li></ul><p><strong>PHP 5.6 RC2禁用OpCache</strong></p><ul><li>执行： <strong>207 hits</strong></li><li>可用性： 100.00 %</li><li>消耗时间： 59.87 secs</li><li>传输的数据： 2.10 MB</li><li>回应时间： 2.80 secs</li><li>执行率： 3.46 trans/sec</li><li>吞吐量： 0.04 MB/sec</li><li>并发数： 9.68</li><li>成功的执行： 207</li><li>失败的执行： 0</li><li>最长执行： 3.65</li><li>最短执行： 0.54</li></ul><p><strong>PHP 5.6 RC2启用OpCache</strong></p><ul><li>执行： <strong>412 hits</strong></li><li>可用性： 100.00 %</li><li>消耗时间： 59.03 secs</li><li>传输的数据： 4.18 MB</li><li>回应时间： 1.42 secs</li><li>执行率： 6.98 trans/sec</li><li>吞吐量： 0.07 MB/sec</li><li>并发数： 9.88</li><li>成功的执行： 412</li><li>失败的执行： 0</li><li>最长执行： 1.93</li><li>最短执行： 0.34</li></ul><p><strong>HHVM 3.2.0（版本是PHP 5.6.99-hhvm）</strong></p><ul><li>执行： <strong>955 hits</strong></li><li>可用性： 100.00 %</li><li>消耗时间： 59.69 secs</li><li>传输的数据： 9.18 MB</li><li>回应时间： 0.62 secs</li><li>执行率： 16.00 trans/sec</li><li>吞吐量： 0.15 MB/sec</li><li>并发数： 9.94</li><li>成功的执行： 955</li><li>失败的执行： 0</li><li>最长执行： 0.85</li><li>最短执行： 0.23</li></ul><p><strong>PHP-NG启用OpCache（构建: Jul 29 2014）</strong></p><ul><li>执行： <strong>849 hits</strong></li><li>可用性： 100.00 %</li><li>消耗时间： 59.88 secs</li><li>传输的数据： 8.63 MB</li><li>回应时间： 0.70 secs</li><li>执行率： 14.18 trans/sec</li><li>吞吐量： 0.14 MB/sec</li><li>并发数： 9.94</li><li>成功的执行： 849</li><li>失败的执行： 0</li><li>最长执行： 1.06</li><li>最短执行： 0.13</li></ul><p><strong>注意：这里节略了前一次的测试结果（有误），如感兴趣请访问原文查看。</strong></p><hr><p>via: <a href=https://kinsta.com/blog/real-world-wordpress-benchmarks-with-php5-5-php5-6-php-ng-and-hhvm/>https://kinsta.com/blog/real-world-wordpress-benchmarks-with-php5-5-php5-6-php-ng-and-hhvm/</a></p><p>作者：<a href=https://kinsta.com/blog/author/kinstadmin/>Mark Gavalda</a> 译者：<a href=https://github.com/GOLinux>GOLinux</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/php/ rel=tag>PHP</a></li><li class=tags__item><a class="tags__link btn" href=/tags/php-ng/ rel=tag>PHP-NG</a></li><li class=tags__item><a class="tags__link btn" href=/tags/hhvm/ rel=tag>HHVM</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>