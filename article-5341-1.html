<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>安装完最小化 RHEL/CentOS 7 后需要做的 30 件事情（一） - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="安装完最小化 RHEL/CentOS 7 后需要做的 30 件事情（一）"><meta property="og:description" content="CentOS 是一个工业标准的 Linux 发行版，是红帽企业版 Linux 的衍生版本。你安装完后马上就可以使用，但是为了更好地使用你的系统，你需要进行一些升级、安装新的软件包、配置特定服务和应用程序等操作。 这篇文章介绍了 安装完 RHEL/CentOS 7 后需要做的 30 件事情。阅读帖子的时候请先完成 RHEL/CentOS 最小化安装，这是首选的企业和生产环境。如果还没有，你可以按照下面的指南，它会告诉你两者的最小化安装方法。  最小化安装 CentOS 7 最小化安装 RHEL 7  我们会基于工业标准的需求来介绍以下列出的这些重要工作。我们希望这些东西在"><meta property="og:type" content="article"><meta property="og:url" content="/article-5341-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-04-27T15:19:00+00:00"><meta property="article:modified_time" content="2015-04-27T15:19:00+00:00"><meta itemprop=name content="安装完最小化 RHEL/CentOS 7 后需要做的 30 件事情（一）"><meta itemprop=description content="CentOS 是一个工业标准的 Linux 发行版，是红帽企业版 Linux 的衍生版本。你安装完后马上就可以使用，但是为了更好地使用你的系统，你需要进行一些升级、安装新的软件包、配置特定服务和应用程序等操作。 这篇文章介绍了 安装完 RHEL/CentOS 7 后需要做的 30 件事情。阅读帖子的时候请先完成 RHEL/CentOS 最小化安装，这是首选的企业和生产环境。如果还没有，你可以按照下面的指南，它会告诉你两者的最小化安装方法。  最小化安装 CentOS 7 最小化安装 RHEL 7  我们会基于工业标准的需求来介绍以下列出的这些重要工作。我们希望这些东西在"><meta itemprop=datePublished content="2015-04-27T15:19:00+00:00"><meta itemprop=dateModified content="2015-04-27T15:19:00+00:00"><meta itemprop=wordCount content="423"><meta itemprop=keywords content="CentOS 7,RHEL 7,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>安装完最小化 RHEL/CentOS 7 后需要做的 30 件事情（一）</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-04-27T15:19:00Z>April 27, 2015</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201504/27/151948jz881a61rj66up58.png alt></p><p>CentOS 是一个工业标准的 Linux 发行版，是红帽企业版 Linux 的衍生版本。你安装完后马上就可以使用，但是为了更好地使用你的系统，你需要进行一些升级、安装新的软件包、配置特定服务和应用程序等操作。</p><p>这篇文章介绍了 “安装完 RHEL/CentOS 7 后需要做的 30 件事情”。阅读帖子的时候请先完成 RHEL/CentOS 最小化安装，这是首选的企业和生产环境。如果还没有，你可以按照下面的指南，它会告诉你两者的最小化安装方法。</p><ul><li><a href=http://www.tecmint.com/centos-7-installation/>最小化安装 CentOS 7</a></li><li><a href=http://www.tecmint.com/redhat-enterprise-linux-7-installation/>最小化安装 RHEL 7</a></li></ul><p>我们会基于工业标准的需求来介绍以下列出的这些重要工作。我们希望这些东西在你配置服务器的时候能有所帮助。</p><ol><li>注册并启用红帽订阅</li><li>使用静态 IP 地址配置网络</li><li>设置服务器的主机名称</li><li>更新或升级最小化安装的 CentOS</li><li>安装命令行 Web 浏览器</li><li>安装 Apache HTTP 服务器</li><li>安装 PHP</li><li>安装 MariaDB 数据库</li><li>安装并配置 SSH 服务器</li><li>安装 GCC (GNU 编译器集)</li><li>安装 Java</li><li>安装 Apache Tomcat</li><li>安装 Nmap 检查开放端口</li><li>配置防火墙</li><li>安装 Wget</li><li>安装 Telnet</li><li>安装 Webmin</li><li>启用第三方库</li><li>安装 7-zip 工具</li><li>安装 NTFS-3G 驱动</li><li>安装 Vsftpd FTP 服务器</li><li>安装和配置 sudo</li><li>安装并启用 SELinux</li><li>安装 Rootkit Hunter</li><li>安装 Linux Malware Detect (LMD)</li><li>用 Speedtest-cli 测试服务器带宽</li><li>配置 Cron 作业</li><li>安装 Owncloud</li><li>启用 VirtualBox 虚拟化</li><li>用密码保护 GRUB</li></ol><p>（LCTT 译注：关于 CentOS/RHEL 7的更多信息，请参考专题：<a href=http://www.linux.cn/topic-centos7.html>http://www.linux.cn/topic-centos7.html</a> ）</p><h3 id=1-注册并启用红帽订阅>1. 注册并启用红帽订阅</h3><p>RHEL 7 最小化安装完成后，就应该注册并启用系统红帽订阅库， 并执行一个完整的系统更新。这只当你有一个可用的红帽订阅时才能有用。你要注册才能启用官方红帽系统库，并时不时进行操作系统更新。（LCTT 译注：订阅服务是收费的）</p><p>在下面的指南中我们已经包括了一个如何注册并激活红帽订阅的详细说明。</p><ul><li><a href=http://www.tecmint.com/enable-redhat-subscription-reposiories-and-updates-for-rhel-7/>在 RHEL 7 中注册并启用红帽订阅</a></li></ul><p><strong>注意</strong>: 这一步仅适用于有一个有效订阅的红帽企业版 Linux。如果你用的是 CentOS 服务器，请查看后面的章节。</p><h3 id=2-使用静态-ip-地址配置网络>2. 使用静态 IP 地址配置网络</h3><p>你第一件要做的事情就是为你的 CentOS 服务器配置静态 IP 地址、路由以及 DNS。我们会使用 ip 命令代替 ifconfig 命令。当然，ifconfig 命令对于大部分 Linux 发行版来说还是可用的，还能从默认库安装。</p><pre tabindex=0><code># yum install net-tools             [它提供 ifconfig 工具，如果你不习惯 ip 命令，还可以使用它]
</code></pre><p><img src=/data/attachment/album/201504/27/151951oeeewafswse9rt9f.jpg alt="在 Linux 上安装 ifconfig"></p><p>（LCTT 译注：关于 ip 命令的使用，请参照：<a href=http://www.linux.cn/article-3631-1.html>http://www.linux.cn/article-3631-1.html</a> ）</p><p>但正如我之前说，我们会使用 ip 命令来配置静态 IP 地址。所以，确认你首先检查了当前的 IP 地址。</p><pre tabindex=0><code># ip addr show
</code></pre><p><img src=/data/attachment/album/201504/27/151951l7a3ba7m5fm421mt.jpg alt="在 CentOS 查看 IP 地址"></p><p>现在用你的编辑器打开并编辑文件 /etc/sysconfig/network-scripts/ifcfg-enp0s3 （LCTT 译注：你的网卡名称可能不同，如果希望修改为老式网卡名称，参考：<a href=http://www.linux.cn/article-4045-1.html>http://www.linux.cn/article-4045-1.html</a> ）。这里，我使用 vi 编辑器，另外你要确保你是 root 用户才能保存更改。</p><pre tabindex=0><code># vi /etc/sysconfig/network-scripts/ifcfg-enp0s3
</code></pre><p>我们会编辑文件中的四个地方。注意下面的四个地方并保证不碰任何其它的东西。也保留双引号，在它们中间输入你的数据。</p><pre tabindex=0><code>IPADDR = &#34;[在这里输入你的静态 IP]&#34;
GATEWAY = &#34;[输入你的默认网关]&#34;
DNS1 = &#34;[你的DNS 1]&#34;
DNS2 = &#34;[你的DNS 2]&#34;
</code></pre><p>更改了 ‘ifcfg-enp0s3’ 之后，它看起来像下面的图片。注意你的 IP，网关和 DNS 可能会变化，请和你的 ISP(译者注：互联网服务提供商，即给你提供接入的服务的电信或 IDC) 确认。保存并退出。</p><p><img src=/data/attachment/album/201504/27/151952rjc15ub2ojifg9zn.jpg alt=网络详情></p><p><em>网络详情</em></p><p>重启网络服务并检查 IP 是否和分配的一样。如果一切都顺利，用 Ping 查看网络状态。</p><pre tabindex=0><code># service network restart
</code></pre><p><img src=/data/attachment/album/201504/27/151952i6v6rxxezvxq16z6.jpg alt=重启网络服务></p><p><em>重启网络服务</em></p><p>重启网络后，确认检查了 IP 地址和网络状态。</p><pre tabindex=0><code># ip addr show
# ping -c4 google.com
</code></pre><p><img src=/data/attachment/album/201504/27/151953ml62hlhry2v0dlg0.jpg alt="验证 IP 地址"></p><p><em>验证 IP 地址</em></p><p><img src=/data/attachment/album/201504/27/151953t9kunzlkypyrly5d.jpg alt=检查网络状态></p><p><em>检查网络状态</em></p><p>（LCTT 译注：关于设置静态 IP 地址的更多信息，请参照：<a href=http://www.linux.cn/article-3977-1.html>http://www.linux.cn/article-3977-1.html</a> ）</p><h3 id=3-设置服务器的主机名称>3. 设置服务器的主机名称</h3><p>下一步是更改 CentOS 服务器的主机名称。查看当前分配的主机名称。</p><pre tabindex=0><code># echo $HOSTNAME
</code></pre><p><img src=/data/attachment/album/201504/27/151953iyz7224vn46t362r.jpg alt=查看系统主机名称></p><p><em>查看系统主机名称</em></p><p>要设置新的主机名称，我们需要编辑 ‘/etc/hostsname’ 文件并用想要的名称替换旧的主机名称。</p><pre tabindex=0><code># vi /etc/hostname
</code></pre><p><img src=/data/attachment/album/201504/27/151954ec4q5i5zphsil445.jpg alt="在 CentOS 中设置主机名称"></p><p><em>在 CentOS 中设置主机名称</em></p><p>设置完了主机名称之后，务必注销后重新登录确认主机名称。登录后检查新的主机名称。</p><pre tabindex=0><code>$ echo $HOSTNAME
</code></pre><p><img src=/data/attachment/album/201504/27/151954lb4pd12v448zm4bs.jpg alt=确认主机名称></p><p><em>确认主机名称</em></p><p>你也可以用 ‘hostname’ 命令查看你当前的主机名。</p><pre tabindex=0><code>$ hostname
</code></pre><p>（LCTT 译注：关于设置静态、瞬态和灵活主机名的更多信息，请参考：<a href=http://www.linux.cn/article-3937-1.html>http://www.linux.cn/article-3937-1.html</a> ）</p><h3 id=4-更新或升级最小化安装的-centos>4. 更新或升级最小化安装的 CentOS</h3><p>这样做除了更新安装已有的软件最新版本以及安全升级，不会安装任何新的软件。总的来说更新（update）和升级（upgrade）是相同的，除了事实上 升级 = 更新 + 更新时进行废弃处理。</p><pre tabindex=0><code># yum update &amp;&amp; yum upgrade
</code></pre><p><img src=/data/attachment/album/201504/27/151955xcnq8vais7vvuys8.jpg alt="更新最小化安装的 CentOS 服务器"></p><p><em>更新最小化安装的 CentOS 服务器</em></p><p><strong>重要</strong>: 你也可以运行下面的命令，这不会弹出软件更新的提示，你也就不需要输入 ‘y’ 接受更改。</p><p>然而，查看服务器上会发生的变化总是一个好主意，尤其是在生产中。因此使用下面的命令虽然可以为你自动更新和升级，但并不推荐。</p><pre tabindex=0><code># yum -y update &amp;&amp; yum -y upgrade
</code></pre><h3 id=5-安装命令行-web-浏览器>5. 安装命令行 Web 浏览器</h3><p>大部分情况下，尤其是在生产环境中，我们通常用没有 GUI 的命令行安装 CentOS，在这种情况下我们必须有一个能通过终端查看网站的命令行浏览工具。为了实现这个目的，我们打算安装名为 ‘links’ 的著名工具。</p><pre tabindex=0><code># yum install links
</code></pre><p><img src=/data/attachment/album/201504/27/151955rffl5ihb5s5cjknr.jpg alt=安装命令行浏览器></p><p><em>Links: 命令行 Web 浏览器</em></p><p>请查看我们的文章 <a href=http://www.tecmint.com/command-line-web-browsers/>用 links 工具命令行浏览 Web</a> 了解用 links 工具浏览 web 的方法和例子。</p><h3 id=6-安装-apache-http-服务器>6. 安装 Apache HTTP 服务器</h3><p>不管你因为什么原因使用服务器，大部分情况下你都需要一个 HTTP 服务器运行网站、多媒体、用户端脚本和很多其它的东西。</p><pre tabindex=0><code># yum install httpd
</code></pre><p><img src=/data/attachment/album/201504/27/151956k9sc9h6quq5jdsb6.jpg alt="在 CentOS 上安装 Apache"></p><p><em>安装 Apache 服务器</em></p><p>如果你想更改 Apache HTTP 服务器的默认端口号(80)为其它端口，你需要编辑配置文件 ‘/etc/httpd/conf/httpd.conf’ 并查找以下面开始的行：</p><pre tabindex=0><code>LISTEN 80 
</code></pre><p>把端口号 ‘80’ 改为其它任何端口(例如 3221)，保存并退出。</p><p><img src=/data/attachment/album/201504/27/151956inck0k662l66kc88.jpg alt="在 CentOS 上更改 Apache 端口"></p><p><em>更改 Apache 端口</em></p><p>增加刚才分配给 Apache 的端口通过防火墙，然后重新加载防火墙。</p><p>允许 http 服务通过防火墙(永久)。</p><pre tabindex=0><code># firewall-cmd –add-service=http
</code></pre><p>允许 3221 号端口通过防火墙(永久)。</p><pre tabindex=0><code># firewall-cmd –permanent –add-port=3221/tcp
</code></pre><p>重新加载防火墙。</p><pre tabindex=0><code># firewall-cmd –reload
</code></pre><p>（LCTT 译注：关于 firewall 的进一步使用，请参照：<a href=http://www.linux.cn/article-4425-1.html>http://www.linux.cn/article-4425-1.html</a> ）</p><p>完成上面的所有事情之后，是时候重启 Apache HTTP 服务器了，然后新的端口号才能生效。</p><pre tabindex=0><code># systemctl restart httpd.service
</code></pre><p>现在添加 Apache 服务到系统层使其随系统自动启动。</p><pre tabindex=0><code># systemctl start httpd.service
# systemctl enable httpd.service
</code></pre><p>（LCTT 译注：关于 systemctl 的进一步使用，请参照：<a href=http://www.linux.cn/article-3719-1.html>http://www.linux.cn/article-3719-1.html</a> ）</p><p>如下图所示，用 links 命令行工具 验证 Apache HTTP 服务器。</p><pre tabindex=0><code># links 127.0.0.1
</code></pre><p><img src=/data/attachment/album/201504/27/151957kcjayjmqrr0czwmw.jpg alt="验证 Apache 状态"></p><p><em>验证 Apache 状态</em></p><hr><p>via: <a href=http://www.tecmint.com/things-to-do-after-minimal-rhel-centos-7-installation/>http://www.tecmint.com/things-to-do-after-minimal-rhel-centos-7-installation/</a></p><p>作者：<a href=http://www.tecmint.com/author/avishek/>Avishek Kumar</a> 译者：<a href=https://github.com/ictlyh>ictlyh</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/centos-7/ rel=tag>CentOS 7</a></li><li class=tags__item><a class="tags__link btn" href=/tags/rhel-7/ rel=tag>RHEL 7</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>