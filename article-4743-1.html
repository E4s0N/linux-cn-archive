<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>10个重要的Linux ps命令实战 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="10个重要的Linux ps命令实战"><meta property="og:description" content="Linux作为Unix的衍生操作系统，Linux内建有查看当前进程的工具ps。这个工具能在命令行中使用。  PS 命令是什么 查看它的man手册可以看到，ps命令能够给出当前系统中进程的快照。它能捕获系统在某一事件的进程状态。如果你想不断更新查看的这个状态，可以使用top命令。 ps命令支持三种使用的语法格式  UNIX 风格，选项可以组合在一起，并且选项前必须有-连字符 BSD 风格，选项可以组合在一起，但是选项前不能有-连字符 GNU 风格的长选项，选项前有两个-连字符  我们能够混用这几种风格，但是可能会发生冲突。本文使用 UNIX 风格的ps命令。"><meta property="og:type" content="article"><meta property="og:url" content="/article-4743-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-01-26T07:34:00+00:00"><meta property="article:modified_time" content="2015-01-26T07:34:00+00:00"><meta itemprop=name content="10个重要的Linux ps命令实战"><meta itemprop=description content="Linux作为Unix的衍生操作系统，Linux内建有查看当前进程的工具ps。这个工具能在命令行中使用。  PS 命令是什么 查看它的man手册可以看到，ps命令能够给出当前系统中进程的快照。它能捕获系统在某一事件的进程状态。如果你想不断更新查看的这个状态，可以使用top命令。 ps命令支持三种使用的语法格式  UNIX 风格，选项可以组合在一起，并且选项前必须有-连字符 BSD 风格，选项可以组合在一起，但是选项前不能有-连字符 GNU 风格的长选项，选项前有两个-连字符  我们能够混用这几种风格，但是可能会发生冲突。本文使用 UNIX 风格的ps命令。"><meta itemprop=datePublished content="2015-01-26T07:34:00+00:00"><meta itemprop=dateModified content="2015-01-26T07:34:00+00:00"><meta itemprop=wordCount content="254"><meta itemprop=keywords content="ps,进程,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>10个重要的Linux ps命令实战</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-01-26T07:34:00Z>January 26, 2015</time></div></div></header><div class="content post__content clearfix"><p>Linux作为Unix的衍生操作系统，Linux内建有查看当前进程的工具ps。这个工具能在命令行中使用。</p><p><img src=/data/attachment/album/201501/25/233930c0ze2crfeqxeexwu.jpg alt></p><h3 id=ps-命令是什么>PS 命令是什么</h3><p>查看它的man手册可以看到，ps命令能够给出当前系统中进程的快照。它能捕获系统在某一事件的进程状态。如果你想不断更新查看的这个状态，可以使用top命令。</p><p>ps命令支持三种使用的语法格式</p><ol><li>UNIX 风格，选项可以组合在一起，并且选项前必须有“-”连字符</li><li>BSD 风格，选项可以组合在一起，但是选项前不能有“-”连字符</li><li>GNU 风格的长选项，选项前有两个“-”连字符</li></ol><p>我们能够混用这几种风格，但是可能会发生冲突。本文使用 UNIX 风格的ps命令。这里有在日常生活中使用较多的ps命令的例子。</p><h3 id=1-不加参数执行ps命令>1. 不加参数执行ps命令</h3><p>这是一个基本的 <strong>ps</strong> 使用。在控制台中执行这个命令并查看结果。</p><p><img src=/data/attachment/album/201501/25/233938qmgppp33dwzi7yzf.png alt=不加选项执行ps命令></p><p>结果默认会显示4列信息。</p><ul><li>PID: 运行着的命令(CMD)的进程编号</li><li>TTY: 命令所运行的位置（终端）</li><li>TIME: 运行着的该命令所占用的CPU处理时间</li><li>CMD: 该进程所运行的命令</li></ul><p>这些信息在显示时未排序。</p><h3 id=2-显示所有当前进程>2. 显示所有当前进程</h3><p>使用 <strong>-a</strong> 参数。<strong>-a 代表 all</strong>。同时加上x参数会显示没有控制终端的进程。</p><pre tabindex=0><code>$ ps -ax
</code></pre><p>这个命令的结果或许会很长。为了便于查看，可以结合less命令和管道来使用。</p><pre tabindex=0><code>$ ps -ax | less
</code></pre><p><img src=/data/attachment/album/201501/25/233940xel3ufv3k5v2vm4z.png alt="ps all 信息"></p><h3 id=3-根据用户过滤进程>3. 根据用户过滤进程</h3><p>在需要查看特定用户进程的情况下，我们可以使用 <strong>-u</strong> 参数。比如我们要查看用户&rsquo;pungki&rsquo;的进程，可以通过下面的命令：</p><pre tabindex=0><code>$ ps -u pungki
</code></pre><p><img src=/data/attachment/album/201501/25/233941kadate1eaq0uq11z.png alt=通过用户过滤></p><h3 id=4-通过cpu和内存使用来过滤进程>4. 通过cpu和内存使用来过滤进程</h3><p>也许你希望把结果按照 CPU 或者内存用量来筛选，这样你就找到哪个进程占用了你的资源。要做到这一点，我们可以使用 <strong>aux 参数</strong>，来显示全面的信息:</p><pre tabindex=0><code>$ ps -aux | less
</code></pre><p><img src=/data/attachment/album/201501/25/233942v744wacwmj00ww6m.png alt=显示全面信息></p><p>当结果很长时，我们可以使用管道和less命令来筛选。</p><p>默认的结果集是未排好序的。可以通过 <strong>&ndash;sort</strong>命令来排序。</p><p>根据 <strong>CPU 使用</strong>来升序排序</p><pre tabindex=0><code>$ ps -aux --sort -pcpu | less
</code></pre><p><img src=/data/attachment/album/201501/25/233944u3221ih11w94i1e1.png alt=根据cpu使用排序></p><p>根据 <strong>内存使用</strong> 来升序排序</p><pre tabindex=0><code>$ ps -aux --sort -pmem | less
</code></pre><p><img src=/data/attachment/album/201501/25/233945v0ghd4ewbhzzt0f0.png alt=根据内存使用来排序></p><p>我们也可以将它们合并到一个命令，并通过管道显示前10个结果：</p><pre tabindex=0><code>$ ps -aux --sort -pcpu,+pmem | head -n 10
</code></pre><h3 id=5-通过进程名和pid过滤>5. 通过进程名和PID过滤</h3><p>使用 <strong>-C 参数</strong>，后面跟你要找的进程的名字。比如想显示一个名为getty的进程的信息，就可以使用下面的命令：</p><pre tabindex=0><code>$ ps -C getty
</code></pre><p><img src=/data/attachment/album/201501/25/233946pcw0ckciee14w6wt.png alt=通过进程名和PID过滤></p><p>如果想要看到更多的细节，我们可以使用-f参数来查看格式化的信息列表：</p><pre tabindex=0><code>$ ps -f -C getty
</code></pre><p><img src=/data/attachment/album/201501/25/233947r6g66w1p6ds75d3g.png alt=通过进程名和PID过滤></p><h3 id=6-根据线程来过滤进程>6. 根据线程来过滤进程</h3><p>如果我们想知道特定进程的线程，可以使用**-L 参数**，后面加上特定的PID。</p><pre tabindex=0><code>$ ps -L 1213
</code></pre><p><img src=/data/attachment/album/201501/25/233948lidpli3t533atlie.png alt=根据线程来过滤进程></p><h3 id=7-树形显示进程>7. 树形显示进程</h3><p>有时候我们希望以树形结构显示进程，可以使用 <strong>-axjf</strong> 参数。</p><pre tabindex=0><code>$ps -axjf
</code></pre><p><img src=/data/attachment/album/201501/25/233950h5ws44wshv5sz5xd.png alt=树形显示进程></p><p>或者可以使用另一个命令。</p><pre tabindex=0><code>$ pstree
</code></pre><p><img src=/data/attachment/album/201501/25/233952a3sqm33t5qf5195v.png alt=树形显示进程></p><h3 id=8-显示安全信息>8. 显示安全信息</h3><p>如果想要查看现在有谁登入了你的服务器。可以使用ps命令加上相关参数:</p><pre tabindex=0><code>$ ps -eo pid,user,args
</code></pre><p><strong>参数 -e</strong> 显示所有进程信息，<strong>-o 参数</strong>控制输出。<strong>Pid</strong>,<strong>User 和 Args</strong>参数显示<strong>PID，运行应用的用户</strong>和<strong>该应用</strong>。</p><p><img src=/data/attachment/album/201501/25/233953mo9i92auznn2o425.png alt=显示安全信息></p><p>能够与**-e 参数** 一起使用的关键字是<strong>args, cmd, comm, command, fname, ucmd, ucomm, lstart, bsdstart 和 start</strong>。</p><h3 id=9-格式化输出root用户真实的或有效的uid创建的进程>9. 格式化输出root用户（真实的或有效的UID）创建的进程</h3><p>系统管理员想要查看由root用户运行的进程和这个进程的其他相关信息时，可以通过下面的命令:</p><pre tabindex=0><code>$ ps -U root -u root u
</code></pre><p><strong>-U 参数</strong>按真实用户ID(RUID)筛选进程，它会从用户列表中选择真实用户名或 ID。真实用户即实际创建该进程的用户。</p><p><strong>-u</strong> 参数用来筛选有效用户ID（EUID）。</p><p>最后的<strong>u</strong>参数用来决定以针对用户的格式输出，由<strong>User, PID, %CPU, %MEM, VSZ, RSS, TTY, STAT, START, TIME 和 COMMAND</strong>这几列组成。</p><p>这里有上面的命令的输出结果：</p><p><img src=/data/attachment/album/201501/25/233954viyztzzw6i976ppl.png alt="show real and effective User ID"></p><h3 id=10-使用ps实时监控进程状态>10. 使用PS实时监控进程状态</h3><p>ps 命令会显示你系统当前的进程状态，但是这个结果是静态的。</p><p>当有一种情况，我们需要像上面第四点中提到的通过CPU和内存的使用率来筛选进程，并且我们希望结果能够每秒刷新一次。为此，我们可以<strong>将ps命令和watch命令结合起来</strong>。</p><pre tabindex=0><code>$ watch -n 1 ‘ps -aux --sort -pmem, -pcpu’
</code></pre><p><img src=/data/attachment/album/201501/25/233956qw67614nnx74q11p.png alt="组合 ps 和 watch"></p><p>如果输出太长，我们也可以限制它，比如前20条，我们可以使用<strong>head</strong>命令来做到。</p><pre tabindex=0><code>$ watch -n 1 ‘ps -aux --sort -pmem, -pcpu | head 20’
</code></pre><p><img src=/data/attachment/album/201501/25/233959luqwzx6q7585nl77.png alt="组合 ps 和 watch"></p><p>这里的动态查看并不像top或者htop命令一样。<strong>但是使用ps的好处是</strong>你能够定义显示的字段，你能够选择你想查看的字段。</p><p>举个例子，<strong>如果你只需要看名为&rsquo;pungki&rsquo;用户的信息</strong>，你可以使用下面的命令：</p><pre tabindex=0><code>$ watch -n 1 ‘ps -aux -U pungki u --sort -pmem, -pcpu | head 20’
</code></pre><p><img src=/data/attachment/album/201501/25/234001v8ui2zsif2sg2ww2.png alt="组合 ps 和 watch"></p><h3 id=结论>结论</h3><p>你也许每天都会使用ps命令来监控你的Linux系统。但是事实上，你可以通过ps命令的参数来生成各种你需要的报表。</p><p>ps命令的另一个优势是ps是各种 Linux系统都默认安装的，因此你只要用就行了。</p><p>不要忘了通过 man ps来查看更多的参数。（LCTT 译注：由于 ps 命令古老而重要，所以它在不同的 UNIX、BSD、Linux 等系统中的参数不尽相同，因此如果你用的不是 Linux 系统，请查阅你的文档了解具体可用的参数。）</p><hr><p>via: <a href=http://linoxide.com/how-tos/linux-ps-command-examples/>http://linoxide.com/how-tos/linux-ps-command-examples/</a></p><p>作者：<a href=http://linoxide.com/author/pungki/>Pungki Arianto</a> 译者：<a href=https://github.com/johnhoow>johnhoow</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/ps/ rel=tag>ps</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E8%BF%9B%E7%A8%8B/ rel=tag>进程</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>