<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>用 Portainer.io 来监控和管理 Docker 容器（1） - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="用 Portainer.io 来监控和管理 Docker 容器（1）"><meta property="og:description" content="随着 Docker 的使用量越来越大，监控 Docker 容器正在变得更有挑战性。"><meta property="og:type" content="article"><meta property="og:url" content="/article-12634-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-20T22:55:00+00:00"><meta property="article:modified_time" content="2020-09-20T22:55:00+00:00"><meta itemprop=name content="用 Portainer.io 来监控和管理 Docker 容器（1）"><meta itemprop=description content="随着 Docker 的使用量越来越大，监控 Docker 容器正在变得更有挑战性。"><meta itemprop=datePublished content="2020-09-20T22:55:00+00:00"><meta itemprop=dateModified content="2020-09-20T22:55:00+00:00"><meta itemprop=wordCount content="369"><meta itemprop=keywords content="容器,Docker,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>用 Portainer.io 来监控和管理 Docker 容器（1）</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-09-20T22:55:00Z>September 20, 2020</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/202009/20/225425zaepvexqvg7nndqv.jpg alt></p><p>随着 Docker 的使用量越来越大，监控 Docker 容器正在变得更有挑战性。每天都有大量的 Docker 容器被创建，因此如何监控它们就变得非常重要。目前已经有一些内置的工具和技术，不过对它们进行配置有一些复杂。随着基于微服务的架构正在变成接下来事实上的标准，学会这种技术将为你的知识库再添一项新技能。</p><p>基于上述场景，对一种轻量、健壮的镜像管理工具的需求日益增加。Portainer.io 解决了这个问题。 Portainer.io（最新版本是 1.20.2）非常轻量，只需 2-3 个命令就可以配置好，已经在 Docker 用户中流行起来。</p><p>比起其他工具，这个工具有很多优势，其中一些如下所示：</p><ul><li>轻量（安装此工具仅需 2 到 3 个命令，与此同时安装镜像的大小在 26 M 到 30 M 之间）</li><li>健壮且易用</li><li>可用于 Docker 监控和构建</li><li>提供对 Docker 环境的详细概况</li><li>可以管理容器、镜像、网络和卷</li><li>Portainer 部署方便，仅需一个 Docker 命令（可以在任意地方运行）</li><li>可以对完整的 Docker 容器环境进行监控</li></ul><p>Portainer 同时具有以下服务：</p><ul><li>社区支持</li><li>企业支持</li><li>与合作伙伴 OEM 服务一起的专业服务</li></ul><p>Portainer 的功能和特性如下：</p><pre tabindex=0><code>1. 配备了漂亮的仪表盘，易于使用和监控
2. 自带大量内置模板，便于操作和创建
3. 服务支持（仅 OEM 和企业用户）
4. 对容器、镜像、网络、卷以及配置进行几乎实时的监控
5. 包含 Docker 集群监控功能
6. 功能多样的用户管理
</code></pre><p>另请阅读：<a href=https://www.linuxtechi.com/how-to-setup-docker-on-ubuntu-server-16-04/>如何在 Ubuntu 16.04 / 18.04 LTS 版本中安装 Docker CE</a></p><h3 id=如何在-ubuntu-linux--rhel--centos-系统上安装和配置-portainerio>如何在 Ubuntu Linux / RHEL / CentOS 系统上安装和配置 Portainer.io</h3><p>注意：下面的安装过程是在 Ubuntu 18.04 上完成的，但是对 RHEL 和 CentOS 同样适用，同时假设你已经在系统上安装了 Docker CE。</p><pre tabindex=0><code>root@linuxtechi:~$ lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 18.04 LTS
Release:        18.04
Codename:       bionic
root@linuxtechi:~$
</code></pre><p>为 Portainer 创建卷：</p><pre tabindex=0><code>root@linuxtechi:~$ sudo docker volume create portainer_data
portainer_data
root@linuxtechi:~$
</code></pre><p>使用下面的 Docker 命令来运行 Portainer 容器：</p><pre tabindex=0><code>root@linuxtechi:~$ sudo docker run -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer
Unable to find image &#39;portainer/portainer:latest&#39; locally
latest: Pulling from portainer/portainer
d1e017099d17: Pull complete
0b1e707a06d2: Pull complete
Digest: sha256:d6cc2c20c0af38d8d557ab994c419c799a10fe825e4aa57fea2e2e507a13747d
Status: Downloaded newer image for portainer/portainer:latest
35286de9f2e21d197309575bb52b5599fec24d4f373cc27210d98abc60244107
root@linuxtechi:~$
</code></pre><p>安装完成之后，通过主机或 Docker 的 IP 加上 Docker 引擎使用的 9000 端口在浏览器中打开 Portainer。</p><p>注意：如果 Docker 所在主机的系统防火墙开启，需要确保 9000 端口被放行，否则浏览器页面将无法打开。</p><p>在我这边，我的 Docker 主机/引擎的 IP 是 <code>192.168.1.16</code>，所以 URL 就是 <code>http://192.168.1.16:9000</code></p><p><img src=/data/attachment/album/202009/20/225838tq8cpmtd12eowq6p.jpg alt=Portainer-Login-User-Name-Password></p><p>在创建管理员用户时，请确保密码是 8 个字符，同时用户名为 <code>admin</code>，然后点击 “Create User”。</p><p>接下来进入如下所示的页面，选中 “Local” 矩形框。</p><p><img src=/data/attachment/album/202009/20/225600mtoq7ybwj7jorty3.jpg alt=Connect-Portainer-Local-Docker></p><p>点击 “Connect”，</p><p>可以看到 admin 用户的漂亮首页如下所示，</p><p><img src=/data/attachment/album/202009/20/225603pr1ii82298qk17f8.jpg alt=Portainer-io-Docker-Monitor-Dashboard></p><p>现在 Portainer 已经准备好运行和管理你的 Docker 容器了，同时也可用于容器监控。</p><h3 id=在-portainer-中管理容器镜像>在 Portainer 中管理容器镜像</h3><p><img src=/data/attachment/album/202009/20/225604mnln0al6n6pppl6m.jpg alt=Portainer-Endpoints></p><p>检查当前的状态，可以看到有两个容器已经在运行了，如果你创建另一个也会立即显示出来。</p><p>像下面这样，在命令行中启动一个或两个容器，</p><pre tabindex=0><code>root@linuxtechi:~$ sudo docker run --name test -it debian
Unable to find image &#39;debian:latest&#39; locally
latest: Pulling from library/debian
e79bb959ec00: Pull complete
Digest: sha256:724b0fbbda7fda6372ffed586670573c59e07a48c86d606bab05db118abe0ef5
Status: Downloaded newer image for debian:latest
root@linuxtechi:/#
</code></pre><p>然后在 Portainer 页面中点击刷新按钮（会出现一条让你确认的消息，点击上面的 “Continue”），就可以像下面高亮显示的一样看到 3 个容器了。</p><p><img src=/data/attachment/album/202009/20/225607zlovxvzgo7gxn2oo.jpg alt=Portainer-io-new-container-image></p><p>点击上图中红圈圈出来的 “containers”，下一个页面会显示 “Dashboard Endpoint summary”。</p><p><img src=/data/attachment/album/202009/20/225609lrpx7uu3q5yjudev.jpg alt=Portainer-io-Docker-Container-Dash></p><p>在这个页面中，点击上图高亮和红圈圈出来的 “Containers”，就可以对容器进行监控了。</p><h3 id=以简单的方式对容器进行监控>以简单的方式对容器进行监控</h3><p>继续上面的步骤，就会出现一个如下所示精致、漂亮的 “Container list” 页面。</p><p><img src=/data/attachment/album/202009/20/225611abxa8995rd8pbmzw.jpg alt=Portainer-Container-List></p><p>所有的容器都可以在这里进行控制（停止、启动等等）。</p><p>1、在这个页面上，停止我们之前启动的 “test” 容器（这是一个我们早先启动的 debian 容器）。</p><p>选中此容器前面的复选框，然后点击上面的“Stop”按钮来停止。</p><p><img src=/data/attachment/album/202009/20/225613t4e5vsh3yszd4ssd.jpg alt=Stop-Container-Portainer-io-dashboard></p><p>在命令行中，你也会看到这个容器现在已经停止或退出了：</p><pre tabindex=0><code>root@linuxtechi:~$ sudo docker container ls -a
CONTAINER ID        IMAGE                 COMMAND             CREATED             STATUS                       PORTS                    NAMES
d45902e717c0        debian                &#34;bash&#34;              21 minutes ago      Exited (0) 49 seconds ago                             test
08b96eddbae9        centos:7              &#34;/bin/bash&#34;         About an hour ago   Exited (137) 9 minutes ago                            mycontainer2
35286de9f2e2        portainer/portainer   &#34;/portainer&#34;        2 hours ago         Up About an hour             0.0.0.0:9000-&gt;9000/tcp   compassionate_benz
root@linuxtechi:~$
</code></pre><p>2、现在，在 Portainer 页面中启动已经停止的两个容器（test 和 mycontainer2）</p><p>选中已停止的这两个容器前面的复选框，然后点击 “Start”。</p><p><img src=/data/attachment/album/202009/20/225614gek8915ae0z1auwm.jpg alt=Start-Containers-Portainer-GUI></p><p>你会立即看到两条窗口提醒，内容是“容器成功启动”，并且两个容器的状态变为正在运行。</p><p><img src=/data/attachment/album/202009/20/225616ngmku0eywepedqew.jpg alt=Conatiner-Started-successfully-Portainer-GUI></p><h3 id=一步步探索其他多种选项和特性>一步步探索其他多种选项和特性</h3><p>1、点击高亮的“Images”，你会看到如下页面：</p><p><img src=/data/attachment/album/202009/20/225617cgleziyadg9eqqfl.jpg alt=Docker-Container-Images-Portainer-GUI></p><p>这是可用的容器列表，其中一些可能没在运行。这些容器可以被导入、导出或者上传到不同的位置，截图如下所示。</p><p><img src=/data/attachment/album/202009/20/225619efzqrimimfgy4mrg.jpg alt=Upload-Docker-Container-Image-Portainer-GUI></p><p>2、点击高亮的“Volumes”，显示如下页面：</p><p><img src=/data/attachment/album/202009/20/225621kil31ptm8zfne232.jpg alt=Volume-list-Portainer-io-gui></p><p>3、通过下面的操作，可以很容易的添加卷。点击添加卷按钮，出现如下页面，在名称输入框中输入卷名称，例如 “myvol”，然后点击 “Create the volume” 按钮：</p><p><img src=/data/attachment/album/202009/20/225625i2o2w2xxz2aw8h6p.jpg alt=Volume-Creation-Portainer-io-gui></p><p>新创建的卷如下所示（状态为未使用）：</p><p><img src=/data/attachment/album/202009/20/225626c06434g9sl4ps6c0.jpg alt=Volume-unused-Portainer-io-gui></p><h3 id=结论>结论</h3><p>通过上面的安装步骤，你可以到配置和使用 Portainer.io 的多种选项是多么简单和精美，它提供了用于构建和监控 Docker 容器的多种功能和选项。如前所述，这个一个非常轻量的工具，因此不会给主机系统增加任何负担。下一组选项将在本系列的第 2 部分中进行探讨。</p><p>另请阅读: <a href=https://www.linuxtechi.com/monitor-manage-docker-containers-portainer-io-part-2/>用 Portainer.io 来监控和管理 Docker 容器（2）</a></p><hr><p>via: <a href=https://www.linuxtechi.com/monitor-manage-docker-containers-portainer-part1/>https://www.linuxtechi.com/monitor-manage-docker-containers-portainer-part1/</a></p><p>作者：<a href=https://www.linuxtechi.com/author/shashidhar/>Shashidhar Soppin</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/jlztan>jlztan</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%AE%B9%E5%99%A8/ rel=tag>容器</a></li><li class=tags__item><a class="tags__link btn" href=/tags/docker/ rel=tag>Docker</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>