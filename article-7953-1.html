<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>用 dpkg 命令在 Debian 系的 Linux系统中管理软件包 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="用 dpkg 命令在 Debian 系的 Linux系统中管理软件包"><meta property="og:description" content="dpkg 是一个可以安装、构建、删除及管理 Debian 软件包的命令行工具。"><meta property="og:type" content="article"><meta property="og:url" content="/article-7953-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-11-12T17:40:57+00:00"><meta property="article:modified_time" content="2016-11-12T17:40:57+00:00"><meta itemprop=name content="用 dpkg 命令在 Debian 系的 Linux系统中管理软件包"><meta itemprop=description content="dpkg 是一个可以安装、构建、删除及管理 Debian 软件包的命令行工具。"><meta itemprop=datePublished content="2016-11-12T17:40:57+00:00"><meta itemprop=dateModified content="2016-11-12T17:40:57+00:00"><meta itemprop=wordCount content="656"><meta itemprop=keywords content="dpkg,包管理器,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>用 dpkg 命令在 Debian 系的 Linux系统中管理软件包</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2016-11-12T17:40:57Z>November 12, 2016</time></div></div></header><div class="content post__content clearfix"><p><a href=https://wiki.debian.org/Teams/Dpkg>dpkg</a> 意即 Debian 包管理器 （ Debian PacKaGe manager ） 。dpkg 是一个可以安装、构建、删除及管理 Debian 软件包的命令行工具。dpkg 将 Aptitude（首选而更用户友好）作为执行所有操作的前端界面。</p><p><img src=/data/attachment/album/201611/12/174052l7qt9x7pbx1zbrox.jpg alt></p><p>其它的一些工具如 dpkg-deb 和 dpkg-query 等也使用 dpkg 作为执行某些操作的前端。</p><p>现在大多数系统管理员使用 Apt、<a href=http://www.2daygeek.com/apt-get-apt-cache-command-examples/>Apt-Get</a> 及 Aptitude 等工具，不用费心就可以轻松地管理软件。</p><p>尽管如此，必要的时候还是需要用 dpkg 来安装某些软件。其它的一些在 Linux 系统上广泛使用的包管理工具还有 <a href=/article-2272-1.html>yum</a>、<a href=/article-5718-1.html>dnf</a>、<a href=/article-4933-1.html>apt-get</a>、<a href=/article-7455-1.html>rpm</a>、<a href=/article-5606-1.html>Zypper</a>、pacman、urpmi 等等。</p><p>现在，我要在装有 Ubuntu 15.10 的机器上用一些实例讲解最常用的 dpkg 命令。</p><h3 id=1-dpkg-常见命令的语法及-dpkg-文件位置>1) dpkg 常见命令的语法及 dpkg 文件位置</h3><p>下面是 dpkg 常见命令的语法及 dpkg 相关文件的位置，如果想深入了解，这些对你肯定大有益处。</p><pre tabindex=0><code>### dpkg 命令的语法
$ dpkg -[command] [.deb package name]

$ dpkg -[command] [package name]

### dpkg 相关文件的位置
$ /var/lib/dpkg

### 这个文件包含了被 dpkg 命令（install、remove 等）所修改的包的信息
$ /var/lib/dpkg/status

### 这个文件包含了可用包的列表
$ /var/lib/dpkg/status
</code></pre><h3 id=2-安装升级软件>2) 安装/升级软件</h3><p>在基于 Debian 的系统里，比如 Debian、Mint、Ubuntu 和 elementryOS，用以下命令来安装/升级 .deb 软件包。这里我要用 <code>atom-amd64.deb</code> 文件安装 Atom。要是已经安装了 Atom，就会升级它。要么就会安装一个新的 Atom。</p><pre tabindex=0><code>### 安装或升级 dpkg 软件包
$ sudo dpkg -i atom-amd64.deb
Selecting previously unselected package atom.
(Reading database ... 426102 files and directories currently installed.)
Preparing to unpack atom-amd64.deb ...
Unpacking atom (1.5.3) over (1.5.3) ...
Setting up atom (1.5.3) ...
Processing triggers for gnome-menus (3.13.3-6ubuntu1) ...
Processing triggers for bamfdaemon (0.5.2~bzr0+15.10.20150627.1-0ubuntu1) ...
Rebuilding /usr/share/applications/bamf-2.index...
Processing triggers for desktop-file-utils (0.22-1ubuntu3) ...
Processing triggers for mime-support (3.58ubuntu1) ...
</code></pre><h3 id=3-从文件夹里安装软件>3) 从文件夹里安装软件</h3><p>在基于 Debian 的系统里，用下列命令从目录中逐个安装软件。这会安装 <code>/opt/software</code> 目录下的所有以 .deb 为后缀的软件。</p><pre tabindex=0><code>$ sudo dpkg -iR /opt/software
Selecting previously unselected package atom.
(Reading database ... 423303 files and directories currently installed.)
Preparing to unpack /opt/software/atom-amd64.deb ...
Unpacking atom (1.5.3) ...
Setting up atom (1.5.3) ...
Processing triggers for gnome-menus (3.13.3-6ubuntu1) ...
Processing triggers for bamfdaemon (0.5.2~bzr0+15.10.20150627.1-0ubuntu1) ...
Rebuilding /usr/share/applications/bamf-2.index...
Processing triggers for desktop-file-utils (0.22-1ubuntu3) ...
Processing triggers for mime-support (3.58ubuntu1) ...
</code></pre><h3 id=4-显示已安装软件列表>4) 显示已安装软件列表</h3><p>以下命令可以列出 Debian 系的系统中所有已安装的软件，同时会显示软件版本和描述信息。</p><pre tabindex=0><code>$ dpkg -l
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name                        Version                            Architecture Description
+++-===========================-==================================-============-================================================================
ii  account-plugin-aim          3.12.10-0ubuntu2                   amd64        Messaging account plugin for AIM
ii  account-plugin-facebook     0.12+15.10.20150723-0ubuntu1       all          GNOME Control Center account plugin for single signon - facebook
ii  account-plugin-flickr       0.12+15.10.20150723-0ubuntu1       all          GNOME Control Center account plugin for single signon - flickr
ii  account-plugin-google       0.12+15.10.20150723-0ubuntu1       all          GNOME Control Center account plugin for single signon
ii  account-plugin-jabber       3.12.10-0ubuntu2                   amd64        Messaging account plugin for Jabber/XMPP
ii  account-plugin-salut        3.12.10-0ubuntu2                   amd64        Messaging account plugin for Local XMPP (Salut)
.
.
</code></pre><h3 id=5-查看指定的已安装软件>5) 查看指定的已安装软件</h3><p>用以下命令列出指定的一个已安装软件，同时会显示软件版本和描述信息。</p><pre tabindex=0><code>$ dpkg -l atom
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend
|/ Err?=(none)/Reinst-required (Status,Err: uppercase=bad)
||/ Name       Version   Architecture        Description
+++-==========-=========-===================-============================================
ii  atom       1.5.3     amd64               A hackable text editor for the 21st Century.
</code></pre><h3 id=6-查看软件安装目录>6) 查看软件安装目录</h3><p>以下命令可以在基于 Debian 的系统上查看软件的安装路径。</p><pre tabindex=0><code>$ dpkg -L atom
/.
/usr
/usr/bin
/usr/bin/atom
/usr/share
/usr/share/lintian
/usr/share/lintian/overrides
/usr/share/lintian/overrides/atom
/usr/share/pixmaps
/usr/share/pixmaps/atom.png
/usr/share/doc
</code></pre><h3 id=7-查看-deb-包内容>7) 查看 deb 包内容</h3><p>下列命令可以查看 deb 包内容。它会显示 .deb 包中的一系列文件。</p><pre tabindex=0><code>$ dpkg -c atom-amd64.deb
drwxr-xr-x root/root         0 2016-02-13 02:13 ./
drwxr-xr-x root/root         0 2016-02-13 02:13 ./usr/
drwxr-xr-x root/root         0 2016-02-13 02:13 ./usr/bin/
-rwxr-xr-x root/root      3067 2016-02-13 02:13 ./usr/bin/atom
drwxr-xr-x root/root         0 2016-02-13 02:13 ./usr/share/
drwxr-xr-x root/root         0 2016-02-13 02:13 ./usr/share/lintian/
drwxr-xr-x root/root         0 2016-02-13 02:13 ./usr/share/lintian/overrides/
-rw-r--r-- root/root       299 2016-02-13 02:13 ./usr/share/lintian/overrides/atom
drwxr-xr-x root/root         0 2016-02-13 02:13 ./usr/share/pixmaps/
-rw-r--r-- root/root    643183 2016-02-13 02:13 ./usr/share/pixmaps/atom.png
drwxr-xr-x root/root         0 2016-02-13 02:13 ./usr/share/doc/
.
.
</code></pre><h3 id=8-显示软件的详细信息>8) 显示软件的详细信息</h3><p>以下命令可以显示软件的详细信息，如软件名、软件类别、版本、维护者、软件架构、依赖的软件、软件描述等等。</p><pre tabindex=0><code>$ dpkg -s atom
Package: atom
Status: install ok installed
Priority: optional
Section: devel
Installed-Size: 213496
Maintainer: GitHub &lt;atom@github.com&gt;Architecture: amd64
Version: 1.5.3
Depends: git, gconf2, gconf-service, libgtk2.0-0, libudev0 | libudev1, libgcrypt11 | libgcrypt20, libnotify4, libxtst6, libnss3, python, gvfs-bin, xdg-utils, libcap2
Recommends: lsb-release
Suggests: libgnome-keyring0, gir1.2-gnomekeyring-1.0
Description: A hackable text editor for the 21st Century.
 Atom is a free and open source text editor that is modern, approachable, and hackable to the core.&lt;/atom@github.com&gt; 
</code></pre><h3 id=9-查看文件属于哪个软件>9) 查看文件属于哪个软件</h3><p>用以下命令来查看文件属于哪个软件。</p><pre tabindex=0><code>$ dpkg -S /usr/bin/atom
atom: /usr/bin/atom
</code></pre><h3 id=10-移除删除软件>10) 移除/删除软件</h3><p>以下命令可以用来移除/删除一个已经安装的软件，但不删除配置文件。</p><pre tabindex=0><code>$ sudo dpkg -r atom
(Reading database ... 426404 files and directories currently installed.)
Removing atom (1.5.3) ...
Processing triggers for gnome-menus (3.13.3-6ubuntu1) ...
Processing triggers for bamfdaemon (0.5.2~bzr0+15.10.20150627.1-0ubuntu1) ...
Rebuilding /usr/share/applications/bamf-2.index...
Processing triggers for desktop-file-utils (0.22-1ubuntu3) ...
Processing triggers for mime-support (3.58ubuntu1) ...
</code></pre><h3 id=11-清除软件>11) 清除软件</h3><p>以下命令可以用来移除/删除包括配置文件在内的所有文件。</p><pre tabindex=0><code>$ sudo dpkg -P atom
(Reading database ... 426404 files and directories currently installed.)
Removing atom (1.5.3) ...
Processing triggers for gnome-menus (3.13.3-6ubuntu1) ...
Processing triggers for bamfdaemon (0.5.2~bzr0+15.10.20150627.1-0ubuntu1) ...
Rebuilding /usr/share/applications/bamf-2.index...
Processing triggers for desktop-file-utils (0.22-1ubuntu3) ...
Processing triggers for mime-support (3.58ubuntu1) ...
</code></pre><h3 id=12-了解更多>12) 了解更多</h3><p>用以下命令来查看更多关于 dpkg 的信息。</p><pre tabindex=0><code>$ dpkg -help
或
$ man dpkg
</code></pre><p>开始体验 dpkg 吧。</p><hr><p>via: <a href=http://www.2daygeek.com/dpkg-command-examples/>http://www.2daygeek.com/dpkg-command-examples/</a></p><p>作者：<a href=http://www.2daygeek.com/author/magesh/>MAGESH MARUTHAMUTHU</a> 译者：<a href=https://github.com/GitFuture>GitFuture</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/dpkg/ rel=tag>dpkg</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/ rel=tag>包管理器</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>