<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Fedora 上优化 bash 或 zsh - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Fedora 上优化 bash 或 zsh"><meta property="og:description" content="本文将向你展示如何在 Fedora 的命令行解释器（CLI）Shell 中设置一些强大的工具。如果使用bash（默认）或zsh，Fedora 可让你轻松设置这些工具。"><meta property="og:type" content="article"><meta property="og:url" content="/article-11560-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-10T23:36:26+00:00"><meta property="article:modified_time" content="2019-11-10T23:36:26+00:00"><meta itemprop=name content="在 Fedora 上优化 bash 或 zsh"><meta itemprop=description content="本文将向你展示如何在 Fedora 的命令行解释器（CLI）Shell 中设置一些强大的工具。如果使用bash（默认）或zsh，Fedora 可让你轻松设置这些工具。"><meta itemprop=datePublished content="2019-11-10T23:36:26+00:00"><meta itemprop=dateModified content="2019-11-10T23:36:26+00:00"><meta itemprop=wordCount content="275"><meta itemprop=keywords content="bash,zsh,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Fedora 上优化 bash 或 zsh</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-11-10T23:36:26Z>November 10, 2019</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201911/10/233630ibjmiz5lz6egtizr.jpg alt></p><p>本文将向你展示如何在 Fedora 的命令行解释器（CLI）Shell 中设置一些强大的工具。如果使用bash（默认）或zsh，Fedora 可让你轻松设置这些工具。</p><h3 id=前置需求>前置需求</h3><p>这需要一些已安装的软件包。在 Fedora 工作站上，运行以下命令：</p><pre tabindex=0><code>sudo dnf install git wget curl ruby ruby-devel zsh util-linux-user redhat-rpm-config gcc gcc-c++ make
</code></pre><p>在 Silverblue 上运行：</p><pre tabindex=0><code>sudo rpm-ostree install git wget curl ruby ruby-devel zsh util-linux-user redhat-rpm-config gcc gcc-c++ make
</code></pre><p>注意：在 Silverblue 上，你需要重新启动才能继续。</p><h3 id=字体>字体</h3><p>你可以通过安装新字体使终端焕然一新。为什么不使用可以同时显示字符和图标的字体呢？</p><h4 id=nerd-fonts>Nerd-Fonts</h4><p>打开一个新终端，然后键入以下命令：</p><pre tabindex=0><code>git clone https://github.com/ryanoasis/nerd-fonts ~/.nerd-fonts
cd .nerd-fonts
sudo ./install.sh
</code></pre><h4 id=awesome-fonts>Awesome-Fonts</h4><p>在工作站上，使用以下命令进行安装：</p><pre tabindex=0><code>sudo dnf fontawesome-fonts
</code></pre><p>在 Silverblue 上键入：</p><pre tabindex=0><code>sudo rpm-ostree install fontawesome-fonts
</code></pre><h3 id=powerline>Powerline</h3><p>Powerline 是 vim 的状态行插件，并为其他几个应用程序也提供了状态行和提示符，包括 bash、zsh、tmus、i3、Awesome、IPython 和 Qtile。你也可以在官方<a href=https://powerline.readthedocs.io/en/latest/>文档站点</a>上找到更多信息。</p><h4 id=安装>安装</h4><p>要在 Fedora 工作站上安装 Powerline 实用程序，请打开一个新终端并运行：</p><pre tabindex=0><code>sudo dnf install powerline vim-powerline tmux-powerline powerline-fonts
</code></pre><p>在 Silverblue 上，命令更改为：</p><pre tabindex=0><code>sudo rpm-ostree install powerline vim-powerline tmux-powerline powerline-fonts
</code></pre><p>注意：在 Silverblue 上，你需要重新启动才能继续。</p><h4 id=激活-powerline>激活 Powerline</h4><p>要使 Powerline 默认处于活动状态，请将下面的代码放在 <code>~/.bashrc</code> 文件的末尾：</p><pre tabindex=0><code>if [ -f `which powerline-daemon` ]; then
  powerline-daemon -q
  POWERLINE_BASH_CONTINUATION=1
  POWERLINE_BASH_SELECT=1
  . /usr/share/powerline/bash/powerline.sh
fi
</code></pre><p>最后，关闭终端并打开一个新终端。它看起来像这样：</p><p><img src=/data/attachment/album/201911/10/233630se888x8gnmlve7x1.png alt></p><h3 id=oh-my-zsh>Oh-My-Zsh</h3><p><a href=https://ohmyz.sh>Oh-My-Zsh</a> 是用于管理 Zsh 配置的框架。它捆绑了有用的功能、插件和主题。要了解如何将 Zsh 设置为默认外壳程序，请参见<a href=https://fedoramagazine.org/set-zsh-fedora-system/>这篇文章</a>。</p><h4 id=安装-1>安装</h4><p>在终端中输入：</p><pre tabindex=0><code>sh -c &#34;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&#34;
</code></pre><p>或者，你也可以输入以下内容：</p><pre tabindex=0><code>sh -c &#34;$(wget https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&#34;
</code></pre><p>最后，你将看到如下所示的终端：</p><p><img src=/data/attachment/album/201911/10/233631fedw90m9l0lsn6je.png alt></p><p>恭喜，Oh-my-zsh 已安装成功。</p><h4 id=主题>主题</h4><p>安装后，你可以选择主题。我喜欢使用 powerlevel10k。优点之一是它比 powerlevel9k 主题快 100 倍。要安装它，请运行以下命令行：</p><pre tabindex=0><code>git clone https://github.com/romkatv/powerlevel10k.git ~/.oh-my-zsh/themes/powerlevel10k
</code></pre><p>并在你的 <code>~/.zshrc</code> 文件设置 <code>ZSH_THEME</code>：</p><pre tabindex=0><code>ZSH_THEME=powerlevel10k/powerlevel10k
</code></pre><p>关闭终端。再次打开终端时，powerlevel10k 配置向导将询问你几个问题以正确配置提示符。</p><p><img src=/data/attachment/album/201911/10/233631roa3cb7i4a9cg9m4.png alt></p><p>完成 powerline10k 配置向导后，你的提示符将如下所示：</p><p><img src=/data/attachment/album/201911/10/233632tonks69eaplpandj.png alt></p><p>如果你不喜欢它。你可以随时使用 <code>p10k configure</code> 命令来运行 powerline10k 向导。</p><h4 id=启用插件>启用插件</h4><p>插件存储在 <code>.oh-my-zsh/plugins</code> 文件夹中。要激活插件，你需要编辑 <code>~/.zshrc</code> 文件。安装插件意味着你创建了一系列执行特定功能的别名或快捷方式。</p><p>例如，要启用 firewalld 和 git 插件，请首先编辑 <code>~/.zshrc</code>：</p><pre tabindex=0><code>plugins=(firewalld git)
</code></pre><p>注意：使用空格分隔插件名称列表。</p><p>然后重新加载配置：</p><pre tabindex=0><code>source ~/.zshrc
</code></pre><p>要查看创建的别名，请使用以下命令：</p><pre tabindex=0><code>alias | grep firewall
</code></pre><p><img src=/data/attachment/album/201911/10/233632eg0gjo0xvv2r23st.png alt></p><h4 id=更多配置>更多配置</h4><p>我建议安装语法高亮和语法自动建议插件。</p><pre tabindex=0><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
</code></pre><p>将它们添加到文件 <code>~/.zshrc</code> 的插件列表中。</p><pre tabindex=0><code>plugins=( [plugins...] zsh-syntax-highlighting zsh-autosuggestions)
</code></pre><p>重新加载配置。</p><pre tabindex=0><code>source ~/.zshrc
</code></pre><p>查看结果：</p><p><img src=/data/attachment/album/201911/10/233633oud6d2dd36dmi556.png alt></p><h3 id=彩色的文件夹和图标>彩色的文件夹和图标</h3><p><code>colorls</code> 是一个 ruby gem，可使用颜色和超棒的字体图标美化终端的 <code>ls</code> 命令。你可以访问官方<a href=https://github.com/athityakumar/colorls>网站</a>以获取更多信息。</p><p>因为它是个 ruby gem，所以请按照以下简单步骤操作：</p><pre tabindex=0><code>sudo gem install colorls
</code></pre><p>要保持最新状态，只需执行以下操作：</p><pre tabindex=0><code>sudo gem update colorls
</code></pre><p>为防止每次输入 <code>colorls</code>，你可以在 <code>~/.bashrc</code> 或 <code>~/.zshrc</code> 中创建别名。</p><pre tabindex=0><code>alias ll=&#39;colorls -lA --sd --gs --group-directories-first&#39;
alias ls=&#39;colorls --group-directories-first&#39;
</code></pre><p>另外，你可以为 <code>colorls</code> 的选项启用制表符补完功能，只需在 shell 配置末尾输入以下行：</p><pre tabindex=0><code>source $(dirname ($gem which colorls))/tab_complete.sh
</code></pre><p>重新加载并查看会发生什么：</p><p><img src=/data/attachment/album/201911/10/233633tkdkwiir16kvdu44.png alt></p><p><img src=/data/attachment/album/201911/10/233634e5qnyr3rsab5zx5r.png alt></p><hr><p>via: <a href=https://fedoramagazine.org/tuning-your-bash-or-zsh-shell-in-workstation-and-silverblue/>https://fedoramagazine.org/tuning-your-bash-or-zsh-shell-in-workstation-and-silverblue/</a></p><p>作者：<a href=https://fedoramagazine.org/author/georgelmaluf/>George Luiz Maluf</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/wxy>wxy</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/bash/ rel=tag>bash</a></li><li class=tags__item><a class="tags__link btn" href=/tags/zsh/ rel=tag>zsh</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>