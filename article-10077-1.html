<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Linux 中安全且轻松地管理 Cron 定时任务 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Linux 中安全且轻松地管理 Cron 定时任务"><meta property="og:description" content="如果你在处理 Cron 定时任务的时候为了以防万一，可以尝试使用 Crontab UI，它是一个可以在类 Unix 操作系统上安全轻松管理 Cron 定时任务的 Web 页面工具。"><meta property="og:type" content="article"><meta property="og:url" content="/article-10077-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-10-03T21:29:37+00:00"><meta property="article:modified_time" content="2018-10-03T21:29:37+00:00"><meta itemprop=name content="在 Linux 中安全且轻松地管理 Cron 定时任务"><meta itemprop=description content="如果你在处理 Cron 定时任务的时候为了以防万一，可以尝试使用 Crontab UI，它是一个可以在类 Unix 操作系统上安全轻松管理 Cron 定时任务的 Web 页面工具。"><meta itemprop=datePublished content="2018-10-03T21:29:37+00:00"><meta itemprop=dateModified content="2018-10-03T21:29:37+00:00"><meta itemprop=wordCount content="294"><meta itemprop=keywords content="crontab,cron,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Linux 中安全且轻松地管理 Cron 定时任务</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2018-10-03T21:29:37Z>October 03, 2018</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201810/03/212938rnqohu4nuhnguaou.jpg alt></p><p>在 Linux 中遇到计划任务的时候，你首先会想到的大概就是 Cron 定时任务了。Cron 定时任务能帮助你在类 Unix 操作系统中计划性地执行命令或者任务。也可以参考一下我们之前的一篇《<a href=https://www.ostechnix.com/a-beginners-guide-to-cron-jobs/>关于 Cron 定时任务的新手指导</a>》。对于有一定 Linux 经验的人来说，设置 Cron 定时任务不是什么难事，但对于新手来说就不一定了，他们在编辑 crontab 文件的时候不知不觉中犯的一些小错误，也有可能把整个 Cron 定时任务搞挂了。如果你在处理 Cron 定时任务的时候为了以防万一，可以尝试使用 <strong>Crontab UI</strong>，它是一个可以在类 Unix 操作系统上安全轻松管理 Cron 定时任务的 Web 页面工具。</p><p>Crontab UI 是使用 NodeJS 编写的自由开源软件。有了 Crontab UI，你在创建、删除和修改 Cron 定时任务的时候就不需要手工编辑 Crontab 文件了，只需要打开浏览器稍微操作一下，就能完成上面这些工作。你可以用 Crontab UI 轻松创建、编辑、暂停、删除、备份 Cron 定时任务，甚至还可以简单地做到导入、导出、部署其它机器上的 Cron 定时任务，它还支持错误日志、邮件发送和钩子。</p><h3 id=安装-crontab-ui>安装 Crontab UI</h3><p>只需要一条命令就可以安装好 Crontab UI，但前提是已经安装好 NPM。如果还没有安装 NPM，可以参考《<a href=https://www.ostechnix.com/install-node-js-linux/>如何在 Linux 上安装 NodeJS</a>》这篇文章。</p><p>执行这一条命令来安装 Crontab UI。</p><pre tabindex=0><code>$ npm install -g crontab-ui
</code></pre><p>就是这么简单，下面继续来看看在 Crontab UI 上如何管理 Cron 定时任务。</p><h3 id=在-linux-上安全轻松管理-cron-定时任务>在 Linux 上安全轻松管理 Cron 定时任务</h3><p>执行这一条命令启动 Crontab UI：</p><pre tabindex=0><code>$ crontab-ui
</code></pre><p>你会看到这样的输出：</p><pre tabindex=0><code>Node version: 10.8.0
Crontab UI is running at http://127.0.0.1:8000
</code></pre><p>首先在你的防火墙和路由器上放开 8000 端口，然后打开浏览器访问 <code>&lt;http://127.0.0.1:8000></code>。</p><p>注意，默认只有在本地才能访问到 Crontab UI 的控制台页面。但如果你想让 Crontab UI 使用系统的 IP 地址和自定义端口，也就是想让其它机器也访问到本地的 Crontab UI，你需要使用以下这个命令：</p><pre tabindex=0><code>$ HOST=0.0.0.0 PORT=9000 crontab-ui
Node version: 10.8.0
Crontab UI is running at http://0.0.0.0:9000
</code></pre><p>Crontab UI 就能够通过 <code>&lt;http://IP-Address>:9000</code> 这样的 URL 被远程机器访问到了。</p><p>Crontab UI 的控制台页面长这样：</p><p><img src=/data/attachment/album/201810/03/212939ctiit3soheg09ttx.png alt></p><p>从上面的截图就可以看到，Crontab UI 的界面非常简洁，所有选项的含义都能不言自明。</p><p>在终端输入 <code>Ctrl + C</code> 就可以关闭 Crontab UI。</p><h4 id=创建编辑运行停止删除-cron-定时任务>创建、编辑、运行、停止、删除 Cron 定时任务</h4><p>点击 “New”，输入 Cron 定时任务的信息并点击 “Save” 保存，就可以创建一个新的 Cron 定时任务了。</p><ol><li>为 Cron 定时任务命名，这是可选的；</li><li>你想要执行的完整命令；</li><li>设定计划执行的时间。你可以按照启动、每时、每日、每周、每月、每年这些指标快速指定计划任务，也可以明确指定任务执行的具体时间。指定好计划时间后，“Jobs” 区域就会显示 Cron 定时任务的句式。</li><li>选择是否为某个 Cron 定时任务记录错误日志。</li></ol><p>这是我的一个 Cron 定时任务样例。</p><p><img src=/data/attachment/album/201810/03/212940ia4hwicajwa3vtw3.png alt></p><p>如你所见，我设置了一个每月清理 <code>pacman</code> 缓存的 Cron 定时任务。你也可以设置多个 Cron 定时任务，都能在控制台页面看到。</p><p><img src=/data/attachment/album/201810/03/212941tnx126n1xw7mon0c.png alt></p><p>如果你需要更改 Cron 定时任务中的某些参数，只需要点击 “Edit” 按钮并按照你的需求更改对应的参数。点击 “Run” 按钮可以立即执行 Cron 定时任务，点击 “Stop” 则可以立即停止 Cron 定时任务。如果想要查看某个 Cron 定时任务的详细日志，可以点击 “Log” 按钮。对于不再需要的 Cron 定时任务，就可以按 “Delete” 按钮删除。</p><h4 id=备份-cron-定时任务>备份 Cron 定时任务</h4><p>点击控制台页面的 “Backup” 按钮并确认，就可以备份所有 Cron 定时任务。</p><p><img src=/data/attachment/album/201810/03/212941t415j0k9kjpp11k3.png alt></p><p>备份之后，一旦 Crontab 文件出现了错误，就可以使用备份来恢复了。</p><h4 id=导入导出其它机器上的-cron-定时任务>导入/导出其它机器上的 Cron 定时任务</h4><p>Crontab UI 还有一个令人注目的功能，就是导入、导出、部署其它机器上的 Cron 定时任务。如果同一个网络里的多台机器都需要执行同样的 Cron 定时任务，只需要点击 “Export” 按钮并选择文件的保存路径，所有的 Cron 定时任务都会导出到 <code>crontab.db</code> 文件中。</p><p>以下是 <code>crontab.db</code> 文件的内容：</p><pre tabindex=0><code>$ cat Downloads/crontab.db
{&#34;name&#34;:&#34;Remove Pacman Cache&#34;,&#34;command&#34;:&#34;rm -rf /var/cache/pacman&#34;,&#34;schedule&#34;:&#34;@monthly&#34;,&#34;stopped&#34;:false,&#34;timestamp&#34;:&#34;Thu Aug 23 2018 10:34:19 GMT+0000 (Coordinated Universal Time)&#34;,&#34;logging&#34;:&#34;true&#34;,&#34;mailing&#34;:{},&#34;created&#34;:1535020459093,&#34;_id&#34;:&#34;lcVc1nSdaceqS1ut&#34;}
</code></pre><p>导出成文件以后，你就可以把这个 <code>crontab.db</code> 文件放置到其它机器上并导入成 Cron 定时任务，而不需要在每一台主机上手动设置 Cron 定时任务。总之，在一台机器上设置完，导出，再导入到其他机器，就完事了。</p><h4 id=在-crontab-文件获取保存-cron-定时任务>在 Crontab 文件获取/保存 Cron 定时任务</h4><p>你可能在使用 Crontab UI 之前就已经使用 <code>crontab</code> 命令创建过 Cron 定时任务。如果是这样，你可以点击控制台页面上的 “Get from crontab” 按钮来获取已有的 Cron 定时任务。</p><p><img src=/data/attachment/album/201810/03/212942u1ve128g2j2s7u28.png alt></p><p>同样地，你也可以使用 Crontab UI 来将新的 Cron 定时任务保存到 Crontab 文件中，只需要点击 “Save to crontab” 按钮就可以了。</p><p>管理 Cron 定时任务并没有想象中那么难，即使是新手使用 Crontab UI 也能轻松管理 Cron 定时任务。赶快开始尝试并发表一下你的看法吧。</p><hr><p>via: <a href=https://www.ostechnix.com/how-to-easily-and-safely-manage-cron-jobs-in-linux/>https://www.ostechnix.com/how-to-easily-and-safely-manage-cron-jobs-in-linux/</a></p><p>作者：<a href=https://www.ostechnix.com/author/sk/>SK</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/HankChow>HankChow</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/crontab/ rel=tag>crontab</a></li><li class=tags__item><a class="tags__link btn" href=/tags/cron/ rel=tag>cron</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>