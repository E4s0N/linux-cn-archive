<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>了解 Ubuntu 的软件存储库系统 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="了解 Ubuntu 的软件存储库系统"><meta property="og:description" content="了解 Ubuntu 软件仓库系统的基本机制，更好地处理软件包管理问题，避免常见的更新错误。"><meta property="og:type" content="article"><meta property="og:url" content="/article-16082-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-11T11:24:55+00:00"><meta property="article:modified_time" content="2023-08-11T11:24:55+00:00"><meta itemprop=name content="了解 Ubuntu 的软件存储库系统"><meta itemprop=description content="了解 Ubuntu 软件仓库系统的基本机制，更好地处理软件包管理问题，避免常见的更新错误。"><meta itemprop=datePublished content="2023-08-11T11:24:55+00:00"><meta itemprop=dateModified content="2023-08-11T11:24:55+00:00"><meta itemprop=wordCount content="271"><meta itemprop=keywords content="软件库,存储库,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>了解 Ubuntu 的软件存储库系统</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-08-11T11:24:55Z>August 11, 2023</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202308/11/112409wi0g83krczglar3r.jpg alt></p><blockquote><p>了解 Ubuntu 软件仓库系统的基本机制，更好地处理软件包管理问题，避免常见的更新错误。</p></blockquote><p>当你开始使用 Ubuntu 或者其它基于 Ubuntu 的发行版时，你很快就会学会使用 <code>apt</code> 命令安装软件包：</p><pre tabindex=0><code>sudo apt install package_name
</code></pre><p>你可能还会使用这三条 PPA 命令安装其它软件：</p><pre tabindex=0><code>sudo add-apt-repository ppa:PPA_Name/ppa
sudo apt update
sudo apt install package_from_ppa
</code></pre><p>但当你添加一些外部的软件存储库时，很可能会遇到一些更新错误。</p><p>尽管你可以在互联网上搜索到同样的报错以及对应的解决方案，<em>但在大多数情况下，你并不知道这些错误为什么会出现，也不知道它们是怎么被解决的。</em></p><p><strong>如果你了解了 Ubuntu 软件存储库的运行机制，你就会很清楚这些问题的根源是什么</strong>，进而对症下药地给出处理方式。</p><p>在技术论坛上，你可以找到很多相关的零散内容，但那些碎片化的信息并不能让你对其产生一个全面的理解。</p><p>因此我写出了这篇文章，以便让你全面了解软件存储库是如何运作的。</p><p>本文的内容适用于 Linux Mint、Elementary OS 以及其它基于 Ubuntu 的发行版（Debian 或许也适用）。</p><blockquote><p>本文主要面向终端用户而不是开发者，我只会介绍维护系统软件存储库所需要的知识，不会展示如何在 Ubuntu 中打包应用程序。</p></blockquote><p>我们会先从关键部分开始，了解软件包管理器和软件存储库的基本概念。这可以为了解它们的底层运作方式奠定基础。</p><h3 id=1什么是包管理器>1、什么是包管理器？</h3><p>简单地说，包管理器就是让用户在操作系统上安装、移除、升级、配置、管理软件包的工具。</p><p>Ubuntu 通过软件存储库为用户提供软件。软件存储库中包含了各种不同类型的软件包以及它们的元数据文件，元数据文件中记录了软件包的信息，包括软件包名称、版本号、软件包描述和软件存储库名称等。</p><p>软件包管理器与元数据进行交互，并在你的系统上创建本地的元数据缓存。当你需要安装软件时，软件包管理器会引用这些缓存来获取信息，通过互联网连接到对应的存储库下载软件包，然后再将软件包安装到系统上。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202308/11/112455zyyfv9c45m9evwy9.png alt></p><p>下面这篇文章详细介绍了软件包管理器的工作原理，欢迎查阅。</p><blockquote><p><strong><a href=https://itsfoss.com/package-manager/>Linux 上的软件包管理器</a></strong></p></blockquote><h3 id=2ubuntu-的默认软件存储库>2、Ubuntu 的默认软件存储库</h3><p>在上一节中，你可能已经对软件存储库有了一些认识。</p><p>你可能已经猜到，没有哪个软件存储库会包含所有软件包。因为软件包会被分类放置在不同的软件存储库中，这样就可以方便地启用或禁用部分软件存储库。</p><p>每个 Ubuntu 版本都有自己的一组四个官方存储库：</p><ul><li><strong>Main</strong> – Canonical 支持的自由开源软件</li><li><strong>Universe</strong> – 社区维护的自由开源软件</li><li><strong>Restricted</strong> – 设备的专有驱动程序</li><li><strong>Multiverse</strong> – 受版权或法律问题限制的软件</li></ul><p>下面这篇文章介绍了如何在 Ubuntu 中启用 Universe 和 Multiverse 软件存储库。</p><blockquote><p><strong><a href=https://itsfoss.com/ubuntu-repositories/>如何启用 Universe 和 Multiverse 软件存储库</a></strong></p></blockquote><h3 id=3了解-sourceslist>3、了解 sources.list</h3><p><code>sources.list</code> 是 Ubuntu 软件存储库机制的一个组成部分。<code>sources.list</code> 文件中存在的错误条目常常是引发一些与更新问题的根本原因。</p><p>因此，了解 <code>sources.list</code> 很重要。</p><p><code>sources.list</code> 是一个记录了软件存储库信息的文本文件，每一行未被注释的内容都代表一个单独的软件存储库。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202308/11/112455r736qt16xqk6xkni.png alt="sources.list in Ubuntu"></p><p>但这些内容需要遵循特定的格式，并且不应出现重复的行。下面这篇文章中介绍了 <code>sources.list</code> 的更多详细内容。</p><blockquote><p><strong><a href=https://itsfoss.com/sources-list-ubuntu/>sources.list 的用法</a></strong></p></blockquote><h3 id=4深入了解-ppa>4、深入了解 PPA</h3><p>尽管 Ubuntu 最近在大力推广 Snap，但 PPA 仍然是获取 Ubuntu 最新软件的一个可靠途径。</p><p>然而很多 Ubuntu 用户都只是刻板地直接运行上面的三条命令来使用 PPA，自然很容易会遇到诸如“repository does not have release file”这样的问题。</p><p>下面这篇文章是一篇深入详尽的 PPA 指南。</p><blockquote><p><strong><a href=https://itsfoss.com/ppa-guide/>PPA 详尽指南</a></strong></p></blockquote><h3 id=5添加外部软件存储库>5、添加外部软件存储库</h3><p>除了默认软件存储库和 PPA，你还可以从第三方软件存储库中添加软件。比如 Brave 浏览器、Docker 等软件都专门为 Ubuntu 提供了软件存储库。</p><p>你可以通过下面这篇文章了解使用外部软件存储库的机制。</p><blockquote><p><strong><a href=https://itsfoss.com/adding-external-repositories-ubuntu/>通过外部存储库安装软件</a></strong></p></blockquote><h3 id=6排查常见错误>6、排查常见错误</h3><p>现在你已经了解了底层机制，现在可以熟悉一下在使用 Ubuntu 时可能遇到的典型更新错误了。</p><p>当你看到出现错误之后，你会得到一些关于它的根本原因的提示。在了解根本原因后，你就能知道某个解决方案是如何解决问题的了。</p><p>这就是本文的目的。让你充分了解软件包管理系统的底层知识，从而避免常见错误或者直接有效修复这些错误。</p><p><strong>你不仅要知其然，还要知其所以然。</strong></p><h4 id=下载软件存储库信息失败>下载软件存储库信息失败</h4><p>如果遇到了这种情况，就可以开始调查了。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202308/11/112456emqtzqyz4y8ymxyj.png alt="Failed to download repository information"></p><p>在某些情况下，可能是网络连接的问题，但也有可能是因为你自行添加了某些软件存储库，或者 <code>sources.list</code> 中的条目有误。</p><p>这个时候应该在终端中尝试刷新软件包缓存。</p><pre tabindex=0><code>sudo apt update
</code></pre><p>检查输出结果的最后几行，它会给出错误信息（也就是以 “E:” 开头的行）。有了错误信息之后，就可以开始故障排除了。</p><h4 id=软件存储库中没有发布文件>软件存储库中没有发布文件</h4><p>如果 Ubuntu 用户未检查某个 PPA 是否支持其 Ubuntu 版本，就盲目向系统中添加该 PPA 时，就很可能会遇到这样的错误。</p><pre tabindex=0><code>E: The repository ‘http://ppa.launchpad.net/numix/ppa/ubuntu focal Release’ does not have a Release file.
</code></pre><p>原因很可能就是这个软件存储库没有针对所使用的 Ubuntu 版本进行配置。</p><p>下面这篇文章对此做了详细解释。</p><blockquote><p><strong><a href=https://itsfoss.com/repository-does-not-have-release-file-error-ubuntu/>软件存储库中没有发布文件</a></strong></p></blockquote><h4 id=mergelist-问题>MergeList 问题</h4><p>如果你看到这样的错误：</p><pre tabindex=0><code>E:Encountered a section with no Package: header,
E:Problem with MergeList /var/lib/apt/lists/archive.ubuntu.com_ubuntu_dists_precise_universe_binary-i386_Packages,
E:The package lists or status file could not be parsed or opened.
</code></pre><p>这表明第二行中提到的缓存文件已经损坏。对应的解决方法是清空缓存并重试。</p><p>下面这篇文章对此做了详细解释。</p><blockquote><p><strong><a href=https://itsfoss.com/how-to-fix-problem-with-mergelist/>MergeList 问题</a></strong></p></blockquote><h4 id=目标软件包被多次配置>目标软件包被多次配置</h4><p>好吧！严格来说，这不是一个错误。它只是一个警告。但它仍然很常见，可能会给许多 Ubuntu 新用户带来麻烦。</p><p>这是一个能让你把新学到的知识用在这里的好例子。</p><p>出现这个问题是因为 <code>sources.list</code> 文件中有重复的条目。解决办法是将所有重复的行删除至只保留一行。</p><p>下面这篇文章对此做了详细解释。</p><blockquote><p><strong><a href=https://itsfoss.com/fixing-target-packages-configured-multiple-times/>目标软件包被多次配置</a></strong></p></blockquote><h3 id=7继续学习>7、继续学习</h3><p>在读完这篇文章后，希望你对 Ubuntu 的软件存储库机制能有更深入的了解。下一次当你遇到错误并寻找解决方案时，你就更有可能理解发生了什么。</p><p>接下来，你应该学会使用 <code>apt</code> 的各种命令管理软件包，不仅仅只是 <code>apt install</code> 或 <code>apt remove</code>。</p><blockquote><p><strong><a href=https://itsfoss.com/apt-command-guide/>apt 命令详尽指南</a></strong></p></blockquote><p>你还可以详细了解一下关于软件包管理的其它知识。</p><blockquote><p><strong><a href=https://itsfoss.com/remove-install-software-ubuntu/>完全指南：在 Ubuntu 安装和删除软件</a></strong></p></blockquote><p>由于 Ubuntu 比以往任何时候都更推崇 Snap，所以你也应该学习一些必要的 Snap 命令。</p><blockquote><p><strong><a href=https://itsfoss.com/use-snap-packages-ubuntu-16-04/>完全指南：在 Ubuntu 上使用 Snap 安装包</a></strong></p></blockquote><p>Flatpak 应用程序也越来越受欢迎，你也很可能会接触到它们。</p><blockquote><p><strong><a href=https://itsfoss.com/flatpak-ubuntu/>在 Ubuntu 上安装和使用 Flatpak</a></strong></p></blockquote><p>希望你喜欢学习软件存储库的机制，并对软件包管理有更清晰的认识。欢迎在评论区分享你的想法。</p><p><em>（题图：MJ/6878226c-f6b0-40e7-aae7-d64932b36464）</em></p><hr><p>via: <a href=https://itsfoss.com/ubuntu-repository-mechanism/>https://itsfoss.com/ubuntu-repository-mechanism/</a></p><p>作者：<a href=https://itsfoss.com/author/abhishek/>Abhishek Prakash</a> 选题：<a href=https://github.com/lkxed/>lkxed</a> 译者：<a href=https://github.com/HankChow>HankChow</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E8%BD%AF%E4%BB%B6%E5%BA%93/ rel=tag>软件库</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%AD%98%E5%82%A8%E5%BA%93/ rel=tag>存储库</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>