<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Ubuntu 中配置 SSH 的完整指南 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Ubuntu 中配置 SSH 的完整指南"><meta property="og:description" content="如今 SSH 已成为了登录远程服务器的默认方式。"><meta property="og:type" content="article"><meta property="og:url" content="/article-15175-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-25T10:21:20+00:00"><meta property="article:modified_time" content="2022-10-25T10:21:20+00:00"><meta itemprop=name content="在 Ubuntu 中配置 SSH 的完整指南"><meta itemprop=description content="如今 SSH 已成为了登录远程服务器的默认方式。"><meta itemprop=datePublished content="2022-10-25T10:21:20+00:00"><meta itemprop=dateModified content="2022-10-25T10:21:20+00:00"><meta itemprop=wordCount content="345"><meta itemprop=keywords content="SSH,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Ubuntu 中配置 SSH 的完整指南</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2022-10-25T10:21:20Z>October 25, 2022</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/202210/25/102118u33grazpccrvxwdf.jpg alt></p><blockquote><p>如今 SSH 已成为了登录远程服务器的默认方式。</p></blockquote><p>SSH 的全称是 “ 安全的 Shell Secure Shell ”，它功能强大、效率高，这个主流的网络协议用于在两个远程终端之间建立连接。让我们不要忘记它名称的“安全”部分，SSH 会加密所有的通信流量，以防止如劫持、窃听等攻击，同时提供不同的身份认证方式和无数个配置选项。</p><p>在这份新手指南中，你会学到：</p><ul><li>SSH 的基本概念</li><li>设置 SSH 服务器（在你想要远程登录的系统上）</li><li>从客户端（你的电脑）通过 SSH 连接远程服务器</li></ul><h3 id=ssh-的基本概念>SSH 的基本概念</h3><p>在学习配置过程前，让我们先了解一下 SSH 的全部基础概念。</p><p>SSH 协议基于 客户端-服务器 server-client （CS）架构。“ 服务器 Server ”允许“ 客户端 Client ”通过通信通道进行连接。该信道是经过加密的，信息交换通过 SSH 公私钥进行管理。</p><p><img src=/data/attachment/album/202210/25/102121zsucshrqinghb4zw.png alt="Image credit: SSH"></p><p><a href=https://www.openssh.com/>OpenSSH</a> 是在 Linux、BSD 和 Windows 系统上提供 SSH 功能的最流行的开源工具之一。</p><p>想要成功配置 SSH，你需要：</p><ul><li>在作为服务器的机器上部署 SSH 服务器组件，它由 <code>openssh-server</code> 包提供。</li><li>在你远程访问服务器的客户端机器上部署 SSH 客户端组件，它由 <code>openssh-client</code> 包提供，大多数 Linux 和 BSD 发行版都已经预装好了。</li></ul><p>区分服务器和客户端是十分重要的事情。或许你不想要你的 PC 作为 SSH 服务器，除非你有充分理由希望其他人通过 SSH 连接你的系统。</p><p>通常来说，你有一个专用的服务器系统。例如，一个 <a href=https://itsfoss.com/install-ubuntu-server-raspberry-pi/>运行 Ubuntu 的树莓派</a>。你可以 <a href=https://itsfoss.com/ssh-into-raspberry/>启用树莓派的 SSH 服务</a>，这样你可以在你 PC 中的终端中，通过 SSH 控制并管理该设备。</p><p>有了这些信息，让我们看看如何在 Ubuntu 上设置 SSH 服务器。</p><h3 id=在-ubuntu-服务器中配置-ssh>在 Ubuntu 服务器中配置 SSH</h3><p>设置 SSH 并不复杂，只需要以下几步。</p><h4 id=前提>前提</h4><ul><li>一个在服务器端拥有 <code>sudo</code> 权限的用户</li><li>可以下载所需包的互联网连接</li><li>在你的网络中至少有另一个系统。可以是局域网中的另一台电脑，远程服务器或者计算机中托管的虚拟机。</li></ul><p><strong>再次强调，在你想要通过 SSH 远程登录的系统上安装 SSH 服务。</strong></p><h4 id=第一步安装所需包>第一步：安装所需包</h4><p>让我们从打开终端输入一些必要命令开始。</p><p>注意，在安装新的包或者软件前，要 <a href=https://itsfoss.com/update-ubuntu/>更新你的 Ubuntu 系统</a>，以确保运行的是最新版本的程序。</p><pre tabindex=0><code>sudo apt update &amp;&amp; sudo apt upgrade
</code></pre><p>你要运行 SSH 服务器的包由 OpensSSH 的 <code>openssh-server</code> 组件提供：</p><pre tabindex=0><code>sudo apt install openssh-server
</code></pre><p><img src=/data/attachment/album/202210/25/102122lbaui9ua741m4o76.png alt></p><h4 id=第二步检查服务器状态>第二步：检查服务器状态</h4><p>当你下载并安装完包后，SSH 服务器应该已经运行了，但是为了确保万无一失我们需要检查一下：</p><pre tabindex=0><code>service ssh status
</code></pre><p>你还可以使用 <code>systemctl</code> 命令：</p><pre tabindex=0><code>sudo systemctl status ssh
</code></pre><p>你应该会看到这样的结果，其中 <code>active</code> 是高亮的。输入 <code>q</code> 退出该页面。</p><p><img src=/data/attachment/album/202210/25/102122pllfzy7yy5y227zl.png alt></p><p>如果你的结果中 SSH 服务没有运行，使用这个命令运行它：</p><pre tabindex=0><code>sudo systemctl enable --now ssh
</code></pre><h4 id=第三步允许-ssh-通过防火墙>第三步：允许 SSH 通过防火墙</h4><p>Ubuntu 带有名为 <a href=https://itsfoss.com/set-up-firewall-gufw/>UFW</a>（ 简单的防火墙 Uncomplicated Firewall ）的防火墙，这是管理网络规则的 <code>iptables</code> 的一个接口。如果启动了防火墙，它可能会阻止你连接服务器。</p><p>想要配置 UFW 允许你的接入，你需要运行如下命令：</p><pre tabindex=0><code>sudo ufw allow ssh
</code></pre><p>UFW 的运行状态可以通过运行 <code>sudo ufw status</code> 来检查。</p><p>现在，我们的 SSH 服务器已经开始运行了，在等待来自客户端的连接。</p><h3 id=连接远程服务器>连接远程服务器</h3><p>你本地的 Linux 系统已经安装了 SSH 客户端。如果没有，你可以在 Ubuntu 中使用如下命令安装：</p><pre tabindex=0><code>sudo apt install openssh-client
</code></pre><p>要连接你的 Ubuntu 系统，你需要知道它的 IP 地址，然后使用 <code>ssh</code> 命令，就像这样：</p><pre tabindex=0><code>ssh username@address
</code></pre><p>将 <strong>用户名</strong>（<code>username</code>）改为你的系统上的实际用户名，并将 <strong>地址</strong>（<code>address</code>）改为你服务器的 IP 地址。</p><p>如果你 <a href=https://itsfoss.com/check-ip-address-ubuntu/>不知道 IP 地址</a>，可以在服务器的终端输入 <code>ip a</code> 查看结果。应该会看到这样的结果：</p><p><img src=/data/attachment/album/202210/25/102123p5vv2mmn5l94gz50.png alt="Using “ip a” to find the IP address"></p><p>可以看到我的 IP 地址是 <code>192.168.1.111</code>。让我们使用 <code>username@address</code> 格式进行连接。</p><pre tabindex=0><code>ssh team@192.168.1.111
</code></pre><p>这是你第一次连接到该 SSH 服务器，它会请求添加主机。输入 <code>yes</code> 并回车即可。</p><p><img src=/data/attachment/album/202210/25/102124t9vwtwva6hh9p5hq.png alt="First time connecting to the server"></p><p>SSH 会立即告诉你该主机已经被永久添加了，并要求你输入指定用户的密码，输入密码并再次按回车即可。</p><p><img src=/data/attachment/album/202210/25/102124xpro252y5s2j22so.png alt="Host added, now type in the password"></p><p>瞧，你远程登录了你的 Ubuntu 系统！</p><p><img src=/data/attachment/album/202210/25/102125x3bzyv90j333byx3.png alt=Connected!></p><p>现在，你可以在远程服务器的终端里和寻常一样工作了。</p><h4 id=关闭-ssh-连接>关闭 SSH 连接</h4><p>你只需要输入 <code>exit</code> 即可关闭连接，它会立马关闭不需要确认。</p><p><img src=/data/attachment/album/202210/25/102126oidf7mxexk0bt6bb.png alt="Closing the connection with “exit”"></p><h3 id=在-ubuntu-中关闭并禁止-ssh>在 Ubuntu 中关闭并禁止 SSH</h3><p>如果你想要停止 SSH 服务，需要运行该命令：</p><pre tabindex=0><code>sudo systemctl stop ssh
</code></pre><p>该命令会关闭 SSH 服务，直到重启它或者系统重启。想要重启它，输入：</p><pre tabindex=0><code>sudo systemctl start ssh
</code></pre><p>现在，如果你想要禁止 SSH 跟随系统启动，使用该命令：</p><pre tabindex=0><code>sudo systemctl disable ssh
</code></pre><p>该命令不会停止当前的 SSH 会话，只会在启动的时候生效。如果你想要它跟随系统启动，输入：</p><pre tabindex=0><code>sudo systemctl enable ssh
</code></pre><h4 id=其他-ssh-客户端>其他 SSH 客户端</h4><p>从 Linux 到 macOS，大多数 *nix 系统中都有 <code>ssh</code> 工具，但这并不是唯一的选项，这里有几个可以在其他操作系统中使用的客户端：</p><ul><li><a href=https://www.putty.org/>PuTTY</a> 是一个自由开源的 Windows 系统上的 SSH 客户端。它功能强大并且简单易用。如果你从 Windows 系统上连接你的 Ubuntu 服务器，PuTTY 是最好的选择。（LCTT 译注：切记从官方网站下载。）</li><li>对安卓用户来说，<a href=https://juicessh.com/>JuiceSSH</a> 是十分优秀的工具。如果你在旅途中需要一个移动客户端来连接你的 Ubuntu 系统，我强烈建议你试试 JuiceSSH。它已经出现了将近 10 年，并且可以免费使用。</li><li>最后是 <a href=https://termius.com/>Termius</a>，它可用于 Linux、Windows、macOS、iOS 和安卓。它有一个免费版本和几个付费选项。如果你运行大量服务器并进行共享连接的团队合作，那么 Termius 对你来说是一个不错的选择。</li></ul><h4 id=总结>总结</h4><p>在这份指导中，你可以在 Ubuntu 系统中设置 SSH 作为服务器，允许来自你电脑的远程安全的连接，便于你通过命令行开展工作。</p><p>此，我推荐以下文章：</p><ul><li><a href=https://linuxhandbook.com/ssh-basics/>Linux SSH 入门教程</a></li><li><a href=https://linuxhandbook.com/ssh-config-file/>利用 SSH 配置文件管理多个 SSH 连接</a></li><li><a href=https://linuxhandbook.com/add-ssh-public-key-to-server/>向 SSH 服务器添加公钥以进行无密码身份验证</a></li><li><a href=https://linuxhandbook.com/ssh-hardening-tips/>保护你的 SSH 服务器的 SSH 加固技巧</a></li></ul><p>远程工作快乐！</p><hr><p>via: <a href=https://itsfoss.com/set-up-ssh-ubuntu/>https://itsfoss.com/set-up-ssh-ubuntu/</a></p><p>作者：<a href=https://itsfoss.com/author/chris/>Chris Patrick Carias Stas</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/Donkey-Hao>Donkey-Hao</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/ssh/ rel=tag>SSH</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>