<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>di - 比 df 更有用的磁盘信息工具 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="di - 比 df 更有用的磁盘信息工具"><meta property="og:description" content="如果你是个Linux命令行用户，你肯定会使用df命令检查文件系统的磁盘使用情况。尽管df是一个受欢迎的命令，但仍然不能提供一些高级的功能，如一个用户实际的磁盘可用空间，以及各种有用的显示格式等。还有另一个命令  &mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/article-2187-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-10-30T16:23:00+00:00"><meta property="article:modified_time" content="2013-10-30T16:23:00+00:00"><meta itemprop=name content="di - 比 df 更有用的磁盘信息工具"><meta itemprop=description content="如果你是个Linux命令行用户，你肯定会使用df命令检查文件系统的磁盘使用情况。尽管df是一个受欢迎的命令，但仍然不能提供一些高级的功能，如一个用户实际的磁盘可用空间，以及各种有用的显示格式等。还有另一个命令  &mldr;"><meta itemprop=datePublished content="2013-10-30T16:23:00+00:00"><meta itemprop=dateModified content="2013-10-30T16:23:00+00:00"><meta itemprop=wordCount content="604"><meta itemprop=keywords content="Linux,命令,di,df,磁盘,工具,技巧,教程,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>di - 比 df 更有用的磁盘信息工具</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2013-10-30T16:23:00Z>October 30, 2013</time></div></div></header><div class="content post__content clearfix"><p>如果你是个Linux命令行用户，你肯定会使用df命令检查文件系统的磁盘使用情况。尽管df是一个受欢迎的命令，但仍然不能提供一些高级的功能，如一个用户实际的磁盘可用空间，以及各种有用的显示格式等。还有另一个命令行实用工具可用，不仅提供了这些高级功能也提供了df的所有特性。在本文中,我们将讨论磁盘信息工具 &ndash; <strong>di</strong></p><p><strong><img src=https://img.linux.net.cn/data/attachment/album/201310/29/161553bvqjyhhqevhshpb2.png alt></strong></p><p><strong>注释</strong> - 如果你想了解 df 更多信息, 查看 <a href=http://www.expertslogin.com/linux-command/linux-df-command/>df命令教程</a>.</p><h2 id=di---磁盘信息工具><strong>di - 磁盘信息工具</strong></h2><p><img src=https://img.linux.net.cn/data/attachment/album/201310/29/16155947c35ecb949egu4j.png alt></p><p>从这个di帮助手册页很明显的发现 di 提供了一些很有价值的特性，值得一试。让我们看一些这个工具实际使用的例子。</p><h3 id=测试环境><strong>测试环境</strong></h3><ul><li>OS – Ubuntu 13.04</li><li>Shell – Bash 4.2.45</li><li>Application – di 4.30</li></ul><h2 id=一个简短的教程><strong>一个简短的教程</strong></h2><p>下面是一些 di 工具的示例:</p><h3 id=1-默认的输出><strong>1. 默认的输出</strong></h3><p>默认情况下di命令生成人们易读的输出格式</p><p>这里有个示例:</p><pre tabindex=0><code>$ di
Filesystem         Mount               Size     Used    Avail %Used  fs Type 
/dev/sda6          /                  28.1G    20.2G     6.5G   77%  ext4    
udev               /dev                1.5G     0.0G     1.5G    0%  devtmpfs
tmpfs              /run              300.2M     0.9M   299.3M    0%  tmpfs
</code></pre><p>所以你能发现用千兆字节(G)和兆字节(M)做磁盘使用情况的数据单位。这绝对是比 df 默认的输出产生的效果好。（译注：df也可以输出带类似单位的显示，只是需要额外加参数 -h）</p><h3 id=2-用--a-选项打印类似挂载点特殊设备名称等全部字段><strong>2. 用 -A 选项打印类似挂载点、特殊设备名称等全部字段</strong></h3><p>选项 -A可以用来极详细的打印挂载点，特殊设备名称等。</p><p>这里有个示例:</p><pre tabindex=0><code>$ di -A
Mount fs Type  Filesystem 
     Options                             
        Size     Used     Free %Used  %Free 
        Size     Used    Avail %Used  %Free 
        Size     Used    Avail %Used  
       Inodes     Iused     Ifree %Iused
/     ext4     /dev/sda6  
    rw,errors=remount-ro                
       28.1G    20.2G     8.0G   72%    28%  
       28.1G    21.6G     6.5G   77%    23%  
       26.7G    20.2G     6.5G   75%  
      1884160    389881   1494279   21% 
/dev  devtmpfs udev       
    rw,mode=0755                        
        1.5G     0.0G     1.5G    0%   100%  
        1.5G     0.0G     1.5G    0%   100%  
        1.5G     0.0G     1.5G    0%  
       381805       571    381234    0% 
/run  tmpfs    tmpfs      
    rw,noexec,nosuid,size=10%,mode=0755 
      300.2M     0.9M   299.3M    0%   100%  
      300.2M     0.9M   299.3M    0%   100%  
      300.2M     0.9M   299.3M    0%  
       384191       549    383642    0%
</code></pre><p>所以你可以看到所有的字段，可以用于调试目的时打印输出。</p><h3 id=3-用--a选项打印所有挂载设备><strong>3. 用 -a选项打印所有挂载设备</strong></h3><p>这里是个示例:</p><pre tabindex=0><code>$ di -a
Filesystem         Mount               Size     Used    Avail %Used  fs Type        
/dev/sda6          /                  28.1G    20.2G     6.5G   77%  ext4           
udev               /dev                1.5G     0.0G     1.5G    0%  devtmpfs       
devpts             /dev/pts            0.0M     0.0M     0.0M    0%  devpts         
proc               /proc               0.0M     0.0M     0.0M    0%  proc           
binfmt_misc        /proc/sys/fs/bi     0.0M     0.0M     0.0M    0%  binfmt_misc    
tmpfs              /run              300.2M     0.9M   299.3M    0%  tmpfs          
none               /run/lock           0.0M     0.0M     0.0M    0%  tmpfs          
none               /run/shm            0.0M     0.0M     0.0M    0%  tmpfs          
none               /run/user           0.0M     0.0M     0.0M    0%  tmpfs          
gvfsd-fuse         /run/user/himan     0.0M     0.0M     0.0M    0%  fuse.gvfsd-fuse
sysfs              /sys                0.0M     0.0M     0.0M    0%  sysfs          
none               /sys/fs/cgroup      0.0M     0.0M     0.0M    0%  tmpfs          
none               /sys/fs/fuse/co     0.0M     0.0M     0.0M    0%  fusectl        
none               /sys/kernel/deb     0.0M     0.0M     0.0M    0%  debugfs        
none               /sys/kernel/sec     0.0M     0.0M     0.0M    0%  securityfs
</code></pre><p>所以你能看到与所有设备相关的所有信息，被打印出来了。</p><h3 id=4-用--c-选项用逗号作为值的分隔符><strong>4. 用 -c 选项用逗号作为值的分隔符</strong></h3><p>选项 -c 用命令分隔的值将附上双引号</p><p>这里是个示例:</p><pre tabindex=0><code>$ di -c
s,m,b,u,v,p,T
/dev/sda6,/,28.1G,20.2G,6.5G,77%,ext4
udev,/dev,1.5G,0.0G,1.5G,0%,devtmpfs
tmpfs,/run,300.2M,0.9M,299.3M,0%,tmpfs
</code></pre><p>如上,你可以看到打印了用逗号分隔符输出的值。（译注：这种输出便于作为其他程序的输入解析）</p><h3 id=5-用--g-选项通过千兆字节g打印大小><strong>5. 用 -g 选项通过千兆字节(G)打印大小</strong></h3><p>下面是个示例:</p><pre tabindex=0><code>$ di -g
Filesystem         Mount              Gibis     Used    Avail %Used  fs Type 
/dev/sda6          /                   28.1     20.2      6.5   77%  ext4    
udev               /dev                 1.5      0.0      1.5    0%  devtmpfs
tmpfs              /run                 0.3      0.0      0.3    0%  tmpfs
</code></pre><p>当然,你能看到所有与大小有关的值都用千兆字节(G)打印出来。</p><p>同样的你可以用 -k 和 -m 选项来分别的显示千字节(K)大小和兆字节(M)大小。</p><h3 id=6-通过--i-选项显示特定的文件系统类型的相关信息><strong>6. 通过 -I 选项显示特定的文件系统类型的相关信息</strong></h3><p>假设你想显示只跟tmpfs文件系统相关的信息。下面将告诉你如何用 -I 选项完成任务。</p><pre tabindex=0><code>$ di -I tmpfs
Filesystem         Mount               Size     Used    Avail %Used  fs Type
tmpfs              /run              300.2M     0.9M   299.3M    0%  tmpfs  
none               /run/lock           5.0M     0.0M     5.0M    0%  tmpfs  
none               /run/shm            1.5G     0.0G     1.5G    0%  tmpfs  
none               /run/user         100.0M     0.0M   100.0M    0%  tmpfs  
none               /sys/fs/cgroup      0.0M     0.0M     0.0M    0%  tmpfs
</code></pre><p>Ok 你能看到只有tmpfs类型相关文件系统信息被输出并显示出来了。</p><h3 id=7-用--n-选项跳过标题行的输出><strong>7. 用 -n 选项跳过标题行的输出</strong></h3><p>如果你正试图通过一个脚本(或程序)解析该命令的输出结果并希望 di 命令跳过显示的标题行，那么用 -n 选项是绝佳的方法。</p><p>下面是个示例:</p><pre tabindex=0><code>$ di -n
/dev/sda6          /                  28.1G    20.2G     6.5G   77%  ext4    
udev               /dev                1.5G     0.0G     1.5G    0%  devtmpfs
tmpfs              /run              300.2M     0.9M   299.3M    0%  tmpfs
</code></pre><p>如上，你能发现输出中并没有显示标题行。</p><h3 id=8-通过--t-选项在文件系统列表底下再打印一行总计行><strong>8. 通过 -t 选项在文件系统列表底下再打印一行总计行</strong></h3><p>如果想要显示所有相关列的总数，用 -t 选项。</p><p>示例:</p><pre tabindex=0><code>$ di -t
Filesystem         Mount               Size     Used    Avail %Used  fs Type 
/dev/sda6          /                  28.1G    20.2G     6.5G   77%  ext4    
udev               /dev                1.5G     0.0G     1.5G    0%  devtmpfs
tmpfs              /run              300.2M     0.9M   299.3M    0%  tmpfs   
                   Total              29.9G    20.2G     8.3G   72%
</code></pre><p>观察到最后一行的值为所有文件系统的统计数据。</p><h3 id=9-通过--s-选项-排序输出><strong>9. 通过 -s 选项 排序输出</strong></h3><p>-s选项可用于排序该命令的输出结果（译注：默认按照挂载点名称排序）</p><p>下面告诉你如何反向排序输出:</p><pre tabindex=0><code>$ di -sr
Filesystem         Mount               Size     Used    Avail %Used  fs Type
tmpfs              /run              300.2M     0.9M   299.3M    0%  tmpfs
udev               /dev                1.5G     0.0G     1.5G    0%  devtmpfs
/dev/sda6          /                  28.1G    20.2G     6.5G   77%  ext4
</code></pre><p>你也可以在-s后添加子选项&rsquo;r&rsquo;逆序排序输出。</p><p>类似的,你可以使用 -s 选项做一些其他类型的排序.以下是摘自man手册供您参考:</p><blockquote><p>-s 排序方式</p><p>可以指定排序方式。默认排序方式的按照挂载点的名称进行排序。支持如下的排序方式：</p><p>m ：按照挂载点名称排序（默认）</p><p>n ：不排序（即按照在挂载表/etc/fstab中的顺序）</p><p>s ：按照特殊设备名称</p><p>t ：按照文件系统类型</p><p>r ：逆序排序</p><p>排序方式可以组合使用，如： di &ndash;stsrm ：按照类型、设备、挂载点逆序排序。di &ndash;strsrm ：按照类型、设备逆序、挂载点逆序排序。</p></blockquote><h3 id=10-通过--f-选项指定输出格式><strong>10. 通过 -f 选项指定输出格式</strong></h3><p>你可以通过结合-f选项和其子选项指定输出格式字符串。</p><p>例如，用 -fm，打印挂载点的名称。</p><p>示例:</p><pre tabindex=0><code>$ di -fm
Mount          
/              
/dev          
/run
</code></pre><p>如上你可以看到只有挂载点的名字被打印出来。</p><p>同样的，打印文件系统的类型，用 -ft</p><p>示例:</p><pre tabindex=0><code>$ di -ft
fsType 
ext4   
devtmpf
tmpfs
</code></pre><p>如果你想快速查找,这里有个其他可用的格式选项截图.</p><p>更完整的选项,参考<a href=http://www.manpagez.com/man/1/di/>di命令man文档</a></p><h3 id=下载安装><strong>下载/安装</strong></h3><p>这里有一些关于di命令的重要链接:</p><ul><li><a href=http://www.gentoo.com/di/>主页</a></li><li><a href=http://freecode.com/projects/diskinfo>下载链接</a></li></ul><p>命令行工具 di 也能通过apt、yum等命令在命令行下载和安装。Ubuntu用户也可以从Ubuntu 软件中心下载这个命令。</p><h3 id=优点><strong>优点</strong></h3><ul><li>提供了许多高级功能</li><li>跨平台</li></ul><h3 id=缺点><strong>缺点</strong></h3><ul><li>在大多数的Linux发行版没有预装</li><li>大量选项需要学习</li></ul><h3 id=结论><strong>结论</strong></h3><p>最后，di命令提供了一些非常有用的特性，比df命令更强大。如果你正在寻找一个类似df，但比df更强大的关于磁盘信息的命令行工具，那么di是最理想的选择。试试吧，包你满意!!!</p><p><strong>你试过di或任何其他类似df工具？请跟我们分享你的经验！</strong></p><p>via: <a href=http://mylinuxbook.com/di-a-disk-information-utility/>http://mylinuxbook.com/di-a-disk-information-utility/</a></p><p>译者：<a href=https://github.com/Luoxcat>Luoxcat</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/linux/ rel=tag>Linux</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%91%BD%E4%BB%A4/ rel=tag>命令</a></li><li class=tags__item><a class="tags__link btn" href=/tags/di/ rel=tag>di</a></li><li class=tags__item><a class="tags__link btn" href=/tags/df/ rel=tag>df</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E7%A3%81%E7%9B%98/ rel=tag>磁盘</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E5%B7%A5%E5%85%B7/ rel=tag>工具</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%8A%80%E5%B7%A7/ rel=tag>技巧</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%95%99%E7%A8%8B/ rel=tag>教程</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>