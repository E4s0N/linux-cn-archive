<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>如何在 Ubuntu 15.04/CentOS 7 中安装 Lighttpd Web 服务器 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="如何在 Ubuntu 15.04/CentOS 7 中安装 Lighttpd Web 服务器"><meta property="og:description" content="Lighttpd 是一款开源 Web 服务器软件。Lighttpd 安全快速，符合行业标准，适配性强并且针对高配置环境进行了优化。相对于其它的 Web 服务器而言，Lighttpd 占用内存更少；因其对 CPU 占用小和对处理速度的优化而在效率和速度方面从众多 Web 服务器中脱颖而出。"><meta property="og:type" content="article"><meta property="og:url" content="/article-7547-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-07-07T09:50:40+00:00"><meta property="article:modified_time" content="2016-07-07T09:50:40+00:00"><meta itemprop=name content="如何在 Ubuntu 15.04/CentOS 7 中安装 Lighttpd Web 服务器"><meta itemprop=description content="Lighttpd 是一款开源 Web 服务器软件。Lighttpd 安全快速，符合行业标准，适配性强并且针对高配置环境进行了优化。相对于其它的 Web 服务器而言，Lighttpd 占用内存更少；因其对 CPU 占用小和对处理速度的优化而在效率和速度方面从众多 Web 服务器中脱颖而出。"><meta itemprop=datePublished content="2016-07-07T09:50:40+00:00"><meta itemprop=dateModified content="2016-07-07T09:50:40+00:00"><meta itemprop=wordCount content="442"><meta itemprop=keywords content="Lighttpd,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>如何在 Ubuntu 15.04/CentOS 7 中安装 Lighttpd Web 服务器</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2016-07-07T09:50:40Z>July 07, 2016</time></div></div></header><div class="content post__content clearfix"><p>Lighttpd 是一款开源 Web 服务器软件。Lighttpd 安全快速，符合行业标准，适配性强并且针对高配置环境进行了优化。相对于其它的 Web 服务器而言，Lighttpd 占用内存更少；因其对 CPU 占用小和对处理速度的优化而在效率和速度方面从众多 Web 服务器中脱颖而出。而 Lighttpd 诸如 FastCGI、CGI、认证、输出压缩、URL 重写等高级功能更是那些面临性能压力的服务器的福音。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201607/07/095035jmprwmywkkw1w122.jpg alt></p><p>以下便是我们在运行 Ubuntu 15.04 或 CentOS 7 Linux 发行版的机器上安装 Lighttpd Web 服务器的简要流程。</p><h3 id=安装lighttpd>安装Lighttpd</h3><h4 id=使用包管理器安装>使用包管理器安装</h4><p>这里我们通过使用包管理器这种最简单的方法来安装 Lighttpd。只需以 sudo 模式在终端或控制台中输入下面的指令即可。</p><p><strong>CentOS 7</strong></p><p>由于 CentOS 7.0 官方仓库中并没有提供 Lighttpd，所以我们需要在系统中安装额外的软件源 epel 仓库。使用下面的 yum 指令来安装 epel。</p><pre tabindex=0><code># yum install epel-release
</code></pre><p>然后，我们需要更新系统及为 Lighttpd 的安装做前置准备。</p><pre tabindex=0><code># yum update
# yum install lighttpd
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201607/07/095043p57wz7d62z7w2qwb.png alt="Install Lighttpd Centos"></p><p><strong>Ubuntu 15.04</strong></p><p>Ubuntu 15.04 官方仓库中包含了 Lighttpd，所以只需更新本地仓库索引并使用 apt-get 指令即可安装 Lighttpd。</p><pre tabindex=0><code># apt-get update
# apt-get install lighttpd
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/201607/07/095044lxhuineeubb6tx7n.png alt="Install lighttpd ubuntu"></p><h4 id=从源代码安装-lighttpd>从源代码安装 Lighttpd</h4><p>如果想从 Lighttpd 源码安装最新版本（例如 1.4.39），我们需要在本地编译源码并进行安装。首先我们要安装编译源码所需的依赖包。</p><pre tabindex=0><code># cd /tmp/
# wget http://download.lighttpd.net/lighttpd/releases-1.4.x/lighttpd-1.4.39.tar.gz
</code></pre><p>下载完成后，执行下面的指令解压缩。</p><pre tabindex=0><code># tar -zxvf lighttpd-1.4.39.tar.gz
</code></pre><p>然后使用下面的指令进行编译。</p><pre tabindex=0><code># cd lighttpd-1.4.39
# ./configure
# make
</code></pre><p>**注：**在这份教程中，我们安装的是默认配置的 Lighttpd。其他拓展功能，如对 SSL 的支持，mod<em>rewrite，mod</em>redirect 等，需自行配置。</p><p>当编译完成后，我们就可以把它安装到系统中了。</p><pre tabindex=0><code># make install
</code></pre><h3 id=设置-lighttpd>设置 Lighttpd</h3><p>如果有更高的需求，我们可以通过修改默认设置文件，如<code>/etc/lighttpd/lighttpd.conf</code>，来对 Lighttpd 进行进一步设置。 而在这份教程中我们将使用默认设置，不对设置文件进行修改。如果你曾做过修改并想检查设置文件是否出错，可以执行下面的指令。</p><pre tabindex=0><code># lighttpd -t -f /etc/lighttpd/lighttpd.conf
</code></pre><h4 id=使用-centos-7>使用 CentOS 7</h4><p>在 CentOS 7 中，我们需创建一个在 Lighttpd 默认配置文件中设置的 webroot 文件夹，例如<code>/src/www/htdocs</code>。</p><pre tabindex=0><code># mkdir -p /srv/www/htdocs/
</code></pre><p>而后将默认欢迎页面从<code>/var/www/lighttpd</code>复制至刚刚新建的目录中：</p><pre tabindex=0><code># cp -r /var/www/lighttpd/* /srv/www/htdocs/
</code></pre><h3 id=开启服务>开启服务</h3><p>现在，通过执行 systemctl 指令来重启 Web 服务。</p><pre tabindex=0><code># systemctl start lighttpd
</code></pre><p>然后我们将它设置为伴随系统启动自动运行。</p><pre tabindex=0><code># systemctl enable lighttpd
</code></pre><h3 id=设置防火墙>设置防火墙</h3><p>如要让我们运行在 Lighttpd 上的网页或网站能在 Internet 或同一个网络内被访问，我们需要在防火墙程序中设置打开 80 端口。由于 CentOS 7 和 Ubuntu15.04 都附带 Systemd 作为默认初始化系统，所以我们默认用的都是 firewalld。如果要打开 80 端口或 http 服务，我们只需执行下面的命令：</p><pre tabindex=0><code># firewall-cmd --permanent --add-service=http
success
# firewall-cmd --reload
success
</code></pre><h3 id=连接至-web-服务器>连接至 Web 服务器</h3><p>在将 80 端口设置为默认端口后，我们就可以直接访问 Lighttpd 的默认欢迎页了。我们需要根据运行 Lighttpd 的设备来设置浏览器的 IP 地址和域名。在本教程中，我们令浏览器访问 <a href=http://lighttpd.linoxide.com/>http://lighttpd.linoxide.com/</a> ，同时将该子域名指向上述 IP 地址。如此一来，我们就可以在浏览器中看到如下的欢迎页面了。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201607/07/095044uxvy6hk7yqhkkvqv.png alt="Lighttpd Welcome Page"></p><p>此外，我们可以将网站的文件添加到 webroot 目录下，并删除 Lighttpd 的默认索引文件，使我们的静态网站可以在互联网上访问。</p><p>如果想在 Lighttpd Web 服务器中运行 PHP 应用，请参考下面的步骤：</p><h3 id=安装-php5-模块>安装 PHP5 模块</h3><p>在 Lighttpd 成功安装后，我们需要安装 PHP 及相关模块，以在 Lighttpd 中运行 PHP5 脚本。</p><h4 id=使用-ubuntu-1504>使用 Ubuntu 15.04</h4><pre tabindex=0><code># apt-get install php5 php5-cgi php5-fpm php5-mysql php5-curl php5-gd php5-intl php5-imagick php5-mcrypt php5-memcache php-pear
</code></pre><h4 id=使用-centos-7-1>使用 CentOS 7</h4><pre tabindex=0><code># yum install php php-cgi php-fpm php-mysql php-curl php-gd php-intl php-pecl-imagick php-mcrypt php-memcache php-pear lighttpd-fastcgi
</code></pre><h3 id=设置-lighttpd-的-php-服务>设置 Lighttpd 的 PHP 服务</h3><p>如要让 PHP 与 Lighttpd 协同工作，我们只要根据所使用的发行版执行如下对应的指令即可。</p><h4 id=使用-centos-7-2>使用 CentOS 7</h4><p>首先要做的便是使用文件编辑器编辑 php 设置文件（例如<code>/etc/php.ini</code>）并取消掉对<code>cgi.fix_pathinfo=1</code>这一行的注释。</p><pre tabindex=0><code># nano /etc/php.ini
</code></pre><p>完成上面的步骤之后，我们需要把 PHP-FPM 进程的所有权从 Apache 转移至 Lighttpd。要完成这些，首先用文件编辑器打开<code>/etc/php-fpm.d/www.conf</code>文件。</p><pre tabindex=0><code># nano /etc/php-fpm.d/www.conf
</code></pre><p>然后在文件中增加下面的语句：</p><pre tabindex=0><code>user = lighttpd
group = lighttpd
</code></pre><p>做完这些，我们保存并退出文本编辑器。然后从<code>/etc/lighttpd/modules.conf</code>设置文件中添加 FastCGI 模块。</p><pre tabindex=0><code># nano /etc/lighttpd/modules.conf
</code></pre><p>然后，去掉下面语句前面的<code>#</code>来取消对它的注释。</p><pre tabindex=0><code>include &#34;conf.d/fastcgi.conf&#34;
</code></pre><p>最后我们还需在文本编辑器设置 FastCGI 的设置文件。</p><pre tabindex=0><code># nano /etc/lighttpd/conf.d/fastcgi.conf
</code></pre><p>在文件尾部添加以下代码：</p><pre tabindex=0><code>fastcgi.server += ( &#34;.php&#34; =&gt;
((
&#34;host&#34; =&gt; &#34;127.0.0.1&#34;,
&#34;port&#34; =&gt; &#34;9000&#34;,
&#34;broken-scriptfilename&#34; =&gt; &#34;enable&#34;
))
)
</code></pre><p>在编辑完成后保存并退出文本编辑器即可。</p><h4 id=使用-ubuntu-1504-1>使用 Ubuntu 15.04</h4><p>如需启用 Lighttpd 的 FastCGI，只需执行下列代码：</p><pre tabindex=0><code># lighttpd-enable-mod fastcgi

Enabling fastcgi: ok
Run /etc/init.d/lighttpd force-reload to enable changes

# lighttpd-enable-mod fastcgi-php

Enabling fastcgi-php: ok
Run `/etc/init.d/lighttpd` force-reload to enable changes
</code></pre><p>然后，执行下列命令来重启 Lighttpd。</p><pre tabindex=0><code># systemctl force-reload lighttpd
</code></pre><h3 id=检测-php-工作状态>检测 PHP 工作状态</h3><p>如需检测 PHP 是否按预期工作，我们需在 Lighttpd 的 webroot 目录下新建一个 php 文件。本教程中，在 Ubuntu 下 /var/www/html 目录，CentOS 下 /src/www/htdocs 目录下使用文本编辑器创建并打开 info.php。</p><p><strong>使用 CentOS 7</strong></p><pre tabindex=0><code># nano  /var/www/info.php
</code></pre><p><strong>使用 Ubuntu 15.04</strong></p><pre tabindex=0><code># nano /srv/www/htdocs/info.php
</code></pre><p>然后只需将下面的语句添加到文件里即可。</p><pre tabindex=0><code>&lt;?php phpinfo(); ?&gt;
</code></pre><p>在编辑完成后保存并推出文本编辑器即可。</p><p>现在，我们需根据路径 <a href=http://lighttpd.linoxide.com/info.php>http://lighttpd.linoxide.com/info.php</a> 下的 info.php 文件的 IP 地址或域名，来让我们的网页浏览器指向系统上运行的 Lighttpd。如果一切都按照以上说明进行，我们将看到如下图所示的 PHP 页面信息。</p><p><img src=https://img.linux.net.cn/data/attachment/album/201607/07/095045uv6pcixzvjsxwvid.png alt="phpinfo lighttpd"></p><h3 id=总结>总结</h3><p>至此，我们已经在 CentOS 7 和 Ubuntu 15.04 Linux 发行版上成功安装了轻巧快捷并且安全的 Lighttpd Web 服务器。现在，我们已经可以上传网站文件到网站根目录、配置虚拟主机、启用 SSL、连接数据库，在我们的 Lighttpd Web 服务器上运行 Web 应用等功能了。 如果你有任何疑问，建议或反馈请在下面的评论区中写下来以让我们更好的改良 Lighttpd。谢谢！</p><hr><p>via: <a href=http://linoxide.com/linux-how-to/setup-lighttpd-web-server-ubuntu-15-04-centos-7/>http://linoxide.com/linux-how-to/setup-lighttpd-web-server-ubuntu-15-04-centos-7/</a></p><p>作者：<a href=http://linoxide.com/author/arunp/>Arun Pyasi</a> 译者：<a href=https://github.com/HaohongWANG>HaohongWANG</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/lighttpd/ rel=tag>Lighttpd</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>