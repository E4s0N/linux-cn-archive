<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 CentOS 7.x / Fedora 21 上面体验 PHP 7.0 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 CentOS 7.x / Fedora 21 上面体验 PHP 7.0"><meta property="og:description" content="PHP是一种为我们熟知的通用服务器网页脚本语言。非常多的在线网站都是用PHP编写的。PHP这些年来一直在持续进化，丰富其功能，变得易于使用，更好地组织的脚本语言。目前PHP的开发团队正筹备下一个PHP版本的发行，名字是PHP 7。现在的PHP版本为PHP 5.6，可能你清楚PHP 6已经流产了，PHP 7的支持者们不希望下一个重要的版本被其他分支混淆，即过去已经停止很久的PHP 6。所以决定下一个PHP主要的发行版本叫PHP 7，而不是PHP 6。PHP 7.0预计在今年十一月份发行。 在下一代主要PHP版本里有一些不错的功能：  为了改善执行效率与内存占用，新的"><meta property="og:type" content="article"><meta property="og:url" content="/article-5501-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-05-25T09:39:09+00:00"><meta property="article:modified_time" content="2015-05-25T09:39:09+00:00"><meta itemprop=name content="在 CentOS 7.x / Fedora 21 上面体验 PHP 7.0"><meta itemprop=description content="PHP是一种为我们熟知的通用服务器网页脚本语言。非常多的在线网站都是用PHP编写的。PHP这些年来一直在持续进化，丰富其功能，变得易于使用，更好地组织的脚本语言。目前PHP的开发团队正筹备下一个PHP版本的发行，名字是PHP 7。现在的PHP版本为PHP 5.6，可能你清楚PHP 6已经流产了，PHP 7的支持者们不希望下一个重要的版本被其他分支混淆，即过去已经停止很久的PHP 6。所以决定下一个PHP主要的发行版本叫PHP 7，而不是PHP 6。PHP 7.0预计在今年十一月份发行。 在下一代主要PHP版本里有一些不错的功能：  为了改善执行效率与内存占用，新的"><meta itemprop=datePublished content="2015-05-25T09:39:09+00:00"><meta itemprop=dateModified content="2015-05-25T09:39:09+00:00"><meta itemprop=wordCount content="501"><meta itemprop=keywords content="PHP 7,PHP,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 CentOS 7.x / Fedora 21 上面体验 PHP 7.0</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-05-25T09:39:09Z>May 25, 2015</time></div></div></header><div class="content post__content clearfix"><p>PHP是一种为我们熟知的通用服务器网页脚本语言。非常多的在线网站都是用PHP编写的。PHP这些年来一直在持续进化，丰富其功能，变得易于使用，更好地组织的脚本语言。目前PHP的开发团队正筹备下一个PHP版本的发行，名字是PHP 7。现在的PHP版本为PHP 5.6，可能你清楚PHP 6已经流产了，PHP 7的支持者们不希望下一个重要的版本被其他分支混淆，即过去已经停止很久的PHP 6。所以决定下一个PHP主要的发行版本叫PHP 7，而不是PHP 6。PHP 7.0预计在今年十一月份发行。</p><p>在下一代主要PHP版本里有一些不错的功能：</p><ul><li>为了改善执行效率与内存占用，新的版本添加了PHPNG功能。</li><li>引入了JIT引擎来动态编译Zend操作码为自然机器码，以此来达到更快的处理性能。这项功能允许随后的程序调用同一份代码，这样会运行快很多。</li><li>AST（抽象语法树）是最新添加的功能，它可以增强支持PHP的扩展性和用户应用。</li><li>添加异步编程功能以支持同一个请求中的并行任务。</li><li>新的版本会支持独立的多线程网页服务器，这样可以使用一个单独的存储池处理很多并发的请求。</li></ul><p><img src=/data/attachment/album/201505/25/093913g7xok2izc7is2dol.png alt></p><h3 id=在centosfedora上安装php-7>在CentOS/Fedora上安装PHP 7</h3><p>让我们来看看怎样在CentOS 7和Fedora 21安装PHP7。为了安装PHP7，我们首先需要克隆php-src 仓库。当克隆工作完成，我们再配置和编译它。进行下一步之前，我们要确保已经在LInux系统下安装了如下的组件，否则PHP编译会返回错误中止。</p><ul><li>Git</li><li>autoconf</li><li>gcc</li><li>bison</li></ul><p>所有上面提到的要求可以使用Yum软件包管理器安装。以下一条命令即可完成：</p><pre tabindex=0><code>yum install git autoconf gcc bison
</code></pre><p>准备好开始安装PHP7了吗？让我们先创建一个PHP7目录，作为你的当前工作目录。</p><pre tabindex=0><code>mkdir php7
cd php7
</code></pre><p>现在克隆php-src仓库，在终端里运行下面的命令。</p><pre tabindex=0><code>git clone https://git.php.net/repository/php-src.git
</code></pre><p>工作应该会在几分钟后完成，这里是一个样例输出，你应该会在任务完成时看见。</p><pre tabindex=0><code>[root@localhost php7]# git clone https://git.php.net/repository/php-src.git
Cloning into &#39;php-src&#39;...
remote: Counting objects: 615064, done.
remote: Compressing objects: 100% (127800/127800), done.
remote: Total 615064 (delta 492063), reused 608718 (delta 485944)
Receiving objects: 100% (615064/615064), 152.32 MiB | 16.97 MiB/s, done.
Resolving deltas: 100% (492063/492063), done.
</code></pre><p>让我们来配置，编译PHP7，在终端运行下面的命令，开始配置工作：</p><pre tabindex=0><code>cd php-src
./buildconf
</code></pre><p>下面是./buildconf命令的样例输出。</p><pre tabindex=0><code>[root@localhost php-src]# ./buildconf
buildconf: checking installation...
buildconf: autoconf version 2.69 (ok)
rebuilding aclocal.m4
rebuilding configure
rebuilding main/php_config.h.in
</code></pre><p>使用下面的命令，继续配置进程：</p><pre tabindex=0><code>./configure \
--prefix=$HOME/php7/usr \
--with-config-file-path=$HOME/php7/usr/etc \
--enable-mbstring \
--enable-zip \
--enable-bcmath \
--enable-pcntl \
--enable-ftp \
--enable-exif \
--enable-calendar \
--enable-sysvmsg \
--enable-sysvsem \
--enable-sysvshm \
--enable-wddx \
--with-curl \
--with-mcrypt \
--with-iconv \
--with-gmp \
--with-pspell \
--with-gd \
--with-jpeg-dir=/usr \
--with-png-dir=/usr \
--with-zlib-dir=/usr \
--with-xpm-dir=/usr \
--with-freetype-dir=/usr \
--with-t1lib=/usr \
--enable-gd-native-ttf \
--enable-gd-jis-conv \
--with-openssl \
--with-mysql=/usr \
--with-pdo-mysql=/usr \
--with-gettext=/usr \
--with-zlib=/usr \
--with-bz2=/usr \
--with-recode=/usr \
--with-mysqli=/usr/bin/mysql_config
</code></pre><p>这会花去不少的时间，当完成后你应该会看到如下面的输出：</p><pre tabindex=0><code>creating libtool
appending configuration tag &#34;CXX&#34; to libtool
Generating files
configure: creating ./config.status
creating main/internal_functions.c
creating main/internal_functions_cli.c
+--------------------------------------------------------------------+
| License:                                                           |
| This software is subject to the PHP License, available in this     |
| distribution in the file LICENSE.  By continuing this installation |
| process, you are bound by the terms of this license agreement.     |
| If you do not agree with the terms of this license, you must abort |
| the installation process at this point.                            |
+--------------------------------------------------------------------+

Thank you for using PHP.

config.status: creating php7.spec
config.status: creating main/build-defs.h
config.status: creating scripts/phpize
config.status: creating scripts/man1/phpize.1
config.status: creating scripts/php-config
config.status: creating scripts/man1/php-config.1
config.status: creating sapi/cli/php.1
config.status: creating sapi/cgi/php-cgi.1
config.status: creating ext/phar/phar.1
config.status: creating ext/phar/phar.phar.1
config.status: creating main/php_config.h
config.status: executing default commands
</code></pre><p>运行下面的命令，完成编译过程。</p><pre tabindex=0><code>make
</code></pre><p>“make”命令的样例输出如下所示：</p><pre tabindex=0><code>Generating phar.php
Generating phar.phar
PEAR package PHP_Archive not installed: generated phar will require PHP&#39;s phar extension be enabled.
clicommand.inc
directorytreeiterator.inc
directorygraphiterator.inc
pharcommand.inc
invertedregexiterator.inc
phar.inc

Build complete.
Don&#39;t forget to run &#39;make test&#39;.
</code></pre><p>活儿干完了，该安装PHP7了，运行下面的命令安装它。</p><pre tabindex=0><code>make install
</code></pre><p>成功安装的进程的样例输出应该像这样：</p><pre tabindex=0><code>[root@localhost php-src]# make install
Installing shared extensions:     /root/php7/usr/lib/php/extensions/no-debug-non-zts-20141001/
Installing PHP CLI binary:        /root/php7/usr/bin/
Installing PHP CLI man page:      /root/php7/usr/php/man/man1/
Installing PHP CGI binary:        /root/php7/usr/bin/
Installing PHP CGI man page:      /root/php7/usr/php/man/man1/
Installing build environment:     /root/php7/usr/lib/php/build/
Installing header files:          /root/php7/usr/include/php/
Installing helper programs:       /root/php7/usr/bin/
program: phpize
program: php-config
Installing man pages:             /root/php7/usr/php/man/man1/
page: phpize.1
page: php-config.1
Installing PEAR environment:      /root/php7/usr/lib/php/
[PEAR] Archive_Tar    - installed: 1.3.13
[PEAR] Console_Getopt - installed: 1.3.1
[PEAR] Structures_Graph- installed: 1.0.4
[PEAR] XML_Util       - installed: 1.2.3
[PEAR] PEAR           - installed: 1.9.5
Wrote PEAR system config file at: /root/php7/usr/etc/pear.conf
You may want to add: /root/php7/usr/lib/php to your php.ini include_path
/root/php7/php-src/build/shtool install -c ext/phar/phar.phar /root/php7/usr/bin
ln -s -f /root/php7/usr/bin/phar.phar /root/php7/usr/bin/phar
Installing PDO headers:          /root/php7/usr/include/php/ext/pdo/
</code></pre><p>恭喜你，PHP7已经安装在你的Linux系统上了。安装完后，进入PHP7安装文件里的sapi/cli里面。</p><pre tabindex=0><code>cd sapi/cli
</code></pre><p>验证一下PHP的版本。</p><pre tabindex=0><code>[root@localhost cli]# ./php -v
PHP 7.0.0-dev (cli) (built: Mar 28 2015 00:54:11)
Copyright (c) 1997-2015 The PHP Group
Zend Engine v3.0.0-dev, Copyright (c) 1998-2015 Zend Technologies
</code></pre><h3 id=总结>总结</h3><p>PHP 7也<a href=http://blog.famillecollet.com/post/2015/03/25/PHP-7.0-as-Software-Collection>添加到了remi仓库</a>，这个即将到来的版本主要关注执行效率的提升，它的新特性致力于使PHP较好满足现代编程的需求和趋势。PHP 7.0将会有许多新的特性、丢弃一些老版本的东西。在接下来的日子里，我们希望看到新特性和弃用功能的具体情况。希望你喜欢！</p><hr><p>via: <a href=http://linoxide.com/linux-how-to/install-php-7-centos-7-fedora-21/>http://linoxide.com/linux-how-to/install-php-7-centos-7-fedora-21/</a></p><p>作者：<a href=http://linoxide.com/author/arunrz/>Aun Raza</a> 译者：<a href=https://github.com/wi-cuckoo>wi-cuckoo</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/php-7/ rel=tag>PHP 7</a></li><li class=tags__item><a class="tags__link btn" href=/tags/php/ rel=tag>PHP</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>