<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>使用 Java 框架 Scipio ERP 创建一个在线商店 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="使用 Java 框架 Scipio ERP 创建一个在线商店"><meta property="og:description" content="Scipio ERP 具有包罗万象的应用程序和功能。"><meta property="og:type" content="article"><meta property="og:url" content="/article-11373-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-09-22T13:33:08+00:00"><meta property="article:modified_time" content="2019-09-22T13:33:08+00:00"><meta itemprop=name content="使用 Java 框架 Scipio ERP 创建一个在线商店"><meta itemprop=description content="Scipio ERP 具有包罗万象的应用程序和功能。"><meta itemprop=datePublished content="2019-09-22T13:33:08+00:00"><meta itemprop=dateModified content="2019-09-22T13:33:08+00:00"><meta itemprop=wordCount content="308"><meta itemprop=keywords content="在线商店,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>使用 Java 框架 Scipio ERP 创建一个在线商店</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-09-22T13:33:08Z>September 22, 2019</time></div></div></header><div class="content post__content clearfix"><blockquote><p>Scipio ERP 具有包罗万象的应用程序和功能。</p></blockquote><p><img src=/data/attachment/album/201909/22/133258hqvwax5w1zvq5ffa.jpg alt></p><p>如果，你想在网上销售产品或服务，但要么找不到合适的软件，要么觉得定制成本太高？那么，<a href=https://www.scipioerp.com>Scipio ERP</a> 也许正是你想要的。</p><p>Scipio ERP 是一个基于 Java 的开源的电子商务框架，具有包罗万象的应用程序和功能。这个项目于 2014 年从 <a href=https://ofbiz.apache.org/>Apache OFBiz</a> 分叉而来，侧重于更好的定制和更现代的吸引力。这个电子商务组件非常丰富，可以在多商店环境中工作，同时支持国际化，具有琳琅满目的产品配置，而且它还兼容现代 HTML 框架。该软件还为许多其他业务场景提供标准应用程序，例如会计、仓库管理或销售团队自动化。它都是高度标准化的，因此易于定制，如果你想要的不仅仅是一个虚拟购物车，这是非常棒的。</p><p>该系统也使得跟上现代 Web 标准变得非常容易。所有界面都是使用系统的“<a href=https://www.scipioerp.com/community/developer/freemarker-macros/>模板工具包</a>”构建的，这是一个易于学习的宏集，可以将 HTML 与所有应用程序分开。正因为如此，每个应用程序都已经标准化到核心。听起来令人困惑？它真的不是 HTML——它看起来很像 HTML，但你写的内容少了很多。</p><h3 id=初始安装>初始安装</h3><p>在你开始之前，请确保你已经安装了 Java 1.8（或更高版本）的 SDK 以及一个 Git 客户端。完成了？太棒了！接下来，切换到 Github 上的主分支：</p><pre tabindex=0><code>git clone https://github.com/ilscipio/scipio-erp.git
cd scipio-erp
git checkout master
</code></pre><p>要安装该系统，只需要运行 <code>./install.sh</code> 并从命令行中选择任一选项。在开发过程中，最好一直使用 “installation for development”（选项 1），它还将安装一系列演示数据。对于专业安装，你可以修改初始配置数据（“种子数据”），以便自动为你设置公司和目录数据。默认情况下，系统将使用内部数据库运行，但是它<a href=https://www.scipioerp.com/community/developer/installation-configuration/configuration/#database-configuration>也可以配置</a>使用各种关系数据库，比如 PostgreSQL 和 MariaDB 等。</p><p><img src=/data/attachment/album/201909/22/133311l37pcpchf3s77f3v.jpg alt=安装向导 title="Setup wizard"></p><p><em>按照安装向导完成初始配置</em></p><p>通过命令 <code>./start.sh</code> 启动系统然后打开链接 <a href=https://localhost:8443/setup/>https://localhost:8443/setup/</a> 完成配置。如果你安装了演示数据, 你可以使用用户名 <code>admin</code> 和密码 <code>scipio</code> 进行登录。在安装向导中，你可以设置公司简介、会计、仓库、产品目录、在线商店和额外的用户配置信息。暂时在产品商店配置界面上跳过网站实体的配置。系统允许你使用不同的底层代码运行多个在线商店；除非你想这样做，一直选择默认值是最简单的。</p><p>祝贺你，你刚刚安装了 Scipio ERP！在界面上操作一两分钟，感受一下它的功能。</p><h3 id=捷径>捷径</h3><p>在你进入自定义之前，这里有一些方便的命令可以帮助你：</p><ul><li>创建一个 shop-override：<code>./ant create-component-shop-override</code></li><li>创建一个新组件：<code>./ant create-component</code></li><li>创建一个新主题组件：<code>./ant create-theme</code></li><li>创建管理员用户：<code>./ant create-admin-user-login</code></li><li>各种其他实用功能：<code>./ant -p</code></li><li>用于安装和更新插件的实用程序：<code>./git-addons help</code></li></ul><p>另外，请记下以下位置：</p><ul><li>将 Scipio 作为服务运行的脚本：<code>/tools/scripts/</code></li><li>日志输出目录：<code>/runtime/logs</code></li><li>管理应用程序：<code>&lt;https://localhost:8443/admin/></code></li><li>电子商务应用程序：<code>&lt;https://localhost:8443/shop/></code></li></ul><p>最后，Scipio ERP 在以下五个主要目录中构建了所有代码：</p><ul><li><code>framework</code>: 框架相关的源，应用程序服务器，通用界面和配置</li><li><code>applications</code>: 核心应用程序</li><li><code>addons</code>: 第三方扩展</li><li><code>themes</code>: 修改界面外观</li><li><code>hot-deploy</code>: 你自己的组件</li></ul><p>除了一些配置，你将在 <code>hot-deploy</code> 和 <code>themes</code> 目录中进行开发。</p><h3 id=在线商店定制>在线商店定制</h3><p>要真正使系统成为你自己的系统，请开始考虑使用<a href=https://www.scipioerp.com/community/developer/architecture/components/>组件</a>。组件是一种模块化方法，可以覆盖、扩展和添加到系统中。你可以将组件视为独立 Web 模块，可以捕获有关数据库（<a href=https://www.scipioerp.com/community/developer/entities/>实体</a>）、功能（<a href=https://www.scipioerp.com/community/developer/services/>服务</a>）、界面（<a href=https://www.scipioerp.com/community/developer/views-requests/>视图</a>）、<a href=https://www.scipioerp.com/community/developer/events-actions/>事件和操作</a>和 Web 应用程序等的信息。由于组件功能，你可以添加自己的代码，同时保持与原始源兼容。</p><p>运行命令 <code>./ant create-component-shop-override</code> 并按照步骤创建你的在线商店组件。该操作将会在 <code>hot-deploy</code> 目录内创建一个新目录，该目录将扩展并覆盖原始的电子商务应用程序。</p><p><img src=/data/attachment/album/201909/22/133317n930l8lnl49a4old.jpg alt=组件目录结构 title="component directory structure"></p><p><em>一个典型的组件目录结构。</em></p><p>你的组件将具有以下目录结构：</p><ul><li><code>config</code>: 配置</li><li><code>data</code>: 种子数据</li><li><code>entitydef</code>: 数据库表定义</li><li><code>script</code>: Groovy 脚本的位置</li><li><code>servicedef</code>: 服务定义</li><li><code>src</code>: Java 类</li><li><code>webapp</code>: 你的 web 应用程序</li><li><code>widget</code>: 界面定义</li></ul><p>此外，<code>ivy.xml</code> 文件允许你将 Maven 库添加到构建过程中，<code>ofbiz-component.xml</code> 文件定义整个组件和 Web 应用程序结构。除了一些在当前目录所能够看到的，你还可以在 Web 应用程序的 <code>WEB-INF</code> 目录中找到 <code>controller.xml</code> 文件。这允许你定义请求实体并将它们连接到事件和界面。仅对于界面来说，你还可以使用内置的 CMS 功能，但优先要坚持使用核心机制。在引入更改之前，请熟悉 <code>/applications/shop/</code>。</p><h4 id=添加自定义界面>添加自定义界面</h4><p>还记得<a href=https://www.scipioerp.com/community/developer/freemarker-macros/>模板工具包</a>吗？你会发现它在每个界面都有使用到。你可以将其视为一组易于学习的宏，它用来构建所有内容。下面是一个例子：</p><pre tabindex=0><code>&lt;@section title=&#34;Title&#34;&gt;
    &lt;@heading id=&#34;slider&#34;&gt;Slider&lt;/@heading&gt;
    &lt;@row&gt;
        &lt;@cell columns=6&gt;
            &lt;@slider id=&#34;&#34; class=&#34;&#34; controls=true indicator=true&gt;
                &lt;@slide link=&#34;#&#34; image=&#34;https://placehold.it/800x300&#34;&gt;Just some content…&lt;/@slide&gt;
                &lt;@slide title=&#34;This is a title&#34; link=&#34;#&#34; image=&#34;https://placehold.it/800x300&#34;&gt;&lt;/@slide&gt;
            &lt;/@slider&gt;
        &lt;/@cell&gt;
        &lt;@cell columns=6&gt;Second column&lt;/@cell&gt;
    &lt;/@row&gt;
&lt;/@section&gt;
</code></pre><p>不是很难，对吧？同时，主题包含 HTML 定义和样式。这将权力交给你的前端开发人员，他们可以定义每个宏的输出，并坚持使用自己的构建工具进行开发。</p><p>我们快点试试吧。首先，在你自己的在线商店上定义一个请求。你将修改此代码。一个内置的 CMS 系统也可以通过 <a href=https://localhost:8443/cms/>https://localhost:8443/cms/</a> 进行访问，它允许你以更有效的方式创建新模板和界面。它与模板工具包完全兼容，并附带可根据你的喜好采用的示例模板。但是既然我们试图在这里理解系统，那么首先让我们采用更复杂的方法。</p><p>打开你商店 <code>webapp</code> 目录中的 <a href=https://www.scipioerp.com/community/developer/views-requests/request-controller/>controller.xml</a> 文件。控制器会跟踪请求事件并相应地执行操作。下面的操作将会在 <code>/shop/test</code> 下创建一个新的请求:</p><pre tabindex=0><code>&lt;!-- Request Mappings --&gt;
&lt;request-map uri=&#34;test&#34;&gt;
     &lt;security https=&#34;true&#34; auth=&#34;false&#34;/&gt;
      &lt;response name=&#34;success&#34; type=&#34;view&#34; value=&#34;test&#34;/&gt;
&lt;/request-map&gt;
</code></pre><p>你可以定义多个响应，如果需要，可以在请求中使用事件或服务调用来确定你可能要使用的响应。我选择了“视图”类型的响应。视图是渲染的响应；其他类型是请求重定向、转发等。系统附带各种渲染器，可让你稍后确定输出；为此，请添加以下内容：</p><pre tabindex=0><code>&lt;!-- View Mappings --&gt;
&lt;view-map name=&#34;test&#34; type=&#34;screen&#34; page=&#34;component://mycomponent/widget/CommonScreens.xml#test&#34;/&gt;
</code></pre><p>用你自己的组件名称替换 <code>my-component</code>。然后，你可以通过在 <code>widget/CommonScreens.xml</code> 文件的标签内添加以下内容来定义你的第一个界面：</p><pre tabindex=0><code>&lt;screen name=&#34;test&#34;&gt;
        &lt;section&gt;
            &lt;actions&gt;
            &lt;/actions&gt;
            &lt;widgets&gt;
                &lt;decorator-screen name=&#34;CommonShopAppDecorator&#34; location=&#34;component://shop/widget/CommonScreens.xml&#34;&gt;
                    &lt;decorator-section name=&#34;body&#34;&gt;
                        &lt;platform-specific&gt;&lt;html&gt;&lt;html-template location=&#34;component://mycomponent/webapp/mycomponent/test/test.ftl&#34;/&gt;&lt;/html&gt;&lt;/platform-specific&gt;
                    &lt;/decorator-section&gt;
                &lt;/decorator-screen&gt;
            &lt;/widgets&gt;
        &lt;/section&gt;
    &lt;/screen&gt;
</code></pre><p>商店界面实际上非常模块化，由多个元素组成（<a href=https://www.scipioerp.com/community/developer/views-requests/screen-widgets-decorators/>小部件、动作和装饰器</a>）。为简单起见，请暂时保留原样，并通过添加第一个模板工具包文件来完成新网页。为此，创建一个新的 <code>webapp/mycomponent/test/test.ftl</code> 文件并添加以下内容：</p><pre tabindex=0><code>&lt;@alert type=&#34;info&#34;&gt;Success!&lt;/@alert&gt;
</code></pre><p><img src=/data/attachment/album/201909/22/133319lt99ylywl99at8l9.jpg alt=自定义的界面 title="Custom screen"></p><p><em>一个自定义的界面。</em></p><p>打开 <a href=https://localhost:8443/shop/control/test/>https://localhost:8443/shop/control/test/</a> 并惊叹于你自己的成就。</p><h4 id=自定义主题>自定义主题</h4><p>通过创建自己的主题来修改商店的界面外观。所有主题都可以作为组件在 <code>themes</code> 文件夹中找到。运行命令 <code>./ant create-theme</code> 来创建你自己的主题。</p><p><img src=/data/attachment/album/201909/22/133322imewmwj1kste3psp.jpg alt=主题组件布局 title="theme component layout"></p><p><em>一个典型的主题组件布局。</em></p><p>以下是最重要的目录和文件列表：</p><ul><li>主题配置：<code>data/*ThemeData.xml</code></li><li>特定主题封装的 HTML：<code>includes/*.ftl</code></li><li>模板工具包 HTML 定义：<code>includes/themeTemplate.ftl</code></li><li>CSS 类定义：<code>includes/themeStyles.ftl</code></li><li>CSS 框架: <code>webapp/theme-title/</code></li></ul><p>快速浏览工具包中的 Metro 主题；它使用 Foundation CSS 框架并且充分利用了这个框架。然后，然后，在新构建的 <code>webapp/theme-title</code> 目录中设置自己的主题并开始开发。Foundation-shop 主题是一个非常简单的特定于商店的主题实现，你可以将其用作你自己工作的基础。</p><p>瞧！你已经建立了自己的在线商店，准备个性化定制吧！</p><p><img src=/data/attachment/album/201909/22/133339ckf90t90wfco9ffk.jpg alt="搭建完成的 Scipio ERP 在线商店" title="Finished Scipio ERP shop"></p><p><em>一个搭建完成的基于 Scipio ERP的在线商店。</em></p><h3 id=接下来是什么>接下来是什么？</h3><p>Scipio ERP 是一个功能强大的框架，可简化复杂的电子商务应用程序的开发。为了更完整的理解，请查看项目<a href=https://www.scipioerp.com/community/developer/architecture/components/>文档</a>，尝试<a href=https://www.scipioerp.com/demo/>在线演示</a>，或者<a href=https://forum.scipioerp.com/>加入社区</a>.</p><hr><p>via: <a href=https://opensource.com/article/19/1/scipio-erp>https://opensource.com/article/19/1/scipio-erp</a></p><p>作者：<a href=https://opensource.com/users/madppiper>Paul Piper</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/laingke>laingke</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%9C%A8%E7%BA%BF%E5%95%86%E5%BA%97/ rel=tag>在线商店</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>