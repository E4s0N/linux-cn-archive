<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Linux 上检查 MySQL/MariaDB 数据库正常运行时间的三种方法 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Linux 上检查 MySQL/MariaDB 数据库正常运行时间的三种方法"><meta property="og:description" content="每个服务都有自己的命令来检查服务的正常运行时间。但是你也可以为此使用其他命令。"><meta property="og:type" content="article"><meta property="og:url" content="/article-12263-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-29T21:10:38+00:00"><meta property="article:modified_time" content="2020-05-29T21:10:38+00:00"><meta itemprop=name content="在 Linux 上检查 MySQL/MariaDB 数据库正常运行时间的三种方法"><meta itemprop=description content="每个服务都有自己的命令来检查服务的正常运行时间。但是你也可以为此使用其他命令。"><meta itemprop=datePublished content="2020-05-29T21:10:38+00:00"><meta itemprop=dateModified content="2020-05-29T21:10:38+00:00"><meta itemprop=wordCount content="488"><meta itemprop=keywords content="MySQL,MariaDB,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Linux 上检查 MySQL/MariaDB 数据库正常运行时间的三种方法</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-05-29T21:10:38Z>May 29, 2020</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/202005/29/211031hqb8qlyddtlrt2fl.jpg alt></p><p>我们都知道在 Linux 中使用 <code>uptime</code> 命令的目的。它用于检查 <a href=https://www.2daygeek.com/linux-system-server-uptime-check/>Linux 系统的正常运行时间</a>以及系统上次启动以来运行的时间。</p><p>而 Linux 管理员的工作是保持系统正常运行。</p><p>如果要检查 Linux 上的其他服务（例如 <a href=https://www.2daygeek.com/check-find-apache-httpd-web-server-uptime-linux/>Apache</a>、MySQL、MariaDB、sftp 等）运行了多长时间，该怎么做？</p><p>每个服务都有自己的命令来检查服务的正常运行时间。但是你也可以为此使用其他命令。</p><h3 id=方法-1如何使用-ps-命令在-linux-上检查-mysqlmariadb-数据库的正常运行时间>方法 1：如何使用 ps 命令在 Linux 上检查 MySQL/MariaDB 数据库的正常运行时间</h3><p><a href=https://www.2daygeek.com/linux-ps-command-find-running-process-monitoring/>ps 命令</a>的意思是 进程状态 process status 。这是最基本的命令之一，它显示了系统正在运行的进程的详细信息。</p><p>为此，你首先需要使用 <a href=https://www.2daygeek.com/check-find-parent-process-id-pid-ppid-linux/>pidof 命令</a>查找 <a href=https://www.2daygeek.com/category/mysql/>MySQL</a>/<a href=https://www.2daygeek.com/category/mariadb/>MariaDB</a> 的 PID。</p><pre tabindex=0><code># pidof mysqld | cut -d&#34; &#34; -f1

2412
</code></pre><p>获取 MySQL/MariaDB 的 PID 后，请在 <code>ps</code> 命令中使用 <code>--etime</code> 选项获得正常运行时间。</p><ul><li><code>--etime</code>：自进程启动以来经过的时间，形式为 <code>[[DD-]hh:]mm:ss</code>。</li></ul><pre tabindex=0><code># ps -p 2412 -o etime

   ELAPSED
2-08:49:30
</code></pre><p>或者，在 <code>ps</code> 命令中使用 <code>--lstart</code> 选项来获取指定 PID 的正常运行时间。</p><pre tabindex=0><code># ps -p 2412 -o lstart

                STARTED
Sat May 2 03:02:15 2020
</code></pre><p>MySQL/MariaDB 进程已经运行了 2 天 03 小时 02 分 15 秒。</p><h3 id=方法-2如何使用-systemctl-命令在-linux-上检查-mysqlmariadb-数据库的正常运行时间>方法 2：如何使用 systemctl 命令在 Linux 上检查 MySQL/MariaDB 数据库的正常运行时间</h3><p><a href=https://www.2daygeek.com/sysvinit-vs-systemd-cheatsheet-systemctl-command-usage/>systemctl 命令</a>用于控制 systemd 系统和服务管理器。</p><p>systemd 是新的初始化系统和系统管理器，现在大多数 Linux 发行版都淘汰了传统的 SysVinit 管理器而采用了 systemd。</p><pre tabindex=0><code># systemctl status mariadb
或者
# systemctl status mysql

● mariadb.service - MariaDB 10.1.44 database server
   Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; vendor     preset: disabled)
  Drop-In: /etc/systemd/system/mariadb.service.d
           └─migrated-from-my.cnf-settings.conf
   Active: active (running) since Sat 2020-05-02 03:02:18 UTC; 2 days ago
     Docs: man:mysqld(8)
           https://mariadb.com/kb/en/library/systemd/
  Process: 2448 ExecStartPost=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)
  Process: 2388 ExecStartPre=/bin/sh -c [ ! -e /usr/bin/galera_recovery ] &amp;&amp; VAR= || VAR=/usr/bin/galera_recovery; [ $? -eq 0 ] &amp;&amp; systemctl set-environment _WSREP_START_POSITION=$VAR || exit 1 (code=exited, status=0/SUCCESS)
  Process: 2386 ExecStartPre=/bin/sh -c systemctl unset-environment _WSREP_START_POSITION (code=exited, status=0/SUCCESS)
 Main PID: 2412 (mysqld)
   Status: &#34;Taking your SQL requests now…&#34;
   CGroup: /system.slice/mariadb.service
           └─2412 /usr/sbin/mysqld

May 03 21:41:26 ns2.2daygeek.com mysqld[2412]: 2020-05-03 21:41:26 140328136861440 [Warning] Host name &#39;1.1.1.1&#39; could not be resolved: … not known
May 04 02:00:46 ns2.2daygeek.com mysqld[2412]: 2020-05-04 2:00:46 140328436418304 [Warning] IP address &#39;1.1.1.1&#39; has been resolved to the host name &#39;2…ss itself.
May 04 03:01:31 ns2.2daygeek.com mysqld[2412]: 2020-05-04 3:01:31 140328436111104 [Warning] IP address &#39;1.1.1.1&#39; could not be resolved: Temporary fai…resolution
May 04 04:03:06 ns2.2daygeek.com mysqld[2412]: 2020-05-04 4:03:06 140328136861440 [Warning] IP address &#39;1.1.1.1&#39; could not be resolved: Name or ser… not known
May 04 07:23:54 ns2.2daygeek.com mysqld[2412]: 2020-05-04 7:23:54 140328435189504 [Warning] IP address &#39;1.1.1.1&#39; could not be resolved: Name or service not known
May 04 08:03:31 ns2.2daygeek.com mysqld[2412]: 2020-05-04 8:03:31 140328436418304 [Warning] IP address &#39;1.1.1.1&#39; could not be resolved: Name or service not known
May 04 08:25:56 ns2.2daygeek.com mysqld[2412]: 2020-05-04 8:25:56 140328135325440 [Warning] IP address &#39;1.1.1.1&#39; could not be resolved: Name or service not known
Warning: Journal has been rotated since unit was started. Log output is incomplete or unavailable.
Hint: Some lines were ellipsized, use -l to show in full.
</code></pre><h3 id=方法-3如何使用-mysqladmin-命令在-linux-上检查-mysqlmariadb-数据库的正常运行时间>方法 3：如何使用 MySQLAdmin 命令在 Linux 上检查 MySQL/MariaDB 数据库的正常运行时间</h3><p><a href=https://www.2daygeek.com/linux-mysqladmin-command-administrate-mysql-mariadb-server/>MySQLAdmin</a> 是安装 MySQL 软件包时安装的 MySQL 服务器命令行程序。</p><p>MySQLAdmin 客户端允许你在 MySQL 服务器上执行一些基本的管理功能。</p><p>它用于创建数据库、删除数据库、设置 root 密码、更改 root 密码、检查 MySQL 状态、验证 MySQL 功能、监视 mysql 进程以及验证服务器的配置。</p><pre tabindex=0><code># mysqladmin -u root -pPassword version

mysqladmin Ver 8.42 Distrib 5.7.27, for Linux on x86_64
Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Server version 5.7.27
Protocol version 10
Connection Localhost via UNIX socket
UNIX socket /var/lib/mysql/mysql.sock
Uptime: 1 day 10 hours 44 min 13 sec
</code></pre><hr><p>via: <a href=https://www.2daygeek.com/check-mysql-mariadb-database-server-uptime-linux/>https://www.2daygeek.com/check-mysql-mariadb-database-server-uptime-linux/</a></p><p>作者：<a href=https://www.2daygeek.com/author/magesh/>Magesh Maruthamuthu</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/mysql/ rel=tag>MySQL</a></li><li class=tags__item><a class="tags__link btn" href=/tags/mariadb/ rel=tag>MariaDB</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>