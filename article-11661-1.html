<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Linux 终端快速检测网站是否宕机的 6 个方法 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Linux 终端快速检测网站是否宕机的 6 个方法"><meta property="og:description" content="本教程教你怎样在 Linux 终端快速检测一个网站是否宕机。"><meta property="og:type" content="article"><meta property="og:url" content="/article-11661-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-12-10T09:38:26+00:00"><meta property="article:modified_time" content="2019-12-10T09:38:26+00:00"><meta itemprop=name content="在 Linux 终端快速检测网站是否宕机的 6 个方法"><meta itemprop=description content="本教程教你怎样在 Linux 终端快速检测一个网站是否宕机。"><meta itemprop=datePublished content="2019-12-10T09:38:26+00:00"><meta itemprop=dateModified content="2019-12-10T09:38:26+00:00"><meta itemprop=wordCount content="944"><meta itemprop=keywords content="ping,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Linux 终端快速检测网站是否宕机的 6 个方法</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-12-10T09:38:26Z>December 10, 2019</time></div></div></header><div class="content post__content clearfix"><blockquote><p>本教程教你怎样在 Linux 终端快速检测一个网站是否宕机。</p></blockquote><p><img src=/data/attachment/album/201912/10/093801u332115oocxz4531.jpg alt></p><p>你可能已经了解了一些类似的命令，像 <code>ping</code>、<code>curl</code> 和 <code>wget</code>。我们在本教程中又加入了一些其他命令。同时，我们也加入了不同的选项来检测单个和多个主机的信息。</p><p>本文将帮助你检测网站是否宕机。但是如果你在维护一些网站，希望网站宕掉时得到实时的报警，我推荐你去使用实时网站监控工具。这种工具有很多，有些是免费的，大部分收费。根据你的需求，选择合适的工具。在后续的文章中我们会涉及这个主题。</p><h3 id=方法-1使用-fping-命令检测一个网站是否宕机>方法 1：使用 fping 命令检测一个网站是否宕机</h3><p><a href=https://www.2daygeek.com/how-to-use-ping-fping-gping-in-linux/>fping 命令</a> 是一个类似 <code>ping</code> 的程序，使用互联网控制消息协议（ICMP）的 回应请求报文 echo request 来判断目标主机是否能回应。<code>fping</code> 与 <code>ping</code> 的不同之处在于它可以并行地 <code>ping</code> 任意数量的主机，也可以从一个文本文件读入主机名称。<code>fping</code> 发送一个 ICMP 回应请求后不等待目标主机响应，就以轮询模式向下一个目标主机发请求。如果一个目标主机有响应，那么它就被标记为存活的，然后从检查目标列表里去掉。如果一个目标主机在限定的时间和（或）重试次数内没有响应，则被指定为网站无法到达的。</p><pre tabindex=0><code># fping 2daygeek.com linuxtechnews.com magesh.co.in

2daygeek.com is alive
linuxtechnews.com is alive
magesh.co.in is alive
</code></pre><h3 id=方法-2使用-http-命令检测一个网站是否宕机>方法 2：使用 http 命令检测一个网站是否宕机</h3><p>HTTPie（读作 aitch-tee-tee-pie）是一个命令行 HTTP 客户端。<a href=https://www.2daygeek.com/httpie-curl-wget-alternative-http-client-linux/>httpie</a> 是一个可以与 web 服务通过 CLI 进行交互的现代工具。httpie 工具提供了简单的 <code>http</code> 命令，可以通过发送简单的、自然语言语法的任意 HTTP 请求得到多彩的结果输出。HTTPie 可以用来对 HTTP 服务器进行测试、调试和基本的交互。</p><pre tabindex=0><code># http 2daygeek.com

HTTP/1.1 301 Moved Permanently
CF-RAY: 535b66722ab6e5fc-LHR
Cache-Control: max-age=3600
Connection: keep-alive
Date: Thu, 14 Nov 2019 19:30:28 GMT
Expires: Thu, 14 Nov 2019 20:30:28 GMT
Location: https://2daygeek.com/
Server: cloudflare
Transfer-Encoding: chunked
Vary: Accept-Encoding
</code></pre><h3 id=方法-3使用-curl-命令检测一个网站是否宕机>方法 3：使用 curl 命令检测一个网站是否宕机</h3><p><a href=https://www.2daygeek.com/curl-linux-command-line-download-manager/>curl 命令</a> 是一个用于在服务器间通过支持的协议（DICT、FILE、FTP、FTPS、GOPHER、HTTP、HTTPS、IMAP、IMAPS、LDAP、LDAPS、POP3、POP3S、RTMP、RTSP、SCP、SFTP、SMTP、SMTPS、TELNET 和 TFTP）传输数据的工具。这个工具不支持用户交互。<code>curl</code> 也支持使用代理、用户认证、FTP 上传、HTTP POST 请求、SSL 连接、cookie、断点续传、Metalink 等等。<code>curl</code>由 libcurl 库提供所有与传输有关的能力。</p><pre tabindex=0><code># curl -I https://www.magesh.co.in

HTTP/2 200
date: Thu, 14 Nov 2019 19:39:47 GMT
content-type: text/html
set-cookie: __cfduid=db16c3aee6a75c46a504c15131ead3e7f1573760386; expires=Fri, 13-Nov-20 19:39:46 GMT; path=/; domain=.magesh.co.in; HttpOnly
vary: Accept-Encoding
last-modified: Sun, 14 Jun 2015 11:52:38 GMT
x-cache: HIT from Backend
cf-cache-status: DYNAMIC
expect-ct: max-age=604800, report-uri=&#34;https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct&#34;
server: cloudflare
cf-ray: 535b74123ca4dbf3-LHR
</code></pre><p>如果你只想看 HTTP 状态码而不是返回的全部信息，用下面的 <code>curl</code> 命令：</p><pre tabindex=0><code># curl -I &#34;www.magesh.co.in&#34; 2&gt;&amp;1 | awk &#39;/HTTP\// {print $2}&#39;
 200
</code></pre><p>如果你想看一个网站是否宕机，用下面的 bash 脚本：</p><pre tabindex=0><code># vi curl-url-check.sh

#!/bin/bash
if curl -I &#34;https://www.magesh.co.in&#34; 2&gt;&amp;1 | grep -w &#34;200\|301&#34; ; then
    echo &#34;magesh.co.in is up&#34;
else
    echo &#34;magesh.co.in is down&#34;
fi
</code></pre><p>当你把脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># sh curl-url-check.sh

HTTP/2 200
magesh.co.in is up
</code></pre><p>如果你想看多个网站的状态，使用下面的 shell 脚本：</p><pre tabindex=0><code># vi curl-url-check-1.sh

#!/bin/bash
for site in www.google.com google.co.in www.xyzzz.com
do
if curl -I &#34;$site&#34; 2&gt;&amp;1 | grep -w &#34;200\|301&#34; ; then
    echo &#34;$site is up&#34;
else
    echo &#34;$site is down&#34;
fi
echo &#34;----------------------------------&#34;
done
</code></pre><p>当你把上面脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># sh curl-url-check-1.sh

HTTP/1.1 200 OK
www.google.com is up
----------------------------------
HTTP/1.1 301 Moved Permanently
google.co.in is up
----------------------------------
www.xyzzz.com is down
----------------------------------
</code></pre><h3 id=方法-4使用-wget-命令检测一个网站是否宕机>方法 4：使用 wget 命令检测一个网站是否宕机</h3><p><a href=https://www.2daygeek.com/wget-linux-command-line-download-utility-tool/>wget 命令</a>（前身是 Geturl）是一个自由开源的命令行下载工具，通过 HTTP、HTTPS、FTP 和其他广泛使用的互联网协议获取文件。<code>wget</code> 是非交互式的命令行工具，由 World Wide Web 和 get 得名。<code>wget</code> 相对于其他工具来说更优秀，功能包括后台运行、递归下载、多文件下载、断点续传、非交互式下载和大文件下载。</p><pre tabindex=0><code># wget -S --spider https://www.magesh.co.in

Spider mode enabled. Check if remote file exists.
--2019-11-15 01:22:00--  https://www.magesh.co.in/
Loaded CA certificate &#39;/etc/ssl/certs/ca-certificates.crt&#39;
Resolving www.magesh.co.in (www.magesh.co.in)… 104.18.35.52, 104.18.34.52, 2606:4700:30::6812:2334, …
Connecting to www.magesh.co.in (www.magesh.co.in)|104.18.35.52|:443… connected.
HTTP request sent, awaiting response…
  HTTP/1.1 200 OK
  Date: Thu, 14 Nov 2019 19:52:01 GMT
  Content-Type: text/html
  Connection: keep-alive
  Set-Cookie: __cfduid=db73306a2f1c72c1318ad4709ef49a3a01573761121; expires=Fri, 13-Nov-20 19:52:01 GMT; path=/; domain=.magesh.co.in; HttpOnly
  Vary: Accept-Encoding
  Last-Modified: Sun, 14 Jun 2015 11:52:38 GMT
  X-Cache: HIT from Backend
  CF-Cache-Status: DYNAMIC
  Expect-CT: max-age=604800, report-uri=&#34;https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct&#34;
  Server: cloudflare
  CF-RAY: 535b85fe381ee684-LHR
Length: unspecified [text/html]
Remote file exists and could contain further links,
but recursion is disabled -- not retrieving.
</code></pre><p>如果你只想看 HTTP 状态码而不是返回的全部结果，用下面的 <code>wget</code> 命令：</p><pre tabindex=0><code># wget --spider -S &#34;www.magesh.co.in&#34; 2&gt;&amp;1 | awk &#39;/HTTP\// {print $2}&#39;
 200
</code></pre><p>如果你想看一个网站是否宕机，用下面的 bash 脚本：</p><pre tabindex=0><code># vi wget-url-check.sh

#!/bin/bash
if wget --spider -S &#34;https://www.google.com&#34; 2&gt;&amp;1 | grep -w &#34;200\|301&#34; ; then
    echo &#34;Google.com is up&#34;
else
    echo &#34;Google.com is down&#34;
fi
</code></pre><p>当你把脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># wget-url-check.sh

HTTP/1.1 200 OK
Google.com is up
</code></pre><p>如果你想看多个网站的状态，使用下面的 shell 脚本：</p><pre tabindex=0><code># vi curl-url-check-1.sh

#!/bin/bash
for site in www.google.com google.co.in www.xyzzz.com
do
if wget --spider -S &#34;$site&#34; 2&gt;&amp;1 | grep -w &#34;200\|301&#34; ; then
    echo &#34;$site is up&#34;
else
    echo &#34;$site is down&#34;
fi
echo &#34;----------------------------------&#34;
done
</code></pre><p>当你把上面脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># sh wget-url-check-1.sh

HTTP/1.1 200 OK
www.google.com is up
----------------------------------
HTTP/1.1 301 Moved Permanently
google.co.in is up
----------------------------------
www.xyzzz.com is down
----------------------------------
</code></pre><h3 id=方法-5使用-lynx-命令检测一个网站是否宕机>方法 5：使用 lynx 命令检测一个网站是否宕机</h3><p><a href=https://www.2daygeek.com/best-text-mode-based-command-line-web-browser-for-linux/>lynx</a> 是一个在 可寻址光标字符单元终端 cursor-addressable character cell terminals 上使用的基于文本的高度可配的 web 浏览器，它是最古老的 web 浏览器并且现在仍在活跃开发。</p><pre tabindex=0><code># lynx -head -dump http://www.magesh.co.in

HTTP/1.1 200 OK
Date: Fri, 15 Nov 2019 08:14:23 GMT
Content-Type: text/html
Connection: close
Set-Cookie: __cfduid=df3cb624024b81df7362f42ede71300951573805662; expires=Sat, 1
4-Nov-20 08:14:22 GMT; path=/; domain=.magesh.co.in; HttpOnly
Vary: Accept-Encoding
Last-Modified: Sun, 14 Jun 2015 11:52:38 GMT
X-Cache: HIT from Backend
CF-Cache-Status: DYNAMIC
Server: cloudflare
CF-RAY: 535fc5704a43e694-LHR
</code></pre><p>如果你只想看 HTTP 状态码而不是返回的全部结果，用下面的 <code>lynx</code> 命令：</p><pre tabindex=0><code># lynx -head -dump https://www.magesh.co.in 2&gt;&amp;1 | awk &#39;/HTTP\// {print $2}&#39;
 200
</code></pre><p>如果你想看一个网站是否宕机，用下面的 bash 脚本：</p><pre tabindex=0><code># vi lynx-url-check.sh

#!/bin/bash
if lynx -head -dump http://www.magesh.co.in 2&gt;&amp;1 | grep -w &#34;200\|301&#34; ; then
    echo &#34;magesh.co.in is up&#34;
else
    echo &#34;magesh.co.in is down&#34;
fi
</code></pre><p>当你把脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># sh lynx-url-check.sh

HTTP/1.1 200 OK
magesh.co.in is up
</code></pre><p>如果你想看多个网站的状态，使用下面的 shell 脚本：</p><pre tabindex=0><code># vi lynx-url-check-1.sh

#!/bin/bash
for site in http://www.google.com https://google.co.in http://www.xyzzz.com
do
if lynx -head -dump &#34;$site&#34; 2&gt;&amp;1 | grep -w &#34;200\|301&#34; ; then
    echo &#34;$site is up&#34;
else
    echo &#34;$site is down&#34;
fi
echo &#34;----------------------------------&#34;
done
</code></pre><p>当你把上面脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># sh lynx-url-check-1.sh

HTTP/1.0 200 OK
http://www.google.com is up
----------------------------------
HTTP/1.0 301 Moved Permanently
https://google.co.in is up
----------------------------------
www.xyzzz.com is down
----------------------------------
</code></pre><h3 id=方法-6使用-ping-命令检测一个网站是否宕机>方法 6：使用 ping 命令检测一个网站是否宕机</h3><p><a href=https://www.2daygeek.com/how-to-use-ping-fping-gping-in-linux/>ping 命令</a>（Packet Internet Groper）是网络工具的代表，用于在互联网协议（IP）的网络中测试一个目标主机是否可用/可连接。通过向目标主机发送 ICMP 回应请求报文包并等待 ICMP 回应响应报文来检测主机的可用性。它基于已发送的包、接收到的包和丢失了的包来统计结果数据，通常包含最小/平均/最大响应时间。</p><pre tabindex=0><code># ping -c 5 2daygeek.com

PING 2daygeek.com (104.27.157.177) 56(84) bytes of data.
64 bytes from 104.27.157.177 (104.27.157.177): icmp_seq=1 ttl=58 time=228 ms
64 bytes from 104.27.157.177 (104.27.157.177): icmp_seq=2 ttl=58 time=227 ms
64 bytes from 104.27.157.177 (104.27.157.177): icmp_seq=3 ttl=58 time=250 ms
64 bytes from 104.27.157.177 (104.27.157.177): icmp_seq=4 ttl=58 time=171 ms
64 bytes from 104.27.157.177 (104.27.157.177): icmp_seq=5 ttl=58 time=193 ms

--- 2daygeek.com ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 13244ms
rtt min/avg/max/mdev = 170.668/213.824/250.295/28.320 ms
</code></pre><h3 id=附加-1使用-telnet-命令检测一个网站是否宕机>附加 1：使用 telnet 命令检测一个网站是否宕机</h3><p><code>telnet</code> 命令是一个使用 TELNET 协议用于 TCP/IP 网络中多个主机相互通信的古老的网络协议。它通过 23 端口连接其他设备如计算机和网络设备。<code>telnet</code> 是不安全的协议，现在由于用这个协议发送的数据没有经过加密可能被黑客拦截，所以不推荐使用。大家都使用经过加密且非常安全的 SSH 协议来代替 <code>telnet</code>。</p><pre tabindex=0><code># telnet google.com 80

Trying 216.58.194.46…
Connected to google.com.
Escape character is &#39;^]&#39;.
^]
telnet&gt; quit
Connection closed.
</code></pre><h3 id=附加-2使用-bash-脚本检测一个网站是否宕机>附加 2：使用 bash 脚本检测一个网站是否宕机</h3><p>简而言之，一个 <a href=https://www.2daygeek.com/category/shell-script/>shell 脚本</a> 就是一个包含一系列命令的文件。shell 从文件读取内容按输入顺序逐行在命令行执行。为了让它更有效，我们添加一些条件。这也减轻了 Linux 管理员的负担。</p><p>如果你想想用 <code>wget</code> 命令看多个网站的状态，使用下面的 shell 脚本：</p><pre tabindex=0><code># vi wget-url-check-2.sh

#!/bin/bash
for site in www.google.com google.co.in www.xyzzz.com
do
if wget --spider -S &#34;$site&#34; 2&gt;&amp;1 | grep -w &#34;200\|301&#34; &gt; /dev/null ; then
    echo &#34;$site is up&#34;
else
    echo &#34;$site is down&#34;
fi
done
</code></pre><p>当你把上面脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># sh wget-url-check-2.sh

www.google.com is up
google.co.in is up
www.xyzzz.com is down
</code></pre><p>如果你想用 <code>wget</code> 命令看多个网站的状态，使用下面的 <a href=https://www.2daygeek.com/category/bash-script/>shell 脚本</a>：</p><pre tabindex=0><code># vi curl-url-check-2.sh

#!/bin/bash
for site in www.google.com google.co.in www.xyzzz.com
do
if curl -I &#34;$site&#34; 2&gt;&amp;1 | grep -w &#34;200\|301&#34; &gt; /dev/null ; then
    echo &#34;$site is up&#34;
else
    echo &#34;$site is down&#34;
fi
done
</code></pre><p>当你把上面脚本内容添加到一个文件后，执行文件，查看结果：</p><pre tabindex=0><code># sh curl-url-check-2.sh

www.google.com is up
google.co.in is up
www.xyzzz.com is down
</code></pre><hr><p>via: <a href=https://www.2daygeek.com/linux-command-check-website-is-up-down-alive/>https://www.2daygeek.com/linux-command-check-website-is-up-down-alive/</a></p><p>作者：<a href=https://www.2daygeek.com/author/magesh/>Magesh Maruthamuthu</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/lxbwolf>lxbwolf</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/ping/ rel=tag>ping</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>