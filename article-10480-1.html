<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>tmux：适用于重度命令行 Linux 用户的终端复用器 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="tmux：适用于重度命令行 Linux 用户的终端复用器"><meta property="og:description" content="它允许用户在单个窗口中创建或启用多个终端（垂直或水平），当你处理不同的问题时，可以在单个窗口中轻松访问和控制它们。"><meta property="og:type" content="article"><meta property="og:url" content="/article-10480-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-01-27T11:57:36+00:00"><meta property="article:modified_time" content="2019-01-27T11:57:36+00:00"><meta itemprop=name content="tmux：适用于重度命令行 Linux 用户的终端复用器"><meta itemprop=description content="它允许用户在单个窗口中创建或启用多个终端（垂直或水平），当你处理不同的问题时，可以在单个窗口中轻松访问和控制它们。"><meta itemprop=datePublished content="2019-01-27T11:57:36+00:00"><meta itemprop=dateModified content="2019-01-27T11:57:36+00:00"><meta itemprop=wordCount content="388"><meta itemprop=keywords content="tmux,终端,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>tmux：适用于重度命令行 Linux 用户的终端复用器</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-01-27T11:57:36Z>January 27, 2019</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201901/27/115721l0rp0cn3ptq1u91c.jpg alt></p><p>tmux 是 终端复用器 terminal multiplexer 的缩写，它允许用户在单个窗口中创建或启用多个终端（垂直或水平），当你处理不同的问题时，可以在单个窗口中轻松访问和控制它们。</p><p>它使用客户端-服务器模型，允许在用户之间共享会话，也可以将终端连接到 tmux 会话。我们可以根据需要轻松移动或重新排列虚拟控制台。终端会话可以从一个虚拟控制台自由切换到另一个。</p><p>tmux 依赖于 <code>libevent</code> 和 <code>ncurses</code> 库。tmux 在屏幕底部提供了一个状态行，它显示当前 tmux 会话的有关信息，例如当前窗口编号、窗口名称、用户名、主机名、当前时间和日期。</p><p>启动 tmux 时，它会在一个单独窗口上创建一个新的会话，并将其显示在屏幕上。它允许用户在同一个会话中创建任意数量的窗口。</p><p>许多人说它类似于 <code>screen</code>，但我不这么认为，因为它提供了许多配置选项。</p><p><strong>注意：</strong> <code>Ctrl+b</code> 是 tmux 中的默认命令前缀，因此，要在 tmux 中执行任何操作，你必须先输入该前缀然后输入所需的选项。</p><h3 id=tmux-特性>tmux 特性</h3><ul><li>创建任意数量的窗口</li><li>在一个窗口中创建任意数量的窗格</li><li>它允许垂直和水平分割</li><li>分离并重新连接窗口</li><li>客户端-服务器架构，这允许用户之间共享会话</li><li>tmux 提供许多配置技巧</li></ul><p><strong>建议阅读：</strong></p><ul><li><a href=https://www.2daygeek.com/tmate-instantly-share-your-terminal-session-to-anyone-in-seconds/>tmate - 马上与其他人分享你的终端会话</a></li><li><a href=https://www.2daygeek.com/teleconsole-share-terminal-session-instantly-to-anyone-in-seconds/>Teleconsole - 一个与其他人分享终端会话的工具</a></li></ul><h3 id=如何安装-tmux-命令>如何安装 tmux 命令</h3><p>大多数 Linux 系统默认预安装 tmux 命令。如果没有，按照以下步骤安装。</p><p>对于 Debian/Ubuntu，使用 <a href=https://www.2daygeek.com/apt-get-apt-cache-command-examples-manage-packages-debian-ubuntu-systems/>APT-GET 命令</a>或 <a href=https://www.2daygeek.com/apt-command-examples-manage-packages-debian-ubuntu-systems/>APT 命令</a>来安装：</p><pre tabindex=0><code>$ sudo apt install tmux
</code></pre><p>对于 RHEL/CentOS，使用 <a href=https://www.2daygeek.com/yum-command-examples-manage-packages-rhel-centos-systems/>YUM 命令</a>来安装：</p><pre tabindex=0><code>$ sudo yum install tmux
</code></pre><p>对于 Fedora，使用 <a href=https://www.2daygeek.com/dnf-command-examples-manage-packages-fedora-system/>DNF 命令</a>来安装：</p><pre tabindex=0><code>$ sudo dnf install tmux
</code></pre><p>对于 Arch Linux，使用 <a href=https://www.2daygeek.com/pacman-command-examples-manage-packages-arch-linux-system/>Pacman 命令</a>来安装：</p><pre tabindex=0><code>$ sudo pacman -S tmux
</code></pre><p>对于 openSUSE，使用 <a href=https://www.2daygeek.com/zypper-command-examples-manage-packages-opensuse-system/>Zypper 命令</a>来安装：</p><pre tabindex=0><code>$ sudo zypper in tmux
</code></pre><h3 id=如何使用-tmux>如何使用 tmux</h3><p>在终端上运行以下命令来启动 tmux 会话。启动 tmux 后，它会在一个新窗口中创建新会话，并将使用你的用户账户自动登录到你的默认 shell。</p><pre tabindex=0><code>$ tmux
</code></pre><p><img src=/data/attachment/album/201901/27/115737zzi48znxb8n0wzru.png alt></p><p>你会得到类似于我们上面的截图。tmux 附带状态栏，显示有关当前会话详细信息、日期、时间等。</p><p>状态栏信息如下：</p><ul><li><code>[0]</code>：它表示由 tmux 服务器创建的会话号。默认情况下，它从 0 开始。</li><li><code>0:bash</code>：表示会话号、命令行提示符（这里的 <code>bash</code> 表示 shell 名称）。</li><li><code>*</code>：这表示该窗口现在处于活动状态。</li><li>主机名：显示服务器的完全主机名。</li><li>日期与时间：显示当前日期和时间。</li></ul><p>（LCTT 译注：tmux 的状态可以根据需要定制，也会因环境、版本的不同而不同。）</p><h3 id=如何拆分窗口>如何拆分窗口</h3><p>tmux 允许用户垂直或水平分割窗口，称为窗格。每个窗格都包含自己独立运行的终端实例。我们来看看如何做到这一点。</p><p>按下 <code>Ctrl+b, %</code> 来垂直分割窗格。</p><p><img src=/data/attachment/album/201901/27/115738fe7cgtwabwx1n7tg.png alt></p><p>按下 <code>Ctrl+b, "</code> 来水平分割窗格。</p><p><img src=/data/attachment/album/201901/27/115738c6hh2p0bp8tth2dh.png alt></p><h3 id=如何在窗格之间移动>如何在窗格之间移动</h3><p>假设，我们创建了一些窗格，希望在它们之间移动，这该怎么做？如果你不知道怎么做，那么使用 tmux 就没有意义了。使用以下控制键执行操作。在窗格之间移动有许多方法。</p><ul><li>按 <code>Ctrl+b, ←</code> - 选择左边的窗格</li><li>按 <code>Ctrl+b, →</code> - 选择右边的窗格</li><li>按 <code>Ctrl+b, ↑</code> - 选择上边的窗格</li><li>按 <code>Ctrl+b, ↓</code> - 选择下边的窗格</li><li>按 <code>Ctrl+b, {</code> - 来向左交换窗格</li><li>按 <code>Ctrl+b, }</code> - 来向右交换窗格</li><li>按 <code>Ctrl+b, o</code> - 切换到下一个窗格（从左到右，从上到下）</li><li>按 <code>Ctrl+b, ;</code> - 移动到先前活动的窗格</li></ul><p>出于测试目的，我们将在窗格之间移动。现在我们在 <code>pane2</code> 中，它展示了 <code>lsb_release -a</code> 命令的输出。</p><p><img src=/data/attachment/album/201901/27/115738m9i13v19n9v1sbs1.png alt></p><p>我们将移动到 <code>pane0</code>，它显示 <code>uname -a</code> 命令的输出。</p><p><img src=/data/attachment/album/201901/27/115739za3230hb33ozdb4a.png alt></p><h3 id=如何打开创建新窗口>如何打开/创建新窗口</h3><p>你可以在一个终端内打开任意数量的窗口。</p><ul><li>按 <code>Ctrl+b, c</code> 来创建一个新窗口。</li><li>按 <code>Ctrl+b, n</code> 移动到下一个窗口。</li><li>按 <code>Ctrl+b, p</code> 移动到上一个窗口。</li><li>按 <code>Ctrl+b, 0</code> ~ <code>Ctrl+b, 9</code> 立即移动到特定窗口。</li><li>按 <code>Ctrl+b, l</code> 移动到先前选择的窗口。</li></ul><p>我有两个窗口，第一个窗口有三个窗格，其中包含操作系统版本信息，<code>top</code> 命令输出和内核信息。</p><p><img src=/data/attachment/album/201901/27/115739yzbexhmyysxd4yiz.png alt></p><p>第二个窗口有两个窗格，其中包含 Linux 发行版 logo 信息。使用以下命令执行操作：</p><p><img src=/data/attachment/album/201901/27/115740jtg1sj77gsjdsgyw.png alt></p><p>按 <code>Ctrl+b, w</code> 以交互方式选择当前窗口。</p><p><img src=/data/attachment/album/201901/27/115740aq0rjcjdcuqrj7cc.png alt></p><h3 id=如何缩放窗格>如何缩放窗格</h3><p>你正在一些非常小的窗格中工作，并且你希望将其缩小以进行进一步的工作。要做到这一点，使用以下键绑定。</p><p>目前我们有三个窗格，我在 <code>pane1</code> 工作，它使用 <code>top</code> 命令显示系统活动信息，我将缩放它。</p><p><img src=/data/attachment/album/201901/27/115739yzbexhmyysxd4yiz.png alt></p><p>缩放窗格时，它将隐藏所有其它窗格，并只显示窗口中的缩放窗格。</p><p><img src=/data/attachment/album/201901/27/115741thhi80ggchlbl6gl.png alt></p><p>按 <code>Ctrl+b, z</code> 缩放窗格，并再次按下它使缩放窗格恢复原状。</p><h3 id=显示窗格信息>显示窗格信息</h3><p>要了解窗格编号及其大小，运行以下命令。</p><p>按 <code>Ctrl+b, q</code> 可简单显示窗格索引。</p><p><img src=/data/attachment/album/201901/27/115741etkopvoywkp7lkyt.png alt></p><h3 id=显示窗口信息>显示窗口信息</h3><p>要知道窗口编号、布局大小，与窗口关联的窗格数量及其大小等，运行以下命令。</p><p>只需运行 <code>tmux list-windows</code> 即可查看窗口信息。</p><p><img src=/data/attachment/album/201901/27/115741y3q8btqhxhk88k8l.png alt></p><h3 id=如何调整窗格大小>如何调整窗格大小</h3><p>你可能需要调整窗格大小来满足你的要求。你必须按下 <code>Ctrl+b, :</code>，然后在页面底部的黄色颜色条上输入以下详细信息。</p><p><img src=/data/attachment/album/201901/27/115742gaffvy3kr3kyz3mi.png alt></p><p>在上一部分中，我们打印了窗格索引，它同时也显示了窗格大小。为了测试，我们要向增加 <code>10</code> 个单元。参考以下输出，该窗格将 pane1 和 pane2 的大小从 <code>55x21</code> 增加到 <code>55x31</code>。</p><p><img src=/data/attachment/album/201901/27/115742k5zi8pid8wwk15kw.png alt></p><p><strong>语法：</strong> <code>Ctrl+b, :</code> 然后输入 <code>resize-pane [options] [cells size]</code></p><ul><li><code>Ctrl+b, :</code> 然后输入 <code>resize-pane -D 10</code> 将当前窗格大小向下调整 10 个单元。</li><li><code>Ctrl+b, :</code> 然后输入 <code>resize-pane -U 10</code> 将当前窗格大小向上调整 10 个单元。</li><li><code>Ctrl+b, :</code> 然后输入 <code>resize-pane -L 10</code> 将当前窗格大小向左调整 10 个单元。</li><li><code>Ctrl+b, :</code> 然后输入 <code>resize-pane -R 10</code> 将当前窗格大小向右调整 10 个单元。</li></ul><h3 id=分离并重新连接-tmux-会话>分离并重新连接 tmux 会话</h3><p>tmux 最强大的功能之一是能够在需要时分离和重新连接会话。</p><p>运行一个长时间运行的进程，然后按下 <code>Ctrl+b</code>，接着按 <code>d</code>，通过离开正在运行的进程安全地分离你的 tmux 会话。</p><p><strong>建议阅读：</strong> <a href=https://www.2daygeek.com/how-to-keep-a-process-command-running-after-disconnecting-ssh-session/>如何在断开 SSH 会话后保持进程/命令继续运行</a></p><p>现在，运行一个长时间运行的进程。出于演示目的，我们将把此服务器备份移动到另一个远程服务器以进行灾难恢复（DR）。</p><pre tabindex=0><code>$ rsync -avzhe ssh /backup root@192.168.0.161:/backups/week-1/
</code></pre><p>在分离 tmux 会话之后，你将获得类似下面的输出。</p><pre tabindex=0><code>[detached (from session 0)]
</code></pre><p>运行以下命令以列出可用的 tmux 会话。</p><pre tabindex=0><code>$ tmux ls
0: 3 windows (created Tue Jan 30 06:17:47 2018) [109x45]
</code></pre><p>现在，使用适当的会话 ID 重新连接 tmux 会话，如下所示：</p><pre tabindex=0><code>$ tmux attach -t 0
</code></pre><h3 id=如何关闭窗格和窗口>如何关闭窗格和窗口</h3><p>只需在相应的窗格中输入 <code>exit</code> 或按下 <code>Ctrl-d</code> 即可关闭它，和终端关闭类似。要关闭窗口，按下 <code>Ctrl+b, &</code>。</p><p>好了，就到这里了，希望你喜欢上它。</p><hr><p>via: <a href=https://www.2daygeek.com/tmux-a-powerful-terminal-multiplexer-emulator-for-linux/>https://www.2daygeek.com/tmux-a-powerful-terminal-multiplexer-emulator-for-linux/</a></p><p>作者：<a href=https://www.2daygeek.com/author/magesh/>Magesh Maruthamuthu</a> 译者：<a href=https://github.com/MjSeven>MjSeven</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/tmux/ rel=tag>tmux</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E7%BB%88%E7%AB%AF/ rel=tag>终端</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>