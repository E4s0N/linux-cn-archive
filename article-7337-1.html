<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux 是世界上最大的软件开发项目 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Linux 是世界上最大的软件开发项目"><meta property="og:description" content="两个月前发布 4.5 版已经包含了 2100 万行代码！我的笔记本上运行的内核代码大概有 160 万行，而你的电话可能运行了 250 万行代码。
每天，平均有超过 10800 行的代码增加， 5300 行代码被删除，并且还有 1875 行代码被修改，也就是说每秒钟都有超过 8 行代码的变化！"><meta property="og:type" content="article"><meta property="og:url" content="/article-7337-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-05-14T11:30:00+00:00"><meta property="article:modified_time" content="2016-05-14T11:30:00+00:00"><meta itemprop=name content="Linux 是世界上最大的软件开发项目"><meta itemprop=description content="两个月前发布 4.5 版已经包含了 2100 万行代码！我的笔记本上运行的内核代码大概有 160 万行，而你的电话可能运行了 250 万行代码。
每天，平均有超过 10800 行的代码增加， 5300 行代码被删除，并且还有 1875 行代码被修改，也就是说每秒钟都有超过 8 行代码的变化！"><meta itemprop=datePublished content="2016-05-14T11:30:00+00:00"><meta itemprop=dateModified content="2016-05-14T11:30:00+00:00"><meta itemprop=wordCount content="113"><meta itemprop=keywords content="内核,Kroah-Hartman,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Linux 是世界上最大的软件开发项目</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2016-05-14T11:30:00Z>May 14, 2016</time></div></div></header><div class="content post__content clearfix"><p>Greg Kroah-Hartman 是 Linux 内核社区的二号人物（第一位显然是 Linus Torvalds），他在设备驱动方面做了许多工作，他也是当前 Linux 内核稳定分支的负责人。</p><p>在本周柏林举办的 CoreOS Fest 上，Kroah-Hartman 做了一场讲演介绍了 Linux 内核项目是如何的巨大。之后我找了个机会邀请他聊了聊内核和安全方面的话题。</p><p>我们的话题先从代码方面开始，Kroah-Hartman 说刚刚于两个月前发布 4.5 版已经包含了 2100 万行代码！</p><p>可能很多人觉得在那么小的设备上运行这么多的代码有点夸张，事实上，并不是所有的 2100 万行代码都运行在他们的设备上，只有需要的部分才会运行在里面。正如 Kroah-Hartman 说的，“你不会全部用到它们。在内核里面包含了各种硬件的驱动。我的笔记本上运行的内核代码大概有 160 万行，而你的电话可能运行了 250 万行代码。”</p><p>这里面，内核的核心部分是一定算在其中的，而它只占整个 Linux 内核代码的 5%，而剩下的还有 35% 是网络部分，40% 是设备驱动。</p><p>比代码规模更让人印象深刻的是它的参与人数规模，去年就有大约 4000 名开发人员参与了开发，至少 440 个公司向内核提交了贡献，这使得 Linux 成为了世界上最大的软件项目！Kroah-Hartman 说：“这是计算机有史以来最大的软件开发项目，无论是使用它的人数、开发它的人数，还是与之相关的公司数量，规模都很大。”</p><p><img src=/data/attachment/album/201605/14/113055m2hylyoixljvzsyu.jpg alt="greg kernel"></p><p><em>Greg Kroah-Hartman 在 CoreOS Fest, Berlin 的讲演</em></p><p>每天，平均有超过 10800 行的代码增加， 5300 行代码被删除，并且还有 1875 行代码被修改，也就是说每秒钟都有超过 8 行代码的变化！</p><p>这是非常大的数量，这意味着 Linux 内核不像其它的技术，它在不断的变化，变得越来越好。</p><p>Kroah-Hartman 说，“当我第一次参与这个项目时，我们每个小时可以完成 2.5 个变更。每个人都这么说，‘哦，天哪，我们不可能更快了，那不现实’。微软和苹果也说，‘你赢了’，他们一字一顿的说，‘我们比不上，你们干的比任何人都要快，我们是望尘莫及啊’。而我们的开发速度越来越快，我们每次都会更快一些。”</p><p>但是，如果你的公司的发展依靠着 Linux，那这个变化速度看起来就很可怕。Kroah-Hartman 解释了为什么会有这么多变更：“我们提交了很多变更，但是不是因为我们为变更而变更的，那可需要很多的工作。我们其实很懒，我们做这么多的变更的原因是因为我们必须做，是因为这个世界不断变化而需要我们做这么多的变更。那种‘你做了个东西，然后啥也不用管，将它丢在一边就好了’的模式已经不可行了，因为这个东西已经连通了世界，而世界每时每刻在变化。事物都在互相作用，所以你必须跟着进化。如果你的操作系统不能改变，那它就没用了，这毋庸置疑。如果你的设备不能跟着与之互动的世界变化，那它同样也没用，这也毋庸置疑。所以，你可以看看那些不能与时俱进的操作系统，根本没有人用它们。”</p><p>为了做到这些变更，Linux 内核社区需要做到两点。首先，我们要有个按时间进行的发布计划。其次，我们需要小步快跑。我们完成一个发布就要开始下一个发布的开发。下一个发布的第一个 RC 版本里面就要包含进去所有开发人员丢进去的各种东西，包括各种新的东西、新的功能，而且它们需要经过严格考验。当所有的东西都测试良好，我们才会放出第一个 RC 版本，之后的 RC 版本就是各种问题的修复。这样，我们就能在一个分支的 7-8 个 RC 版本之后赶走所有发现的问题。</p><p>当我们准备好发布一个新的内核发布版本时，它已经经过了详尽的测试。但是仍然有问题时，人们使用的稳定版怎么修复问题呢，他们可不想在产品环境中使用 RC 版本，那么他们怎么修复问题？在 15 年前，内核社区就找到了解决方案，而这就是 Kroah-Hartman 的任务，他会对稳定版本进行分支，比如说 4.2 版，它的问题修复版本会以 4.2.1 、4.2.2、4.2.3 等等发布。</p><p>“这个版本规则就是它必须是一个问题修复版，而且它必须是一个正确的版本号或者是新的设备 ID，它必须出现在 Linux 内核代码树上。在我将它放到稳定分支之前，它就必须出现在 Linux 内核代码树上。这可以确保人们运行我们的稳定内核时，如果跳到一个新的分支版本时，不会发生中断，没有什么不一样的变化。这就是规则，而且一直以来运作良好。”Kroah-Hartman 说。</p><p>而当下一个新的分支（4.3）出来时，Kroah-Hartman 就会从当前的分支（4.2）离开而去维护 4.3。这样内核社区就完美的保证了当新的版本发布时任何事情都很连贯。</p><p>“每个版本我每周都会做一次发布，每周会对稳定分支打 100 到 150 个补丁。这很多，许多东西都变化了，也修复了许多东西。而这就是我们做的——稳定的分支。当 4.3 发布时，最好的事情是我解脱了，我说，‘啊！4.2，我再也不要见到你了’，然后我就跑到新的分支了，因为我们的工作，这一切都可以继续发展下去，所有人都很满意。”</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%86%85%E6%A0%B8/ rel=tag>内核</a></li><li class=tags__item><a class="tags__link btn" href=/tags/kroah-hartman/ rel=tag>Kroah-Hartman</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>