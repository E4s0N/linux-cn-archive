<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Ubuntu 中使用 apt 命令列出可升级的软件包 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Ubuntu 中使用 apt 命令列出可升级的软件包"><meta property="og:description" content="apt 还提供了一些额外的功能，其中之一是能够查看系统上所有可升级的软件包。"><meta property="og:type" content="article"><meta property="og:url" content="/article-14861-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-24T23:10:00+00:00"><meta property="article:modified_time" content="2022-07-24T23:10:00+00:00"><meta itemprop=name content="在 Ubuntu 中使用 apt 命令列出可升级的软件包"><meta itemprop=description content="apt 还提供了一些额外的功能，其中之一是能够查看系统上所有可升级的软件包。"><meta itemprop=datePublished content="2022-07-24T23:10:00+00:00"><meta itemprop=dateModified content="2022-07-24T23:10:00+00:00"><meta itemprop=wordCount content="247"><meta itemprop=keywords content="apt,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Ubuntu 中使用 apt 命令列出可升级的软件包</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2022-07-24T23:10:00Z>July 24, 2022</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/202207/24/230954qjko0c0sn55ohjf0.jpg alt></p><p><a href=https://itsfoss.com/apt-command-guide/>apt 命令</a> 用于 Debian 和 Ubuntu 中的包管理。虽然你可能已经熟悉安装和删除选项，但 <code>apt</code> 还提供了一些额外的功能。</p><p>其中之一是能够查看系统上所有可升级的软件包。要显示它们，你所要做的就是在终端中使用以下命令：</p><pre tabindex=0><code>apt list --upgradable
</code></pre><p>如你所见，你甚至不需要使用 <code>sudo</code> 来列出可更新的包。它只是列出了可以更新的包，而不会更新它们。</p><p>实际上，当你运行 <code>sudo apt update</code> 命令更新本地包仓库缓存时，<code>apt</code> 命令会添加此提示。</p><pre tabindex=0><code>Fetched 1,243 kB in 17s (71.4 kB/s)           
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
30 packages can be upgraded. Run &#39;apt list --upgradable&#39; to see them.
</code></pre><p>我不记得在旧的 <code>apt-get</code> 命令中有任何类似的直接选项来列出所有可升级的包。这是 <code>apt</code> 在旧的 <code>apt-get</code> 命令之上添加的几个新功能之一。</p><p>让我们更详细地讨论一下。</p><h3 id=列出所有可升级的包>列出所有可升级的包</h3><p>你在这里应该知道的是<strong>你只能列出通过 APT 包管理器可用的更新</strong>。因此，如果你已将 PPA 或 <a href=https://itsfoss.com/adding-external-repositories-ubuntu/>外部仓库</a> 添加到系统的 <code>sources.list</code>，你也将看到来自它们的更新。</p><p>但是你不会在这里获得 AppImage、Flatpak、Snap 或一些其他打包格式的更新。</p><p>换句话说，它只适用于 APT 包。</p><p>因此，要列出 Ubuntu 或 Debian 系统上的所有可升级包，你应该首先更新本地包缓存：</p><pre tabindex=0><code>sudo apt update
</code></pre><p>然后你的系统将知道可用的软件包更新。<code>apt</code> 命令告诉你在 update 命令结束时可以升级多少个软件包：</p><p><img src=/data/attachment/album/202207/24/231221a8i85r8zvn4z8xbe.png alt="The apt command shows the number of upgradable packages at the bottom of the apt update command output"></p><p>要查看可以升级的软件包，请运行以下命令：</p><pre tabindex=0><code>apt list --upgradable
</code></pre><p>你应该看到这样的输出：</p><pre tabindex=0><code>~$ apt list --upgradable 
Listing... Done
apparmor/jammy-updates 3.0.4-2ubuntu2.1 amd64 [upgradable from: 3.0.4-2ubuntu2]
brave-browser/stable 1.40.113 amd64 [upgradable from: 1.40.107]
evolution-data-server-common/jammy-updates,jammy-updates 3.44.2-0ubuntu1 all [upgradable from: 3.44.1-0ubuntu2]
evolution-data-server/jammy-updates 3.44.2-0ubuntu1 amd64 [upgradable from: 3.44.1-0ubuntu2]
</code></pre><p><img src=/data/attachment/album/202207/24/231248le90whaikrr0r600.jpg alt="Listing all the upgradable packages"></p><p>它<strong>按字母顺序列出所有可升级的软件包</strong>以及有关当前安装版本和新可用软件包版本的信息。</p><pre tabindex=0><code>brave-browser/stable 1.40.113 amd64 [upgradable from: 1.40.107]
</code></pre><p>例如，这显示我系统上安装了 Brave 浏览器，版本 1.40.107，并且版本 1.40.113 可用。</p><p>你能用这些信息做什么？让我分享一些我能想到的事情。</p><h3 id=升级所有包>升级所有包</h3><p>这可能是大多数普通 Ubuntu 用户所做的。你可以使用以下命令升级所有可升级包：</p><pre tabindex=0><code>sudo apt upgrade
</code></pre><p>它列出了将要升级的软件包，然后要求按回车或 <code>Y</code> 确认升级。</p><p><img src=/data/attachment/album/202207/24/231300l7adqi7j3kd77ham.jpg alt="Upgrade all packages"></p><p>如果你确定要升级所有软件包，则可以通过在命令中添加 <code>-y</code> 来跳过 “Do you want to continue” 部分。</p><pre tabindex=0><code>sudo apt upgrade -y
</code></pre><h3 id=模拟升级但不升级任何包>模拟升级（但不升级任何包）</h3><p>这是人们在 <code>apt list</code> 命令之前所做的。使用模拟选项，你实际上不会进行任何更改。它仅显示运行升级时将安装或升级的软件包。</p><pre tabindex=0><code>apt -s upgrade
</code></pre><p>你不需要使用 <code>sudo</code>（即使我在下面的截图中使用了它）。</p><p><img src=/data/attachment/album/202207/24/231336xtkp8p772zr61kl6.jpg alt="Running an upgrade simulation with apt command"></p><h3 id=仅升级选定的包>仅升级选定的包</h3><p>如果你正在管理一个 Ubuntu 服务器，并且你不想升级所有软件包，而只想升级少数选定的软件包中的一个（如 MySQL/Ngnix），你可以使用 <code>apt</code> 命令轻松完成。</p><pre tabindex=0><code>sudo apt --only-upgrade install package_name
</code></pre><p>实际上，如果你在已安装且有可用更新的软件包上运行 <code>apt install</code> 命令，它将升级该软件包。</p><p>使用 <code>--only-upgrade</code> 标志，你可以确保<strong>仅升级</strong>软件包（如果已安装）。如果尚未安装，它将不会安装给定的包。</p><p>你还可以通过提供名称来升级选定的几个包：</p><pre tabindex=0><code>sudo apt --only-upgrade install package1 package2
</code></pre><p>你也可以做相反的事情，<a href=https://itsfoss.com/prevent-package-update-ubuntu/>升级时保留选定的软件包</a>。</p><pre tabindex=0><code>sudo apt-mark hold package_name
</code></pre><p>这样，当你升级所有系统包时，将不会升级给定的包。</p><p>你可以使用以下命令删除保留设置：</p><pre tabindex=0><code>sudo apt-mark unhold package_name
</code></pre><h3 id=是否显示内核升级>是否显示内核升级？</h3><p>这有点棘手。</p><p>当你运行 <code>apt list –upgradable</code> 命令时，它会显示所有可以升级的包。</p><p>但是如果有新的内核版本可用，它们可能不会显示，因为内核包名称以 <code>linux-headers-x-y</code> 开头。这是因为系统将它们视为新包，而不是对已安装的包 <code>linux-headers-a-b</code> 的升级。</p><p>但是，你仍然会在可升级包列表中看到 <code>linux-generic-hwe</code> 类型的包，因为该软件包将被升级（使用较新的内核）。</p><h3 id=总结>总结</h3><p>列出可升级包的能力是 <code>apt</code> 命令为旧的 <code>apt-get</code> 命令带来的几个新功能之一。有关此主题的更多信息，你可以阅读我 <a href=https://itsfoss.com/apt-vs-apt-get-difference/>解释 apt 和 apt-get 命令之间的区别</a> 的文章。</p><p>作为桌面用户，我并不总是检查可以升级的软件包。我直接去升级。但是，当我管理服务器时，我更喜欢查看可用的更新，然后决定是否进行升级。</p><p>你呢？你觉得这个功能对你自己有用吗？</p><hr><p>via: <a href=https://itsfoss.com/apt-list-upgradable/>https://itsfoss.com/apt-list-upgradable/</a></p><p>作者：<a href=https://itsfoss.com/author/abhishek/>Abhishek Prakash</a> 选题：<a href=https://github.com/lkxed>lkxed</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/apt/ rel=tag>apt</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>