<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>3 个在 Linux 中永久并安全删除文件和目录的方法 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="3 个在 Linux 中永久并安全删除文件和目录的方法"><meta property="og:description" content="在大多数情况下，我们习惯于使用 Delete 键、垃圾箱或 rm 命令从我们的计算机中删除文件，但这不是永久安全地从硬盘中（或任何存储介质）删除文件的方法。"><meta property="og:type" content="article"><meta property="og:url" content="/article-8123-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-01-18T12:06:43+00:00"><meta property="article:modified_time" content="2017-01-18T12:06:43+00:00"><meta itemprop=name content="3 个在 Linux 中永久并安全删除文件和目录的方法"><meta itemprop=description content="在大多数情况下，我们习惯于使用 Delete 键、垃圾箱或 rm 命令从我们的计算机中删除文件，但这不是永久安全地从硬盘中（或任何存储介质）删除文件的方法。"><meta itemprop=datePublished content="2017-01-18T12:06:43+00:00"><meta itemprop=dateModified content="2017-01-18T12:06:43+00:00"><meta itemprop=wordCount content="312"><meta itemprop=keywords content="删除,恢复,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>3 个在 Linux 中永久并安全删除文件和目录的方法</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2017-01-18T12:06:43Z>January 18, 2017</time></div></div></header><div class="content post__content clearfix"><p>在大多数情况下，我们习惯于使用 <code>Delete</code> 键、垃圾箱或 <code>rm</code> 命令<a href=/article-7954-1.html>从我们的计算机中删除文件</a>，但这不是永久安全地从硬盘中（或任何存储介质）删除文件的方法。</p><p>该文件只是对用户隐藏，它驻留在硬盘上的某个地方。它有可能被数据窃贼、执法取证或其它方式来恢复。</p><p>假设文件包含密级或机密内容，例如安全系统的用户名和密码，具有必要知识和技能的攻击者可以轻松地<a href=/article-8122-1.html>恢复删除文件的副本</a>并访问这些用户凭证（你可以猜测到这种情况的后果）。</p><p><img src=/data/attachment/album/201701/18/120608tzv6n2w5zxfvc6zt.jpg alt></p><p>在本文中，我们将解释一些命令行工具，用于永久并安全地删除 Linux 中的文件。</p><h3 id=1-shred--覆盖文件来隐藏内容>1、 shred – 覆盖文件来隐藏内容</h3><p><code>shred</code> 会覆盖文件来隐藏它的内容，并且也可以选择删除它。</p><pre tabindex=0><code>$ shred -zvu -n  5 passwords.list
</code></pre><p>在下面的命令中，选项有：</p><ol><li><code>-z</code> - 用零覆盖以隐藏碎片</li><li><code>-v</code> - 显示操作进度</li><li><code>-u</code> - 在覆盖后截断并删除文件</li><li><code>-n</code> - 指定覆盖文件内容的次数（默认值为3）</li></ol><p><img src=/data/attachment/album/201701/18/120646jie3i566n55ze9x5.png alt="shred - overwrite a file to hide its contents"></p><p><em>shred - 覆盖文件来隐藏它的内容</em></p><p>你可以在 <code>shred</code> 的帮助页中找到更多的用法选项和信息：</p><pre tabindex=0><code>$ man shred
</code></pre><h3 id=2-wipe--在-linux-中安全删除文件>2、 wipe – 在 Linux 中安全删除文件</h3><p><code>wipe</code> 命令可以安全地擦除磁盘中的文件，从而不可能<a href=/article-7974-1.html>恢复删除的文件或目录内容</a>。</p><p>首先，你需要安装 <code>wipe</code> 工具，运行以下适当的命令：</p><pre tabindex=0><code>$ sudo apt-get install wipe   [Debian 及其衍生版]
$ sudo yum install wipe       [基于 RedHat 的系统]
</code></pre><p>下面的命令会销毁 private 目录下的所有文件。</p><pre tabindex=0><code>$ wipe -rfi private/*
</code></pre><p>当使用下面的标志时：</p><ol><li><code>-r</code> - 告诉 <code>wipe</code> 递归地擦除子目录</li><li><code>-f</code> - 启用强制删除并禁用确认查询</li><li><code>-i</code> - 显示擦除进度</li></ol><p><img src=/data/attachment/album/201701/18/120646e9lw7uwtazwu7u9e.png alt="Wipe - Securely Erase Files in Linux"></p><p><em>wipe – 在 Linux 中安全擦除文件</em></p><p>注意：<code>wipe</code> 仅可以在磁性存储上可以可靠地工作，因此对固态磁盘（内存）请使用其他方法。</p><p>阅读 <code>wipe</code> 手册以获取其他使用选项和说明：</p><pre tabindex=0><code>$ man wipe
</code></pre><h3 id=3-linux-中的安全删除工具集>3、 Linux 中的安全删除工具集</h3><p>secure-delete 是一个安全文件删除工具的集合，它包含用于安全删除文件的 <code>srm</code>（secure_deletion）工具。</p><p>首先，你需要使用以下相关命令安装它：</p><pre tabindex=0><code>$ sudo apt-get install secure-delete   [Debian 及其衍生版]
$ sudo yum install secure-delete       [基于 RedHat 的系统]
</code></pre><p>安装完成后，你可以使用 <code>srm</code> 工具在 Linux 中安全地删除文件和目录。</p><pre tabindex=0><code>$ srm -vz private/*
</code></pre><p>下面是使用的选项：</p><ol><li><code>-v</code> – 启用 verbose 模式</li><li><code>-z</code> – 用0而不是随机数据来擦除最后的写入</li></ol><p><img src=/data/attachment/album/201701/18/120647yxpx7t72uao3dd32.png alt="srm - Securely Delete Files in Linux "></p><p><em>srm – 在 Linux 中安全删除文件</em></p><p>阅读 srm 手册来获取更多的使用选项和信息：</p><pre tabindex=0><code>$ man srm
</code></pre><h3 id=4-sfill--安全免费的磁盘--inode-空间擦除器>4、 sfill -安全免费的磁盘 / inode 空间擦除器</h3><p><code>sfill</code> 是 secure-deletetion 工具包的一部分，是一个安全免费的磁盘和 inode 空间擦除器，它以安全的方法删除可用磁盘空间中的文件。 <code>sfill</code> 会<a href=/article-8024-1.html>检查指定分区上的可用空间</a>，并使用来自 <code>/dev/urandom</code> 的随机数据填充它。</p><p>以下命令将在我的根分区上执行 <code>sfill</code>，使用 `-v&rsquo; 选项启用 verbose 模式：</p><pre tabindex=0><code>$ sudo sfill -v /home/aaronkilik/tmp/
</code></pre><p>假设你创建了一个单独的分区 <code>/home</code> 来存储正常的系统用户主目录，你可以在该分区上指定一个目录，以便在其上应用 <code>sfill</code>：</p><pre tabindex=0><code>$ sudo sfill -v /home/username
</code></pre><p>你可以在 sfill 的手册上看到一些限制，你也可以看到额外的使用标志和命令：</p><pre tabindex=0><code>$ man sfill
</code></pre><p>注意：secure-deletetion 工具包中的另外两个工具（<code>sswap</code> 和 <code>sdmem</code>）与本指南的范围不直接相关，但是，为了将来的使用和传播知识的目的，我们会在下面介绍它们。</p><h3 id=5-sswap--安全-swap-擦除器>5、 sswap – 安全 swap 擦除器</h3><p>它是一个安全的分区擦除器，<code>sswap</code> 以安全的方式删除 swap 分区上存在的数据。</p><p>警告：请记住在使用 <code>sswap</code> 之前卸载 swap 分区！ 否则你的系统可能会崩溃！</p><p>要找到交换分区（并检查分页和交换设备/文件是否已经使用，请使用 <code>swapon</code> 命令），接下来，使用 <code>swapoff</code> 命令禁用分页和交换设备/文件（使 swap 分区不可用）。</p><p>然后在（关闭的） swap 分区上运行 <code>sswap</code> 命令：</p><pre tabindex=0><code>$ cat /proc/swaps 
$ swapon
$ sudo swapoff /dev/sda6
$ sudo sswap /dev/sda6    #这个命令要花费一些时间，默认要进行 38 遍擦除
</code></pre><p><img src=/data/attachment/album/201701/18/120647sklgbrpicbt22iy5.png alt="sswap - Secure Swap Wiper"></p><p><em>sswap – 安全 swap 擦除器</em></p><p>阅读 <code>sswap</code> 的手册来获取更多的选项和信息：</p><pre tabindex=0><code>$ man sswap
</code></pre><h3 id=6-sdmem--安全内存擦除器>6、 sdmem – 安全内存擦除器</h3><p><code>sdmem</code> 是一个安全的内存擦除器，其设计目的是以安全的方式删除存储器（RAM）中的数据。</p><p>它最初命名为 <a href=/article-7681-1.html>smem</a>，但是因为在 Debain 系统上存在另一个包 <a href=/article-7681-1.html>smem - 报告每个进程和每个用户的内存消耗</a>，开发人员决定将它重命名为 <code>sdmem</code>。</p><pre tabindex=0><code>$ sudo sdmem -f -v
</code></pre><p>关于更多的使用信息，阅读 <code>sdmen</code> 的手册：</p><pre tabindex=0><code>$ man sdmem 
</code></pre><p><strong>推荐阅读：</strong> <a href=/article-8122-1.html>在 Linux 系统下使用 PhotoRec & TestDisk 工具来恢复文件</a>。</p><p>就是这样了！在本文中，我们查看了一系列可以永久安全地删除 Linux 中的文件的工具。像往常一样，通过下面的评论栏发表你对本篇文章的想法或建议。</p><hr><p>作者简介：</p><p><img src=/data/attachment/album/201701/18/120648xxd22kik1xmkxttk.jpg alt></p><p>Aaron Kili 是一个 Linux 系统及 F.O.S.S 爱好者，即将成为一名系统管理员及 Web 开发人员，他现在是 TecMint 网站的内容创建者，他喜欢使用电脑来工作，并且他坚信分享知识是一种美德。</p><hr><p>via: <a href=http://www.tecmint.com/permanently-and-securely-delete-files-directories-linux/>http://www.tecmint.com/permanently-and-securely-delete-files-directories-linux/</a></p><p>作者：<a href=http://www.tecmint.com/author/admin/>Aaron Kili</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/jasminepeng>jasminepeng</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%88%A0%E9%99%A4/ rel=tag>删除</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%81%A2%E5%A4%8D/ rel=tag>恢复</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>