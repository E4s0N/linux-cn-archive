<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux 下 SSH 命令实例指南 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Linux 下 SSH 命令实例指南"><meta property="og:description" content="如果你已经在IT圈内混久了, 应该对 SSH 这个了不起的工具及其安全特性有所耳闻吧. 本教程可以让你在短时间内掌握通过 SSH 安全便利地连接到远程计算机的技术.如果你对 SSH 还没什么概念, 可以先访问 维基百科 进行了解.基本用法：最简单的 SSH 命令只需要指定用户名和主机名参数即可. 主机名可以是 IP 地址或者域名. 命令格式如下:"><meta property="og:type" content="article"><meta property="og:url" content="/article-3858-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-09-19T11:21:10+00:00"><meta property="article:modified_time" content="2014-09-19T11:21:10+00:00"><meta itemprop=name content="Linux 下 SSH 命令实例指南"><meta itemprop=description content="如果你已经在IT圈内混久了, 应该对 SSH 这个了不起的工具及其安全特性有所耳闻吧. 本教程可以让你在短时间内掌握通过 SSH 安全便利地连接到远程计算机的技术.如果你对 SSH 还没什么概念, 可以先访问 维基百科 进行了解.基本用法：最简单的 SSH 命令只需要指定用户名和主机名参数即可. 主机名可以是 IP 地址或者域名. 命令格式如下:"><meta itemprop=datePublished content="2014-09-19T11:21:10+00:00"><meta itemprop=dateModified content="2014-09-19T11:21:10+00:00"><meta itemprop=wordCount content="209"><meta itemprop=keywords content="Linux,SSH,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Linux 下 SSH 命令实例指南</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-09-19T11:21:10Z>September 19, 2014</time></div></div></header><div class="content post__content clearfix"><p>如果你已经在IT圈内混久了, 应该对 SSH 这个了不起的工具及其安全特性有所耳闻吧. 本教程可以让你在短时间内掌握通过 SSH 安全便利地连接到远程计算机的技术.</p><p>如果你对 SSH 还没什么概念, 可以先访问 <a href=http://en.wikipedia.org/wiki/Secure_Shell>维基百科</a> 进行了解.</p><p><img src=/data/attachment/album/201409/19/111947i1cwfxw266wtizcj.jpg alt></p><h3 id=基本用法>基本用法</h3><p>最简单的 SSH 命令只需要指定用户名和主机名参数即可. 主机名可以是 IP 地址或者域名. 命令格式如下:</p><pre tabindex=0><code>$ ssh user@hostname
</code></pre><p>比如要在我的局域网内登录一个树莓派系统, 只需要简单的在命令行输入如下命令:</p><pre tabindex=0><code>$ ssh pi@10.42.0.47
</code></pre><p>命令中的 pi 和 10.42.0.47 分别是我的树莓派系统的用户名和局域网 IP 地址. 实际使用时主机名需要改成你的目标主机(局域网内或者远程)的 IP 地址.</p><p><a href=https://camo.githubusercontent.com/1e43983e7bac8f1f42b6d584925a7e061d0e4065/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f62617369632d7373682e706e67><img src=https://camo.githubusercontent.com/1e43983e7bac8f1f42b6d584925a7e061d0e4065/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f62617369632d7373682e706e67 alt="basic ssh"></a></p><p>如果你能够成功登陆, 那么下面的内容对你来说就轻而易举了.</p><h3 id=使用其他端口>使用其他端口</h3><p>SSH 默认连接到目标主机的 22 端口上,但是由于各种原因你可能需要连接到其他端口.</p><pre tabindex=0><code>$ ssh -p 10022 user@hostname
</code></pre><p>如上命令就是通过添加参数 -p 指定端口号为 10022.</p><h3 id=远程执行命令>远程执行命令</h3><p>有时在远程主机执行一条命令并显示到本地, 然后继续本地工作是很方便的. SSH 就能满足这个需求:</p><pre tabindex=0><code>$ ssh pi@10.42.0.47 ls -l
</code></pre><p>比如上面这个命令就会枚举远程主机的主目录内容并在本地显示. 是不是很酷? 你可以尝试下其他命令看看.</p><p><a href=https://camo.githubusercontent.com/c903546aabf7fbc3bb801a2272e596ea71cb205c/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f72656d6f74652d636f6d6d616e642e706e67><img src=https://camo.githubusercontent.com/c903546aabf7fbc3bb801a2272e596ea71cb205c/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f72656d6f74652d636f6d6d616e642e706e67 alt="remote command"></a></p><h3 id=挂载远程文件系统>挂载远程文件系统</h3><p>另外一个很赞的基于 SSH 的工具叫 sshfs. sshfs 可以让你在本地直接挂载远程主机的文件系统.</p><pre tabindex=0><code>$ sshfs -o idmap=user user@hostname:/home/user ~/Remote
</code></pre><p>比如下面这条命令:</p><pre tabindex=0><code>$ sshfs -o idmap=user pi@10.42.0.47:/home/pi ~/Pi
</code></pre><p>该命令就将远程主机 pi 用户的主目录挂载到本地主目录下的 Pi 文件夹.</p><p>要详细了解可以参考 <a href=http://linoxide.com/how-tos/sshfs-mount-remote-directories/>sshfs 教程</a>.</p><h3 id=x11-图形界面>X11 图形界面</h3><p>假如现在你想要在远程主机运行一个图形界面的程序, SSH 已经帮你想到了! 用前面提到的 SSH 基本命令加上参数 -X 连接到远程主机即可开启 X11 转发功能. 登录后你可能觉得没什么差别, 但是当你运行一个图形界面程序后就会发现其中的不同的.</p><pre tabindex=0><code>$ ssh -X pi@10.42.0.47

$ pistore
</code></pre><p>如果你想在运行图形界面程序的同时做些别的事情, 只需要简单地在命令末尾加一个 & 符号.</p><pre tabindex=0><code>$ pistore&amp;
</code></pre><p><a href=https://camo.githubusercontent.com/d715e18be2f1f129dbbf9a15b746b5dd9e47abf8/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f5831312d666f7277617264696e672e706e67><img src=https://camo.githubusercontent.com/d715e18be2f1f129dbbf9a15b746b5dd9e47abf8/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f5831312d666f7277617264696e672e706e67 alt="X11 forwarding"></a></p><h3 id=转义字符>转义字符</h3><p>SSH 提供了多样的转义字符功能. 用 SSH 连接到任意一台远程主机然后输入 ~? 你就可以看到支持的转义字符和功能说明列表. 以下例子展示了 <strong>~#</strong> 和 <strong>~C</strong> 的效果.</p><p><a href=https://camo.githubusercontent.com/ddd855602a65b0186b86f9ef51005fc3f2af8072/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f6573636170652d73657175656e6365732e706e67><img src=https://camo.githubusercontent.com/ddd855602a65b0186b86f9ef51005fc3f2af8072/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f6573636170652d73657175656e6365732e706e67 alt="escape sequences"></a></p><h3 id=配置-ssh>配置 SSH</h3><p>如果你需要改变 SSH 的配置, 请用你喜好的文本编辑器打开 <strong>/etc/ssh/sshd_config</strong> 进行编辑. 比如你想改变登陆的标语, 在配置文件中找到下面这行:</p><pre tabindex=0><code>#Banner none
</code></pre><p>删除 # 字符(取消该行的注释), 将 none 替换为包含你期望显示内容的文件地址. 修改后该行应该类似这样:</p><pre tabindex=0><code>Banner /etc/issue
</code></pre><p>在配置文件 <strong>/etc/ssh/sshd_config</strong> 中你还可以找到端口号, 空闲超时时间等配置项. 配置项大都比较容易理解, 但是保险起见在你修改一些不是很确定的配置项时最好参考下 SSH 的帮助文档.</p><h3 id=构建-ssh-密钥对>构建 ssh 密钥对</h3><p>运行以下命令创建密钥对:</p><pre tabindex=0><code>$ ssh-keygen -t dsa
</code></pre><p>此命令会要求你输入密码(可以留空), 然后就会生成密钥并会显示一张该密钥对应的随机图.</p><p><a href=https://camo.githubusercontent.com/0390da4566f00cdd946e2e2b7468cffdf20ce333/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f67656e65726174652d6b65792d706169722e706e67><img src=https://camo.githubusercontent.com/0390da4566f00cdd946e2e2b7468cffdf20ce333/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f67656e65726174652d6b65792d706169722e706e67 alt="generate key pair"></a></p><h3 id=寻找主机密钥>寻找主机密钥</h3><p>在你准备添加密钥之前不妨先用以下命令看看是否已经添加了对应主机的密钥了.</p><pre tabindex=0><code>$ ssh-keygen -F 10.42.0.47
</code></pre><p><a href=https://camo.githubusercontent.com/6d28a8efb78372999be68dc92e7b1f627688f9b9/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f66696e642d686f73746b65792e706e67><img src=https://camo.githubusercontent.com/6d28a8efb78372999be68dc92e7b1f627688f9b9/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f66696e642d686f73746b65792e706e67 alt="find hostkey"></a></p><h3 id=删除主机密钥>删除主机密钥</h3><p>某些情况下, 比如主机地址更改或者不再使用某个密钥, 你就可能需要删除某个密钥.</p><pre tabindex=0><code>$ ssh-keygen -R 10.42.0.47
</code></pre><p>用以上命令就可删除. 这比手动在 <strong>~/.ssh/known_hosts</strong> 文件中删除要方便很多.</p><p><a href=https://camo.githubusercontent.com/24b1022ed842b3bc5f44253f0a48ae81991188ab/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f72656d6f76652d686f73746b65792e706e67><img src=https://camo.githubusercontent.com/24b1022ed842b3bc5f44253f0a48ae81991188ab/687474703a2f2f6c696e6f786964652e636f6d2f77702d636f6e74656e742f75706c6f6164732f323031342f30382f72656d6f76652d686f73746b65792e706e67 alt="remove hostkey"></a></p><h3 id=总结>总结</h3><p>通过以上的内容你应该可以轻松使用 SSH 了. SSH 还有很多功能值得你去发掘, 这就要看你的想象力了。</p><hr><p>via: <a href=http://linoxide.com/linux-command/pocket-guide-linux-ssh-command/>http://linoxide.com/linux-command/pocket-guide-linux-ssh-command/</a></p><p>作者：<a href=http://linoxide.com/author/bobbin/>Bobbin Zachariah</a> 译者：<a href=https://github.com/henryfour>henryfour</a> 校对：<a href=https://github.com/carolinewuyan>Caroline</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/linux/ rel=tag>Linux</a></li><li class=tags__item><a class="tags__link btn" href=/tags/ssh/ rel=tag>SSH</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>