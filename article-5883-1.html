<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Arch Linux 下的 QQ 解决方案 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Arch Linux 下的 QQ 解决方案"><meta property="og:description" content="Linux 上面玩 QQ 一直都是一个问题。Wine 算是一个解决方案，但是也有不少人失败了。由于 QQ 的特殊性，采取了一系列的保护措施，导致 QQ 这个 Windows 程序非常复杂，因此 Wine 在运行 QQ 时表现差强人意。本文将要安装的是 QQ6.3 ，更高的版本除非对 QQ 做出修改，否则很难安装成功，即使成功了，问题也挺多的（笔者已试验过 QQ7.4 安装）。写这个的目的主要是方便有人遇到问题截图提问，毕竟 Linux 的普及工作还得靠大家，对于日常聊天还是建议使用手机QQ 。 本文环境  Arch Linux (其他发行版仅供参考) KDE4  LXDE  GNOME (其它请自测"><meta property="og:type" content="article"><meta property="og:url" content="/article-5883-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-07-27T08:43:00+00:00"><meta property="article:modified_time" content="2015-07-27T08:43:00+00:00"><meta itemprop=name content="Arch Linux 下的 QQ 解决方案"><meta itemprop=description content="Linux 上面玩 QQ 一直都是一个问题。Wine 算是一个解决方案，但是也有不少人失败了。由于 QQ 的特殊性，采取了一系列的保护措施，导致 QQ 这个 Windows 程序非常复杂，因此 Wine 在运行 QQ 时表现差强人意。本文将要安装的是 QQ6.3 ，更高的版本除非对 QQ 做出修改，否则很难安装成功，即使成功了，问题也挺多的（笔者已试验过 QQ7.4 安装）。写这个的目的主要是方便有人遇到问题截图提问，毕竟 Linux 的普及工作还得靠大家，对于日常聊天还是建议使用手机QQ 。 本文环境  Arch Linux (其他发行版仅供参考) KDE4  LXDE  GNOME (其它请自测"><meta itemprop=datePublished content="2015-07-27T08:43:00+00:00"><meta itemprop=dateModified content="2015-07-27T08:43:00+00:00"><meta itemprop=wordCount content="230"><meta itemprop=keywords content="QQ,Wine,winetricks,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Arch Linux 下的 QQ 解决方案</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-07-27T08:43:00Z>July 27, 2015</time></div></div></header><div class="content post__content clearfix"><p><strong>UPDATE: 2015-08-31</strong></p><p><strong>QQ 6.3 由于版本低，已不能登录，以下教程已不适用，有想要折腾 wine QQ 的仅供参考。</strong></p><p>Linux 上面玩 QQ 一直都是一个问题。Wine 算是一个解决方案，但是也有不少人失败了。由于 QQ 的特殊性，采取了一系列的保护措施，导致 QQ 这个 Windows 程序非常复杂，因此 Wine 在运行 QQ 时表现差强人意。本文将要安装的是 QQ6.3 ，更高的版本除非对 QQ 做出修改，否则很难安装成功，即使成功了，问题也挺多的（笔者已试验过 QQ7.4 安装）。写这个的目的主要是方便有人遇到问题截图提问，毕竟 Linux 的普及工作还得靠大家，对于日常聊天还是建议使用手机QQ 。</p><h3 id=本文环境>本文环境</h3><ul><li>Arch Linux (其他发行版仅供参考)</li><li>KDE4 & LXDE & GNOME (其它请自测)</li></ul><h3 id=准备工具>准备工具</h3><ul><li>Wine</li><li>winetricks</li></ul><h3 id=简介>简介</h3><ul><li><code>Wine</code> 是一个在类 Unix 系统中运行 Microsoft Windows 程序的软件， <code>Wine</code> 的全称是 <code>Wine Is Not Emulator</code> 意为 <code>Wine</code> 不是一个模拟器，它通过 API 转换技术做出 Linux 上对应于 Windows 的函数，从而调用 DLL 运行 Windows 程序。</li><li><code>winetricks</code> 是一个 <code>script</code> ，可以用来下载和安装各种在 Wine 运行时需要的部分 DLL 和框架。如 <code>.NET</code> ， <code>Visual C++ runtime library</code> 或微软和其他公司的闭源程序，使用 <code>winetricks</code> 你可以快速安装某些常用的Windows程序。</li></ul><p><img src=/data/attachment/album/201507/25/215658qp61r2p5058kgrzp.png alt></p><h3 id=步骤>步骤</h3><p>1.安装 <code>Wine</code></p><pre tabindex=0><code>$ sudo pacman -S wine
</code></pre><p><strong>注意</strong>：64 位需启用 <code>multilib</code> 仓库才可安装 <code>Wine</code> ，去掉 <code>[multilib]</code> 及其 <code>Include的</code> “#”即可</p><pre tabindex=0><code>$ sudo nano /etc/pacman.conf
</code></pre><p>2.安装 <code>winetricks</code></p><pre tabindex=0><code>$ sudo pacman -S winetricks
</code></pre><p>3.获取 <code>winetricks-zh</code> 的 <code>verb</code> 文件，更多详情请到： <a href=https://github.com/hillwoodroc/winetricks-zh>winetricks-zh</a></p><pre tabindex=0><code>$ mkdir workforwine
$ cd workforwine
$ wget https://github.com/hillwoodroc/winetricks-zh/raw/master/verb/qq.verb
</code></pre><p>4.安装 QQ</p><pre tabindex=0><code>$ WINEARCH=win32 winetricks qq
</code></pre><p>接下来是漫长的安装过程，会下载一系列需要的组件，将缓存在 <code>~/.cache/winetricks</code> ，请耐心等待。或许你还可以试试 <code>winetricks-zh</code> ， <code>winetricks-zh</code> 是 <code>winetricks</code> 的本地化版本，添加了更多国人可能用到的软件。</p><pre tabindex=0><code>$ wget https://github.com/hillwoodroc/winetricks-zh/raw/master/winetricks-zh
$ chmod +x winetricks-zh
$ ./winetricks-zh
</code></pre><p><strong>注意</strong>:若你觉得 <code>安装QQ</code> 这一步安装 <code>mono</code> 、<code>gecko</code> 太慢，如下图：</p><p><img src=/data/attachment/album/201507/25/215713zwz52gt5tzv1td5j.png alt=installmono></p><p><img src=/data/attachment/album/201507/25/215713jdfvhd5iqzdchyva.png alt=installingmono></p><p><img src=/data/attachment/album/201507/25/215713ze7e0xdikfddyd2x.png alt=installgecko></p><p>根据配图我们可以知道 <code>mono</code> 是 <code>.NET</code> 需要的包，而 <code>gecko</code> 则是 <code>HTML</code> 需要的包，并且 wine 也更建议我们使用我们发行版中的 <code>mono</code>， <code>gecko</code> 包，这有两个好处，一是更加符合自己的发行版，二是不用为每个 <code>PREFIEX</code> 单独安装，因此可以尝试以下操作，其他发行版仅供参考：</p><pre tabindex=0><code>$ rm -rf ~/.wine
$ sudo pacman -S wine-mono
$ sudo pacman -S wine_gecko
$ WINEARCH=win32 winetricks qq
</code></pre><h3 id=需要注意的几点>需要注意的几点</h3><ul><li>请确保你安装有文泉驿字体 <code>sudo pacman -S wqy-microhei</code> 。</li><li>用 <code>winetricks</code> 和 <code>winetricks-zh</code> 安装的区别仅在于安装目录不同， <code>winetricks</code> 未指定位置时默认 <code>～/.wine</code> ，而<code>winetricks-zh</code> 则安装QQ至 <code>～/.local/share/wineprefixes/qq</code> 。</li><li>有任何问题都可以直接删除上面提到的两个文件夹重来。</li><li><code>wine</code> 的不稳定性，导致用 <code>winetricks</code> 安装字体有时可以解决，有时不可以，笔者试验了很多次以失败告终，希望有谁解决了可以告诉笔者。</li></ul><h3 id=其他解决方案>其他解决方案</h3><ul><li>虚拟机装个Windows</li><li><a href=https://www.codeweavers.com/products/>crossover</a></li></ul><h3 id=参考资料>参考资料</h3><ul><li><a href=http://wiki.winehq.org/FrontPage>Wine-wiki</a></li><li><a href=https://zh.wikipedia.org/wiki/Wine>Wine-Wikipedia</a></li><li><a href=http://wiki.winehq.org/winetricks_cn>winetricks-wiki</a></li><li><a href=https://github.com/hillwoodroc/winetricks-zh>winetricks-zh</a></li><li><a href=https://wiki.archlinux.org/index.php/Wine_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29>Wine-ArchWiki</a></li></ul></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/qq/ rel=tag>QQ</a></li><li class=tags__item><a class="tags__link btn" href=/tags/wine/ rel=tag>Wine</a></li><li class=tags__item><a class="tags__link btn" href=/tags/winetricks/ rel=tag>winetricks</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>