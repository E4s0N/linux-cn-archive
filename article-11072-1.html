<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Fedora 上搭建 Jupyter 和数据科学环境 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Fedora 上搭建 Jupyter 和数据科学环境"><meta property="og:description" content="在过去，神谕和魔法师被认为拥有发现奥秘的力量，国王和统治者们会借助他们预测未来，或者至少是听取一些建议。如今我们生活在一个痴迷于将一切事情量化的社会里，这份工作就交给数据科学家了。"><meta property="og:type" content="article"><meta property="og:url" content="/article-11072-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-07-08T13:03:19+00:00"><meta property="article:modified_time" content="2019-07-08T13:03:19+00:00"><meta itemprop=name content="在 Fedora 上搭建 Jupyter 和数据科学环境"><meta itemprop=description content="在过去，神谕和魔法师被认为拥有发现奥秘的力量，国王和统治者们会借助他们预测未来，或者至少是听取一些建议。如今我们生活在一个痴迷于将一切事情量化的社会里，这份工作就交给数据科学家了。"><meta itemprop=datePublished content="2019-07-08T13:03:19+00:00"><meta itemprop=dateModified content="2019-07-08T13:03:19+00:00"><meta itemprop=wordCount content="370"><meta itemprop=keywords content="Jupyter,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Fedora 上搭建 Jupyter 和数据科学环境</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-07-08T13:03:19Z>July 08, 2019</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201907/08/130323myvdvjpgyv8ytdyl.jpg alt></p><p>在过去，神谕和魔法师被认为拥有发现奥秘的力量，国王和统治者们会借助他们预测未来，或者至少是听取一些建议。如今我们生活在一个痴迷于将一切事情量化的社会里，这份工作就交给数据科学家了。</p><p>数据科学家通过使用统计模型、数值分析，以及统计学之外的高级算法，结合数据库里已经存在的数据，去发掘、推断和预测尚不存在的数据（有时是关于未来的数据）。这就是为什么我们要做这么多的预测分析和规划分析。</p><p>下面是一些可以借助数据科学家回答的问题：</p><ol><li>哪些学生有旷课倾向？每个人旷课的原因分别是什么？</li><li>哪栋房子的售价比合理价格要高或者低？一栋房子的合理价格是多少？</li><li>如何将我们的客户按照潜在的特质进行分组？</li><li>这个孩子的早熟可能会在未来引发什么问题？</li><li>我们的呼叫中心在明天早上 11 点 43 分会接收到多少次呼叫？</li><li>我们的银行是否应该向这位客户发放贷款？</li></ol><p>请注意，这些问题的答案是在任何数据库里都查询不到的，因为它们尚不存在，需要被计算出来才行。这就是我们数据科学家从事的工作。</p><p>在这篇文章中你会学习如何将 Fedora 系统打造成数据科学家的开发环境和生产系统。其中大多数基本软件都有 RPM 软件包，但是最先进的组件目前只能通过 Python 的 <code>pip</code> 工具安装。</p><h3 id=jupyter-ide>Jupyter IDE</h3><p>大多数现代数据科学家使用 Python 工作。他们工作中很重要的一部分是 探索性数据分析 Exploratory Data Analysis （EDA）。EDA 是一种手动进行的、交互性的过程，包括提取数据、探索数据特征、寻找相关性、通过绘制图形进行数据可视化并理解数据的分布特征，以及实现原型预测模型。</p><p>Jupyter 是能够完美胜任该工作的一个 web 应用。Jupyter 使用的 Notebook 文件支持富文本，包括渲染精美的数学公式（得益于 <a href=http://mathjax.org>mathjax</a>）、代码块和代码输出（包括图形输出）。</p><p>Notebook 文件的后缀是 <code>.ipynb</code>，意思是“交互式 Python Notebook”。</p><h4 id=搭建并运行-jupyter>搭建并运行 Jupyter</h4><p>首先，<a href=https://fedoramagazine.org/howto-use-sudo/>使用 sudo</a> 安装 Jupyter 核心软件包：</p><pre tabindex=0><code>$ sudo dnf install python3-notebook mathjax sscg
</code></pre><p>你或许需要安装数据科学家常用的一些附加可选模块：</p><pre tabindex=0><code>$ sudo dnf install python3-seaborn python3-lxml python3-basemap python3-scikit-image python3-scikit-learn python3-sympy python3-dask+dataframe python3-nltk
</code></pre><p>设置一个用来登录 Notebook 的 web 界面的密码，从而避免使用冗长的令牌。你可以在终端里任何一个位置运行下面的命令：</p><pre tabindex=0><code>$ mkdir -p $HOME/.jupyter
$ jupyter notebook password
</code></pre><p>然后输入你的密码，这时会自动创建 <code>$HOME/.jupyter/jupyter_notebook_config.json</code> 这个文件，包含了你的密码的加密后版本。</p><p>接下来，通过使用 SSLby 为 Jupyter 的 web 服务器生成一个自签名的 HTTPS 证书：</p><pre tabindex=0><code>$ cd $HOME/.jupyter; sscg
</code></pre><p>配置 Jupyter 的最后一步是编辑 <code>$HOME/.jupyter/jupyter_notebook_config.json</code> 这个文件。按照下面的模版编辑该文件：</p><pre tabindex=0><code>{
   &#34;NotebookApp&#34;: {
     &#34;password&#34;: &#34;sha1:abf58...87b&#34;,
     &#34;ip&#34;: &#34;*&#34;,
     &#34;allow_origin&#34;: &#34;*&#34;,
     &#34;allow_remote_access&#34;: true,
     &#34;open_browser&#34;: false,
     &#34;websocket_compression_options&#34;: {},
     &#34;certfile&#34;: &#34;/home/aviram/.jupyter/service.pem&#34;,
     &#34;keyfile&#34;: &#34;/home/aviram/.jupyter/service-key.pem&#34;,
     &#34;notebook_dir&#34;: &#34;/home/aviram/Notebooks&#34;
   }
}
</code></pre><p><code>/home/aviram/</code> 应该替换为你的文件夹。<code>sha1:abf58...87b</code> 这个部分在你创建完密码之后就已经自动生成了。<code>service.pem</code> 和 <code>service-key.pem</code> 是 <code>sscg</code> 生成的和加密相关的文件。</p><p>接下来创建一个用来存放 Notebook 文件的文件夹，应该和上面配置里 <code>notebook_dir</code> 一致：</p><pre tabindex=0><code>$ mkdir $HOME/Notebooks
</code></pre><p>你已经完成了配置。现在可以在系统里的任何一个地方通过以下命令启动 Jupyter Notebook：</p><pre tabindex=0><code>$ jupyter notebook
</code></pre><p>或者是将下面这行代码添加到 <code>$HOME/.bashrc</code> 文件，创建一个叫做 <code>jn</code> 的快捷命令：</p><pre tabindex=0><code>alias jn=&#39;jupyter notebook&#39;
</code></pre><p>运行 <code>jn</code> 命令之后，你可以通过网络内部的任何一个浏览器访问 <code>&lt;https://your-fedora-host.com:8888></code> （LCTT 译注：请将域名替换为服务器的域名），就可以看到 Jupyter 的用户界面了，需要使用前面设置的密码登录。你可以尝试键入一些 Python 代码和标记文本，看起来会像下面这样：</p><p><img src=/data/attachment/album/201907/08/130327dd9us52t235twd7t.png alt="Jupyter with a simple notebook"></p><p>除了 IPython 环境，安装过程还会生成一个由 <code>terminado</code> 提供的基于 web 的 Unix 终端。有人觉得这很实用，也有人觉得这样不是很安全。你可以在配置文件里禁用这个功能。</p><h3 id=jupyterlab下一代-jupyter>JupyterLab：下一代 Jupyter</h3><p>JupyterLab 是下一代的 Jupyter，拥有更好的用户界面和对工作空间更强的操控性。在写这篇文章的时候 JupyterLab 还没有可用的 RPM 软件包，但是你可以使用 <code>pip</code> 轻松完成安装：</p><pre tabindex=0><code>$ pip3 install jupyterlab --user
$ jupyter serverextension enable --py jupyterlab
</code></pre><p>然后运行 <code>jupiter notebook</code> 命令或者 <code>jn</code> 快捷命令。访问 <code>&lt;http://your-linux-host.com:8888/</code>lab<code>></code> （LCTT 译注：将域名替换为服务器的域名）就可以使用 JupyterLab 了。</p><h3 id=数据科学家使用的工具>数据科学家使用的工具</h3><p>在下面这一节里，你将会了解到数据科学家使用的一些工具及其安装方法。除非另作说明，这些工具应该已经有 Fedora 软件包版本，并且已经作为前面组件所需要的软件包而被安装了。</p><h4 id=numpy>Numpy</h4><p>Numpy 是一个针对 C 语言优化过的高级库，用来处理大型的内存数据集。它支持高级多维矩阵及其运算，并且包含了 <code>log()</code>、<code>exp()</code>、三角函数等数学函数。</p><h4 id=pandas>Pandas</h4><p>在我看来，正是 Pandas 成就了 Python 作为数据科学首选平台的地位。Pandas 构建在 Numpy 之上，可以让数据准备和数据呈现工作变得简单很多。你可以把它想象成一个没有用户界面的电子表格程序，但是能够处理的数据集要大得多。Pandas 支持从 SQL 数据库或者 CSV 等格式的文件中提取数据、按列或者按行进行操作、数据筛选，以及通过 Matplotlib 实现数据可视化的一部分功能。</p><h4 id=matplotlib>Matplotlib</h4><p>Matplotlib 是一个用来绘制 2D 和 3D 数据图像的库，在图象注解、标签和叠加层方面都提供了相当不错的支持。</p><p><img src=/data/attachment/album/201907/08/130339q2nirlp2214e8lre.png alt="matplotlib pair of graphics showing a cost function searching its optimal value through a gradient descent algorithm"></p><h4 id=seaborn>Seaborn</h4><p>Seaborn 构建在 Matplotlib 之上，它的绘图功能经过了优化，更加适合数据的统计学研究，比如说可以自动显示所绘制数据的近似回归线或者正态分布曲线。</p><p><img src=/data/attachment/album/201907/08/130342erliee2dlr26ee8m.png alt="Linear regression visualised with SeaBorn"></p><h4 id=statsmodels>StatsModels</h4><p><a href=https://www.statsmodels.org/>StatsModels</a> 为统计学和经济计量学的数据分析问题（例如线形回归和逻辑回归）提供算法支持，同时提供经典的 <a href=https://www.statsmodels.org/stable/examples/index.html#stats>时间序列算法</a> 家族 ARIMA。</p><p><img src=/data/attachment/album/201907/08/130345fqs4uch81r8fq5h5.png alt="Normalized number of passengers across time \(blue\) and ARIMA-predicted number of passengers \(red\)"></p><h4 id=scikit-learn>Scikit-learn</h4><p>作为机器学习生态系统的核心部件，<a href=https://scikit-learn.org/stable/>Scikit</a> 为不同类型的问题提供预测算法，包括 <a href=https://scikit-learn.org/stable/supervised_learning.html#supervised-learning>回归问题</a>（算法包括 Elasticnet、Gradient Boosting、随机森林等等）、<a href=https://scikit-learn.org/stable/supervised_learning.html#supervised-learning>分类问题</a> 和聚类问题（算法包括 K-means 和 DBSCAN 等等），并且拥有设计精良的 API。Scikit 还定义了一些专门的 Python 类，用来支持数据操作的高级技巧，比如将数据集拆分为训练集和测试集、降维算法、数据准备管道流程等等。</p><h4 id=xgboost>XGBoost</h4><p>XGBoost 是目前可以使用的最先进的回归器和分类器。它并不是 Scikit-learn 的一部分，但是却遵循了 Scikit 的 API。<a href=https://xgboost.ai>XGBoost</a> 并没有针对 Fedora 的软件包，但可以使用 <code>pip</code> 安装。<a href=https://xgboost.readthedocs.io/en/latest/gpu/index.html>使用英伟达显卡可以提升 XGBoost 算法的性能</a>，但是这并不能通过 <code>pip</code> 软件包来实现。如果你希望使用这个功能，可以针对 CUDA （LCTT 译注：英伟达开发的并行计算平台）自己进行编译。使用下面这个命令安装 XGBoost：</p><pre tabindex=0><code>$ pip3 install xgboost --user
</code></pre><h4 id=imbalanced-learn>Imbalanced Learn</h4><p><a href=https://imbalanced-learn.readthedocs.io>Imbalanced-learn</a> 是一个解决数据欠采样和过采样问题的工具。比如在反欺诈问题中，欺诈数据相对于正常数据来说数量非常小，这个时候就需要对欺诈数据进行数据增强，从而让预测器能够更好地适应数据集。使用 <code>pip</code> 安装：</p><pre tabindex=0><code>$ pip3 install imblearn --user
</code></pre><h4 id=nltk>NLTK</h4><p><a href=https://www.nltk.org>Natural Language toolkit</a>（简称 NLTK）是一个处理人类语言数据的工具，举例来说，它可以被用来开发一个聊天机器人。</p><h4 id=shap>SHAP</h4><p>机器学习算法拥有强大的预测能力，但并不能够很好地解释为什么做出这样或那样的预测。<a href=https://github.com/slundberg/shap>SHAP</a> 可以通过分析训练后的模型来解决这个问题。</p><p><img src=/data/attachment/album/201907/08/130348gpufkf0kar3y33z5.png alt="Where SHAP fits into the data analysis process"></p><p>使用 <code>pip</code> 安装：</p><pre tabindex=0><code>$ pip3 install shap --user
</code></pre><h4 id=keras>Keras</h4><p><a href=https://keras.io>Keras</a> 是一个深度学习和神经网络模型的库，使用 <code>pip</code> 安装：</p><pre tabindex=0><code>$ sudo dnf install python3-h5py
$ pip3 install keras --user
</code></pre><h4 id=tensorflow>TensorFlow</h4><p><a href=https://www.tensorflow.org>TensorFlow</a> 是一个非常流行的神经网络模型搭建工具，使用 <code>pip</code> 安装：</p><pre tabindex=0><code>$ pip3 install tensorflow --user
</code></pre><hr><p>Photo courtesy of <a href=https://www.flickr.com/photos/87249144@N08/>FolsomNatural</a> on <a href=https://www.flickr.com/photos/87249144@N08/45871861611/>Flickr</a> (CC BY-SA 2.0).</p><hr><p>via: <a href=https://fedoramagazine.org/jupyter-and-data-science-in-fedora/>https://fedoramagazine.org/jupyter-and-data-science-in-fedora/</a></p><p>作者：<a href=https://fedoramagazine.org/author/aviram/>Avi Alkalay</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/chen-ni>chen-ni</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/jupyter/ rel=tag>Jupyter</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>