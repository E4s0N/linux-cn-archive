<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Windows 中运行 Linux：WSL 2 使用入门 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Windows 中运行 Linux：WSL 2  使用入门"><meta property="og:description" content="继微软发布了 WSL 2 （Windows Subsystem for Linux 2）之后，前两天正式提供了 WSL2 更新，处于 Insider Fast 通道中的用户可以通过安装 Windows build 18917 更新来体验最新版本的 WSL2。"><meta property="og:type" content="article"><meta property="og:url" content="/article-10972-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-06-14T10:49:00+00:00"><meta property="article:modified_time" content="2019-06-14T10:49:00+00:00"><meta itemprop=name content="在 Windows 中运行 Linux：WSL 2  使用入门"><meta itemprop=description content="继微软发布了 WSL 2 （Windows Subsystem for Linux 2）之后，前两天正式提供了 WSL2 更新，处于 Insider Fast 通道中的用户可以通过安装 Windows build 18917 更新来体验最新版本的 WSL2。"><meta itemprop=datePublished content="2019-06-14T10:49:00+00:00"><meta itemprop=dateModified content="2019-06-14T10:49:00+00:00"><meta itemprop=wordCount content="231"><meta itemprop=keywords content="WSL,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Windows 中运行 Linux：WSL 2 使用入门</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-06-14T10:49:00Z>June 14, 2019</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201906/14/104921w7gkmsel0q7kzj0r.jpg alt></p><p>继微软发布了 WSL 2 （Windows Subsystem for Linux 2）之后，前两天正式提供了 WSL2 更新，处于 Insider Fast 通道中的用户可以通过安装 Windows build 18917 更新来体验最新版本的 WSL2。</p><p>在这篇文章中，我们将介绍如何入门、新的 <code>wsl.exe</code> 命令以及一些重要提示。有关 WSL 2 的完整文档可在<a href=https://docs.microsoft.com/en-us/windows/wsl/wsl2-index>微软的文档页面</a>上找到。</p><h3 id=安装-wsl-2>安装 WSL 2</h3><p>要安装并开始使用 WSL 2，请完成以下步骤：</p><ul><li>启用“ 虚拟机平台 （ Virtual Machine Platform ） ”可选组件</li><li>使用命令行设置要由 WSL 2 支持的发行版</li><li>验证你的发行版使用的 WSL 版本</li></ul><p>请注意，你需要运行 Windows 10 build 18917 或更高版本才能使用 WSL 2，并且你需要安装 WSL（可以在<a href=https://docs.microsoft.com/en-us/windows/wsl/install-win10>此处</a>找到相关说明）。</p><h4 id=启用虚拟机平台可选组件>启用“虚拟机平台”可选组件</h4><p>以管理员身份打开 PowerShell 并运行：</p><pre tabindex=0><code>Enable-WindowsOptionalFeature -Online -FeatureName VirtualMachinePlatform
</code></pre><p>启用这些更改后，你需要重新启动计算机。</p><h4 id=使用命令行设置要由-wsl-2-支持的发行版>使用命令行设置要由 WSL 2 支持的发行版</h4><p>在 PowerShell 中运行：</p><pre tabindex=0><code>wsl --set-version &lt;Distro&gt; 2
</code></pre><p>并确保将 <code>&lt;Distro></code> 替换为发行版的实际名称。 （你可以使用以下命令找到它们：<code>wsl -l</code>）。 你也可以通过运行与上面相同的命令随时更改回 WSL 1，但将“<code>2</code>”替换为“<code>1</code>”。</p><p>此外，如果你想使 WSL 2 成为默认架构，可以使用以下命令执行此操作：</p><pre tabindex=0><code>wsl --set-default-version 2
</code></pre><p>这将使你安装的任何新发行版初始化为 WSL 2 发行版。</p><h4 id=完成验证发行版使用的-wsl-版本>完成验证发行版使用的 WSL 版本</h4><p>要验证每个发行版使用的 WSL 版本，请使用以下命令：</p><pre tabindex=0><code>wsl --list --verbose
或
wsl -l -v
</code></pre><p>你在上面选择的发行版现在应该在“version”列下显示“2”。 现在完成了，你随时可以开始使用你的 WSL 2 发行版了！</p><h3 id=wsl-2-的体验变化>WSL 2 的体验变化</h3><p>首次开始使用 WSL 时，你会注意到一些用户体验变化。以下是此预览中两个最重要的变化。</p><h4 id=将-linux-文件放在-linux-根文件系统中>将 Linux 文件放在 Linux 根文件系统中</h4><p>确保将 Linux 应用程序中经常访问的文件放在 Linux 根文件系统中，以享受文件性能优势。过去微软一直强调在使用 WSL 1 时将文件放入 C 盘，但 WSL 2 中的情况并非如此。要享受 WSL 2 中更快的文件系统访问权限，这些文件必须放在 Linux 根文件系统里面。而且现在 Windows 应用程序可以访问 Linux 根文件系统（如文件资源管理器！尝试在 Linux 发行版的主目录中运行：<code>explorer.exe .</code> 看看会发生什么），这将使这种转换变得更加容易。</p><h4 id=在初始构建中使用动态-ip-地址访问-linux-网络应用程序>在初始构建中使用动态 IP 地址访问 Linux 网络应用程序</h4><p>WSL 2 做了架构的巨大变更，使用了虚拟化技术，并仍在努力改进网络支持。由于 WSL 2 现在运行在虚拟机中，因此你从 Windows 访问 Linux 网络应用程序需要使用该 VM 的 IP 地址，反之亦然，你需要 Windows 主机的 IP 地址才能从 Linux 中访问 Windows 网络应用程序。 WSL 2 的目标是尽可能使用 <code>localhost</code> 访问网络应用程序！可以在<a href=https://docs.microsoft.com/en-us/windows/wsl/wsl2-ux-changes#accessing-network-applications>文档中</a>找到有关如何执行此操作的完整详细信息和步骤。</p><p>要了解有关用户体验更改的更多信息，请参阅文档：<a href=https://docs.microsoft.com/en-us/windows/wsl/wsl2-ux-changes>WSL 1 和 WSL 2 之间的用户体验变化</a>。</p><h3 id=新的-wsl-命令>新的 WSL 命令</h3><p>WSL 添加了一些新命令选项来帮助控制和查看 WSL 版本和发行版。</p><p>除了上面提到的 <code>--set-version</code> 和 <code>--set-default-version</code> 之外，还有：</p><ul><li><code>wsl --shutdown</code></li></ul><p>立即终止所有正在运行的发行版和 WSL 2 轻量级实用程序虚拟机。</p><p>一般来说，支持 WSL 2 发行版的虚拟机是由 WSL 来管理的，因此会在需要时将其打开并在不需要时将其关闭。但也可能存在你希望手动关闭它的情况，此命令允许你通过终止所有发行版并关闭 WSL 2 虚拟机来执行此操作。</p><ul><li><code>wsl --list --quiet</code></li></ul><p>仅列出发行版名称。此命令对于脚本编写很有用，因为它只会输出你已安装的发行版的名称，而不显示其他信息，如默认发行版、版本等。</p><ul><li><code>wsl --list --verbose</code></li></ul><p>显示有关所有发行版的详细信息。此命令列出每个发行版的名称，发行版所处的状态以及正在运行的版本。默认发行版标以星号。</p><h3 id=反馈意见>反馈意见</h3><p>如果你遇到任何问题， 请在 Github 上提交问题： <a href=https://github.com/microsoft/wsl/issues>https://github.com/microsoft/wsl/issues</a> ，如果你对 WSL 有一般性问题，你可以在这个<a href=https://twitter.com/craigaloewen/lists/wsl-team-members/members>推特列表</a>上找到该团队所有成员的 Twitter。</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/wsl/ rel=tag>WSL</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>