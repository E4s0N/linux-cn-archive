<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>用 Portainer.io 来监控和管理 Docker 容器（2） - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="用 Portainer.io 来监控和管理 Docker 容器（2）"><meta property="og:description" content="作为第 1 部分的延续，本第 2 部分将介绍 Portainer 的其余功能。"><meta property="og:type" content="article"><meta property="og:url" content="/article-13015-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-14T20:46:03+00:00"><meta property="article:modified_time" content="2021-01-14T20:46:03+00:00"><meta itemprop=name content="用 Portainer.io 来监控和管理 Docker 容器（2）"><meta itemprop=description content="作为第 1 部分的延续，本第 2 部分将介绍 Portainer 的其余功能。"><meta itemprop=datePublished content="2021-01-14T20:46:03+00:00"><meta itemprop=dateModified content="2021-01-14T20:46:03+00:00"><meta itemprop=wordCount content="296"><meta itemprop=keywords content="Portainer,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>用 Portainer.io 来监控和管理 Docker 容器（2）</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-01-14T20:46:03Z>January 14, 2021</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204401knuxjru53n5su6ns.jpg alt></p><p>作为<a href=/article-12634-1.html>第 1 部分</a>的延续，本第 2 部分将介绍 Portainer 的其余功能。</p><h3 id=监控-docker-容器镜像>监控 docker 容器镜像</h3><pre tabindex=0><code>root@linuxtechi ~}$ docker ps -a
CONTAINER ID        IMAGE                 COMMAND             CREATED             STATUS   PORTS                             NAMES
9ab9aa72f015        ubuntu                &#34;/bin/bash&#34;         14 seconds ago      Exited (0) 12 seconds ago                  suspicious_shannon
305369d3b2bb        centos                &#34;/bin/bash&#34;         24 seconds ago      Exited (0) 22 seconds ago                  admiring_mestorf
9a669f3dc4f6        portainer/portainer   &#34;/portainer&#34;        7 minutes ago       Up 7 minutes   0.0.0.0:9000-&gt;9000/tcp      trusting_keller
</code></pre><p>包括 <code>portainer</code>（docker 容器镜像），所有已退出和当前正在运行的 docker 镜像都会显示出来。下面的 Portainer GUI 屏幕截图显示了相同的情况。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204605cxyjqmfb008nznn0.jpg alt=Docker_status></p><h3 id=监视事件>监视事件</h3><p>单击 portainer 网页中的“Events”选项，如下所示。</p><p>基于 docker 容器活动生成和创建的各种事件将被提取并显示在此页面中.</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204607g8vnewku3677ffm8.jpg alt=Container-Events-Poratiner-GUI></p><p>现在检查并验证“Events”部分是如何工作的。创建一个新的 docker 容器镜像 <code>redis</code>，如下所述，在 docker 命令行检查状态：<code>docker ps –a</code>：</p><pre tabindex=0><code>root@linuxtechi ~}$ docker ps -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED              STATUS         PORTS                    NAMES
cdbfbef59c31        redis                 &#34;docker-entrypoint.s…&#34;   About a minute ago   Up About a minute         6379/tcp                 angry_varahamihira
9ab9aa72f015        ubuntu                &#34;/bin/bash&#34;              10 minutes ago       Exited (0) 10 minutes ago                            suspicious_shannon
305369d3b2bb        centos                &#34;/bin/bash&#34;              11 minutes ago       Exited (0) 11 minutes ago                            admiring_mestorf
9a669f3dc4f6        portainer/portainer   &#34;/portainer&#34;             17 minutes ago       Up 17 minutes         0.0.0.0:9000-&gt;9000/tcp   trusting_keller
</code></pre><p>单击顶部的“Event List”刷新事件列表，</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204609g4e7w4wbgcllbbgb.jpg alt=events_updated></p><p>现在事件的页面也更新了这个变化，</p><h3 id=主机状态>主机状态</h3><p>下面是 portainer 显示主机状态的屏幕截图。这是一个简单的窗口。这显示了主机 Linux 机器的基本信息，如“CPU”、“主机名”、“操作系统信息”等。这个页面在不需要登录主机命令行的情况下提供了非常有用的信息，以便快速浏览。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204610cr1sa0ve8svt6s1j.jpg alt=Host-names-Portainer></p><h3 id=portainer-中的仪表板>Portainer 中的仪表板</h3><p>到目前为止，我们已经在“Local”部分看到了基于 portainer 的各种特性。现在跳到所选 Docker 容器镜像的“Dashboard”部分。</p><p>在 Portainer 的网页中单击“EndPoint”选项时，会出现以下窗口：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204612jxujdxavuwvdb9wf.jpg alt=End_Point_Settings></p><p>对于主机容器镜像，此仪表板有许多状态和选项。</p><h4 id=stacks>Stacks</h4><p>单击此选项可提供任何堆栈（如果有的话）的状态。因为这里没有堆栈，所以显示为零。</p><h4 id=images>Images</h4><p>单击此选项可提供主机中可用的容器镜像。此选项将显示所有活动和退出的容器镜像。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204613v066uyy1z55t3lou.jpg alt=Docker-Container-Images-Portainer></p><p>例如，再创建一个“Nginx”容器并刷新此列表以查看更新：</p><pre tabindex=0><code>root@linuxtechi ~}$  sudo docker run nginx
Unable to find image &#39;nginx:latest&#39; locally
latest: Pulling from library/nginx
27833a3ba0a5: Pull complete
ea005e36e544: Pull complete
d172c7f0578d: Pull complete
Digest: sha256:e71b1bf4281f25533cf15e6e5f9be4dac74d2328152edf7ecde23abc54e16c1c
Status: Downloaded newer image for nginx:latest
</code></pre><p>下面是刷新后的镜像界面：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204615q84kquzz4wabazja.jpg alt=Nginx_Image_creation></p><p>当 Nginx 镜像处于 <code>stopped</code>/<code>killed</code> 状态时，docker 的容器镜像会改变为 <code>unused</code> 状态。</p><p><strong>注</strong>：你可以看到这里所有的镜像的细节都非常清楚，比如内存使用，创建日期和时间。与命令行选项相比，从这里维护和监视容器将非常容易。</p><h4 id=networks>Networks</h4><p>此选项用于网络操作。例如分配 IP 地址、创建子网、提供 IP 地址范围、访问控制（管理员和普通用户）。下面的窗口提供了各种可能选项的详细信息。根据你的需要，可以进一步去自行研究这些选项。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204616gez4110eb1bbp11k.jpg alt=Conatiner-Network-Portainer></p><p>输入所有各种网络参数后，单击“create network”按钮即可创建网络。</p><h4 id=container>Container</h4><p>此选项将提供容器状态。此列表将提供有关活动的和未运行的容器状态的详细信息。此输出类似于 docker ps 命令选项。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204618klmashlaaqjahqaa.jpg alt=Containers-Status-Portainer></p><p>在该窗口中，通过选中复选框并选择上述按钮可以根据需要控制容器停止和启动。一个例子如下：</p><p>例如，“CentOS”和“Ubuntu”容器都处于停止状态，现在可以通过选中复选框并点击“Start”按钮来启动它们。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204620ed8vd5uktrw8kq0l.jpg alt=start_containers1></p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204622gk0b2124wb01tv1c.jpg alt=start_containers2></p><p><strong>注意：</strong> 因为这两个都是 Linux 容器镜像，所以不会被启动。Portainer 尝试启动，但稍后又停止。试试启动“Nginx”，你会看到它变成了 <code>running</code> 状态。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204623fbsw2wa7tq27gjjk.jpg alt=start_containers3></p><h4 id=volume>Volume</h4><p>参见本文章第一部分。</p><h3 id=portainer-中的设置选项>Portainer 中的设置选项</h3><p>到目前为止，我们已经在“Local”部分看到了基于 portainer 的各种特性。现在跳到所选 Docker 容器图像的“Settings”部分。</p><p>在 Portainer 的网页中单击“Settings”选项时，可以使用以下的配置选项：</p><h4 id=extensions>Extensions</h4><p>这是一个简单的 Portainer CE 订阅程序。详细信息和用途可以从附加的窗口中看到。这主要用于维护相应版本的许可证和订阅。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204625t2aqecwdadd4cxxz.jpg alt=Extensions></p><h4 id=users>Users</h4><p>此选项用于添加具有或不具有管理权限的“用户”。下面的示例提供了相同的示例。</p><p>在本例中输入你的想好的用户名比如“shashi”和你选择的密码，然后点击下面的“Create User”按钮。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204626tvw2app99bgba9b9.jpg alt=create_user_portainer></p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204628bsgdaef4ozso02xx.jpg alt=create_user2_portainer></p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204629y85pdtdkptzt0uzo.jpg alt=Internal-user-Portainer></p><p>类似地，可以通过选中复选框并点击 “remove” 按钮来删除刚刚创建的用户“shashi”。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204630y88n7pbunpmbnmx1.jpg alt=user_remove_portainer></p><h4 id=endpoints>Endpoints</h4><p>此选项用于端点终端管理。终端可以添加和删除，如附加窗口中所示。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204631wfx4826tx54u4pqp.jpg alt=Endpoint-Portainer-GUI></p><p>新终端“shashi”是使用如下所示的各种默认参数创建的，</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204633dgphhe1jhzd4gj6b.jpg alt=Endpoint2-Portainer-GUI></p><p>类似地，可以通过单击复选框并单击移除按钮来移除此端点。</p><h4 id=registries>Registries</h4><p>此选项用于注册管理。由于 docker hub 有各种镜像的注册，因此此功能可用于类似的目的。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204634zyeycc3119pvfspe.jpg alt=Registry-Portainer-GUI></p><p>使用默认选项就可以创建“shashi-registry”。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204636ozsnn69scenf6sc6.jpg alt=Registry2-Portainer-GUI></p><p>同样，如果不需要了，就可以移除它。</p><h4 id=settings>Settings</h4><p>此选项用于设置以下各种选项，</p><ul><li>设置快照间隔</li><li>设置自定义徽标</li><li>创建外部模板</li><li>安全功能，如：为非管理员禁用和启用 bin 挂载，为非管理员禁用/启用权限，启用主机管理功能</li></ul><p>下面的屏幕截图显示了出于演示目的启用和禁用的一些选项。一旦全部完成点击“保存设置”按钮保存所有这些选项。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204637z81mmbhmxc68gvb8.jpg alt=Portainer-GUI-Settings></p><p>现在点开“Authentication settings”就会弹出 LDAP、Internal 和 OAuth（extension）选项，如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202101/14/204639arjz0jxeyx0xlxer.jpg alt=Authentication-Portainer-GUI-Settings></p><p>根据我们想要的环境安全特性级别，选择相应的选项。</p><p>以上就是本文的内容，我希望这些介绍 portainer 的文章能帮助你更有效地管理和监视容器。请分享你的反馈和意见。</p><hr><p>via: <a href=https://www.linuxtechi.com/monitor-manage-docker-containers-portainer-io-part-2/>https://www.linuxtechi.com/monitor-manage-docker-containers-portainer-io-part-2/</a></p><p>作者：<a href=https://www.linuxtechi.com/author/shashidhar/>Shashidhar Soppin</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/Chao-zhi>Chao-zhi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/portainer/ rel=tag>Portainer</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>