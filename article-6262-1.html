<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>mosh：一个基于 SSH 用于连接远程 Unix/Linux 系统的工具 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="mosh：一个基于 SSH 用于连接远程 Unix/Linux 系统的工具"><meta property="og:description" content="Mosh 表示移动 Shell（Mobile Shell），是一个用于从客户端跨互联网连接远程服务器的命令行工具。它能用于 SSH 连接，但是比 Secure Shell 功能更多。它是一个类似于 SSH 而带有更多功能的应用。程序最初由 Keith Winstein 编写，用于类 Unix 的操作系统中，发布于GNU GPL v3协议下。  Mosh Shell SSH 客户端 Mosh的功能  它是一个支持漫游的远程终端程序。 在所有主流的类 Unix 版本中可用，如 Linux、FreeBSD、Solaris、Mac OS X 和 Android。 支持不稳定连接 支持智能的本地回显 支持用户输入的行编辑 响应式设计及在 wifi、3G、长距离"><meta property="og:type" content="article"><meta property="og:url" content="/article-6262-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-09-22T07:16:00+00:00"><meta property="article:modified_time" content="2015-09-22T07:16:00+00:00"><meta itemprop=name content="mosh：一个基于 SSH 用于连接远程 Unix/Linux 系统的工具"><meta itemprop=description content="Mosh 表示移动 Shell（Mobile Shell），是一个用于从客户端跨互联网连接远程服务器的命令行工具。它能用于 SSH 连接，但是比 Secure Shell 功能更多。它是一个类似于 SSH 而带有更多功能的应用。程序最初由 Keith Winstein 编写，用于类 Unix 的操作系统中，发布于GNU GPL v3协议下。  Mosh Shell SSH 客户端 Mosh的功能  它是一个支持漫游的远程终端程序。 在所有主流的类 Unix 版本中可用，如 Linux、FreeBSD、Solaris、Mac OS X 和 Android。 支持不稳定连接 支持智能的本地回显 支持用户输入的行编辑 响应式设计及在 wifi、3G、长距离"><meta itemprop=datePublished content="2015-09-22T07:16:00+00:00"><meta itemprop=dateModified content="2015-09-22T07:16:00+00:00"><meta itemprop=wordCount content="198"><meta itemprop=keywords content="Mosh,ssh,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>mosh：一个基于 SSH 用于连接远程 Unix/Linux 系统的工具</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-09-22T07:16:00Z>September 22, 2015</time></div></div></header><div class="content post__content clearfix"><p>Mosh 表示 移动 Shell （ Mobile Shell ） ，是一个用于从客户端跨互联网连接远程服务器的命令行工具。它能用于 SSH 连接，但是比 Secure Shell 功能更多。它是一个类似于 SSH 而带有更多功能的应用。程序最初由 Keith Winstein 编写，用于类 Unix 的操作系统中，发布于GNU GPL v3协议下。</p><p><img src=/data/attachment/album/201509/21/221904yj1hcj1ccipoyjpw.png alt="Mosh Shell SSH Client"></p><p><em>Mosh Shell SSH 客户端</em></p><h4 id=mosh的功能>Mosh的功能</h4><ul><li>它是一个支持漫游的远程终端程序。</li><li>在所有主流的类 Unix 版本中可用，如 Linux、FreeBSD、Solaris、Mac OS X 和 Android。</li><li>支持不稳定连接</li><li>支持智能的本地回显</li><li>支持用户输入的行编辑</li><li>响应式设计及在 wifi、3G、长距离连接下的鲁棒性</li><li>在 IP 改变后保持连接。它使用 UDP 代替 TCP（在 SSH 中使用），当连接被重置或者获得新的 IP 后 TCP 会超时，但是 UDP 仍然保持连接。</li><li>在很长的时候之后恢复会话时仍然保持连接。</li><li>没有网络延迟。立即显示用户输入和删除而没有延迟</li><li>像 SSH 那样支持一些旧的方式登录。</li><li>包丢失处理机制</li></ul><h3 id=linux-中-mosh-的安装>Linux 中 mosh 的安装</h3><p>在 Debian、Ubuntu 和 Mint 类似的系统中，你可以很容易地用 <a href=http://www.tecmint.com/useful-basic-commands-of-apt-get-and-apt-cache-for-package-management/>apt-get 包管理器</a>安装。</p><pre tabindex=0><code># apt-get update 
# apt-get install mosh
</code></pre><p>在基于 RHEL/CentOS/Fedora 的系统中，要使用 <a href=http://www.tecmint.com/20-linux-yum-yellowdog-updater-modified-commands-for-package-mangement/>yum 包管理器</a>安装 mosh，你需要打开第三方的 <a href=/article-2324-1.html>EPEL</a>。</p><pre tabindex=0><code># yum update
# yum install mosh
</code></pre><p>在 Fedora 22+的版本中，你需要使用 <a href=http://www.tecmint.com/dnf-commands-for-fedora-rpm-package-management/>dnf 包管理器</a>来安装 mosh。</p><pre tabindex=0><code># dnf install mosh
</code></pre><h3 id=我该如何使用-mosh>我该如何使用 mosh？</h3><p>1、 让我们尝试使用 mosh 登录远程 Linux 服务器。</p><pre tabindex=0><code>$ mosh root@192.168.0.150
</code></pre><p><img src=/data/attachment/album/201509/21/221905etj22azl76w26nrn.png alt="Mosh Shell Remote Connection"></p><p><em>mosh远程连接</em></p><p><strong>注意</strong>：你有没有看到一个连接错误，因为我在 CentOS 7中还有打开这个端口。一个快速但是我并不建议的解决方法是：</p><pre tabindex=0><code># systemctl stop firewalld    [在远程服务器上]
</code></pre><p>更好的方法是打开一个端口并更新防火墙规则。接着用 mosh 连接到预定义的端口中。至于更深入的细节，也许你会对下面的文章感兴趣。</p><ul><li><a href=http://www.tecmint.com/configure-firewalld-in-centos-7/>如何配置 Firewalld</a></li></ul><p>2、 让我们假设把默认的 22 端口改到 70，这时使用 -p 选项来使用自定义端口。</p><pre tabindex=0><code>$ mosh -p 70 root@192.168.0.150
</code></pre><p>3、 检查 mosh 的版本</p><pre tabindex=0><code>$ mosh --version
</code></pre><p><img src=/data/attachment/album/201509/21/221906ivwcvpv8bfzf68zc.png alt="Check Mosh Version"></p><p><em>检查mosh版本</em></p><p>4、 你可以输入<code>exit</code>来退出 mosh 会话。</p><pre tabindex=0><code>$ exit
</code></pre><p>5、 mosh 支持很多选项，你可以用下面的方法看到：</p><pre tabindex=0><code>$ mosh --help
</code></pre><p><img src=/data/attachment/album/201509/21/221907wk1bnje0gld7i1pg.png alt="Mosh Shell Options"></p><p><em>Mosh 选项</em></p><h4 id=mosh-的优缺点>mosh 的优缺点</h4><ul><li>mosh 有额外的需求，比如需要允许 UDP 直接连接，这在 SSH 不需要。</li><li>动态分配的端口范围是 60000-61000。第一个打开的端口是分配好的。每个连接都需要一个端口。</li><li>默认的端口分配是一个严重的安全问题，尤其是在生产环境中。</li><li>支持 IPv6 连接，但是不支持 IPv6 漫游。</li><li>不支持回滚</li><li>不支持 X11 转发</li><li>不支持 ssh-agent 转发</li></ul><h3 id=总结>总结</h3><p>mosh是一款在大多数linux发行版的仓库中可以下载的一款小工具。虽然它有一些差异尤其是安全问题和额外的需求，它的功能，比如漫游后保持连接是一个加分点。我的建议是任何一个使用ssh的linux用户都应该试试这个程序，mosh值得一试。</p><hr><p>via: <a href=http://www.tecmint.com/install-mosh-shell-ssh-client-in-linux/>http://www.tecmint.com/install-mosh-shell-ssh-client-in-linux/</a></p><p>作者：<a href=http://www.tecmint.com/author/avishek/>Avishek Kumar</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/mosh/ rel=tag>Mosh</a></li><li class=tags__item><a class="tags__link btn" href=/tags/ssh/ rel=tag>ssh</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>