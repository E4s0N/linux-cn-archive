<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Linux 上安全传输文件的 14 SCP 命令示例 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Linux 上安全传输文件的 14 SCP 命令示例"><meta property="og:description" content="SCP（安全复制，Secure Copy）是 Linux 和 Unix 之类的系统中的命令行工具，用于通过网络安全地跨系统传输文件和目录。"><meta property="og:type" content="article"><meta property="og:url" content="/article-11669-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-12-13T10:02:00+00:00"><meta property="article:modified_time" content="2019-12-13T10:02:00+00:00"><meta itemprop=name content="在 Linux 上安全传输文件的 14 SCP 命令示例"><meta itemprop=description content="SCP（安全复制，Secure Copy）是 Linux 和 Unix 之类的系统中的命令行工具，用于通过网络安全地跨系统传输文件和目录。"><meta itemprop=datePublished content="2019-12-13T10:02:00+00:00"><meta itemprop=dateModified content="2019-12-13T10:02:00+00:00"><meta itemprop=wordCount content="524"><meta itemprop=keywords content="scp,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Linux 上安全传输文件的 14 SCP 命令示例</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-12-13T10:02:00Z>December 13, 2019</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201912/13/100239f31is1ios31vvoo3.jpg alt></p><p>SCP（ 安全复制 Secure Copy ）是 Linux 和 Unix 之类的系统中的命令行工具，用于通过网络安全地跨系统传输文件和目录。当我们使用 <code>scp</code> 命令将文件和目录从本地系统复制到远程系统时，则在后端与远程系统建立了 ssh 连接。换句话说，我们可以说 <code>scp</code> 在后端使用了相同的 SSH 安全机制，它需要密码或密钥进行身份验证。</p><p>在本教程中，我们将讨论 14 个有用的 Linux <code>scp</code> 命令示例。</p><p><code>scp</code> 命令语法：</p><pre tabindex=0><code># scp &lt;选项&gt; &lt;文件或目录&gt; 用户名@目标主机:/&lt;文件夹&gt;

# scp &lt;选项&gt; 用户名@目标主机:/文件 &lt;本地文件夹&gt;
</code></pre><p><code>scp</code> 命令的第一个语法演示了如何将文件或目录从本地系统复制到特定文件夹下的目标主机。</p><p><code>scp</code> 命令的第二种语法演示了如何将目标主机中的文件复制到本地系统中。</p><p>下面列出了 <code>scp</code> 命令中使用最广泛的一些选项，</p><ul><li><code>-C</code> 启用压缩</li><li><code>-i</code> 指定识别文件或私钥</li><li><code>-l</code> 复制时限制带宽</li><li><code>-P</code> 指定目标主机的 ssh 端口号</li><li><code>-p</code> 复制时保留文件的权限、模式和访问时间</li><li><code>-q</code> 禁止 SSH 警告消息</li><li><code>-r</code> 递归复制文件和目录</li><li><code>-v</code> 详细输出</li></ul><p>现在让我们跳入示例！</p><h3 id=示例1使用-scp-将文件从本地系统复制到远程系统>示例：1）使用 scp 将文件从本地系统复制到远程系统</h3><p>假设我们要使用 <code>scp</code> 命令将 jdk 的 rpm 软件包从本地 Linux 系统复制到远程系统（172.20.10.8），请使用以下命令，</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp jdk-linux-x64_bin.rpm root@linuxtechi:/opt
root@linuxtechi&#39;s password:
jdk-linux-x64_bin.rpm                          100%   10MB  27.1MB/s   00:00
[root@linuxtechi ~]$
</code></pre><p>上面的命令会将 jdk 的 rpm 软件包文件复制到 <code>/opt</code> 文件夹下的远程系统。</p><h3 id=示例2使用-scp-将文件从远程系统复制到本地系统>示例：2）使用 scp 将文件从远程系统复制到本地系统</h3><p>假设我们想将文件从远程系统复制到本地系统下的 <code>/tmp</code> 文件夹，执行以下 <code>scp</code> 命令，</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp root@linuxtechi:/root/Technical-Doc-RHS.odt /tmp
root@linuxtechi&#39;s password:
Technical-Doc-RHS.odt                         100% 1109KB  31.8MB/s   00:00
[root@linuxtechi ~]$ ls -l /tmp/Technical-Doc-RHS.odt
-rwx------. 1 pkumar pkumar 1135521 Oct 19 11:12 /tmp/Technical-Doc-RHS.odt
[root@linuxtechi ~]$
</code></pre><h3 id=示例3使用-scp-传输文件时的详细输出-v>示例：3）使用 scp 传输文件时的详细输出（-v）</h3><p>在 <code>scp</code> 命令中，我们可以使用 <code>-v</code> 选项启用详细输出。使用详细输出，我们可以轻松地发现后台确切发生了什么。这对于调试连接、认证和配置等问题非常有用。</p><pre tabindex=0><code>root@linuxtechi ~]$ scp -v jdk-linux-x64_bin.rpm root@linuxtechi:/opt
Executing: program /usr/bin/ssh host 172.20.10.8, user root, command scp -v -t /opt
OpenSSH_7.8p1, OpenSSL 1.1.1 FIPS  11 Sep 2018
debug1: Reading configuration data /etc/ssh/ssh_config
debug1: Reading configuration data /etc/ssh/ssh_config.d/05-redhat.conf
debug1: Reading configuration data /etc/crypto-policies/back-ends/openssh.config
debug1: /etc/ssh/ssh_config.d/05-redhat.conf line 8: Applying options for *
debug1: Connecting to 172.20.10.8 [172.20.10.8] port 22.
debug1: Connection established.
…………
debug1: Next authentication method: password
root@linuxtechi&#39;s password:
</code></pre><h3 id=示例4将多个文件传输到远程系统>示例：4）将多个文件传输到远程系统</h3><p>可以使用 <code>scp</code> 命令一次性将多个文件复制/传输到远程系统，在 <code>scp</code> 命令中指定多个文件，并用空格隔开，示例如下所示</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp install.txt index.html jdk-linux-x64_bin.rpm root@linuxtechi:/mnt
root@linuxtechi&#39;s password:
install.txt                                      100%    0     0.0KB/s   00:00
index.html                                       100%   85KB   7.2MB/s   00:00
jdk-linux-x64_bin.rpm                            100%   10MB  25.3MB/s   00:00
[root@linuxtechi ~]$
</code></pre><h3 id=示例5在两个远程主机之间传输文件>示例：5）在两个远程主机之间传输文件</h3><p>使用 <code>scp</code> 命令，我们可以在两个远程主机之间复制文件和目录，假设我们有一个可以连接到两个远程 Linux 系统的本地 Linux 系统，因此从我的本地 Linux 系统中，我可以使用 <code>scp</code> 命令在这两个系统之间复制文件，</p><p>命令语法：</p><pre tabindex=0><code># scp 用户名@远程主机1:/&lt;要传输的文件&gt; 用户名@远程主机2:/&lt;文件夹&gt;
</code></pre><p>示例如下：</p><pre tabindex=0><code># scp root@linuxtechi:~/backup-Oct.zip root@linuxtechi:/tmp
# ssh root@linuxtechi &#34;ls -l /tmp/backup-Oct.zip&#34;
-rwx------. 1 root root 747438080 Oct 19 12:02 /tmp/backup-Oct.zip
</code></pre><h3 id=示例6递归复制文件和目录-r>示例：6）递归复制文件和目录（-r）</h3><p>在 <code>scp</code> 命令中使用 <code>-r</code> 选项将整个目录从一个系统递归地复制到另一个系统，示例如下所示：</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp -r Downloads root@linuxtechi:/opt
</code></pre><p>使用以下命令验证 <code>Downloads</code> 文件夹是否已复制到远程系统，</p><pre tabindex=0><code>[root@linuxtechi ~]$ ssh root@linuxtechi &#34;ls -ld /opt/Downloads&#34;
drwxr-xr-x. 2 root root 75 Oct 19 12:10 /opt/Downloads
[root@linuxtechi ~]$
</code></pre><h3 id=示例7通过启用压缩来提高传输速度-c>示例：7）通过启用压缩来提高传输速度（-C）</h3><p>在 <code>scp</code> 命令中，我们可以通过使用 <code>-C</code> 选项启用压缩来提高传输速度，它将自动在源主机上启用压缩并在目标主机上解压缩。</p><pre tabindex=0><code>root@linuxtechi ~]$ scp -r -C Downloads root@linuxtechi:/mnt
</code></pre><p>在以上示例中，我们正在启用压缩的情况下传输下载目录。</p><h3 id=示例8复制时限制带宽-l>示例：8）复制时限制带宽（-l）</h3><p>在 <code>scp</code> 命令中使用 <code>-l</code> 选项设置复制时对带宽使用的限制。带宽以 Kbit/s 为单位指定，示例如下所示：</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp -l 500 jdk-linux-x64_bin.rpm  root@linuxtechi:/var
</code></pre><h3 id=示例9在-scp-时指定其他-ssh-端口-p>示例：9）在 scp 时指定其他 ssh 端口（-P）</h3><p>在某些情况下，目标主机上的 ssh 端口会更改，因此在使用 <code>scp</code> 命令时，我们可以使用 <code>-P</code> 选项指定 ssh 端口号。</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp -P 2022 jdk-linux-x64_bin.rpm  root@linuxtechi:/var
</code></pre><p>在上面的示例中，远程主机的 ssh 端口为 “2022”。</p><h3 id=示例10复制时保留文件的权限模式和访问时间-p>示例：10）复制时保留文件的权限、模式和访问时间（-p）</h3><p>从源复制到目标时，在 <code>scp</code> 命令中使用 <code>-p</code> 选项保留权限、访问时间和模式。</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp -p jdk-linux-x64_bin.rpm  root@linuxtechi:/var/tmp
jdk-linux-x64_bin.rpm                            100%   10MB  13.5MB/s   00:00
[root@linuxtechi ~]$
</code></pre><h3 id=示例11在-scp-中以安静模式传输文件-q>示例：11）在 scp 中以安静模式传输文件（-q）</h3><p>在 <code>scp</code> 命令中使用 <code>-q</code> 选项可禁止显示 ssh 的传输进度、警告和诊断消息。示例如下所示：</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp -q -r Downloads root@linuxtechi:/var/tmp
[root@linuxtechi ~]$
</code></pre><h3 id=示例12在传输时使用-scp-中的识别文件-i>示例：12）在传输时使用 scp 中的识别文件（-i）</h3><p>在大多数 Linux 环境中，首选基于密钥的身份验证。在 <code>scp</code> 命令中，我们使用 <code>-i</code> 选项指定识别文件（私钥文件），示例如下所示：</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp -i my_key.pem -r Downloads root@linuxtechi:/root
</code></pre><p>在上面的示例中，<code>my_key.pem</code> 是识别文件或私钥文件。</p><h3 id=示例13在-scp-中使用其他-ssh_config-文件-f>示例：13）在 scp 中使用其他 ssh_config 文件（-F）</h3><p>在某些情况下，你使用不同的网络连接到 Linux 系统，可能某些网络位于代理服务器后面，因此在这种情况下，我们必须具有不同的 <code>ssh_config</code> 文件。</p><p>通过 <code>-F</code> 选项在 <code>scp</code> 命令中指定了不同的 <code>ssh_config</code> 文件，示例如下所示：</p><pre tabindex=0><code>[root@linuxtechi ~]$ scp -F /home/pkumar/new_ssh_config -r Downloads root@linuxtechi:/root
root@linuxtechi&#39;s password:
jdk-linux-x64_bin.rpm                     100%   10MB  16.6MB/s   00:00
backup-Oct.zip                            100%  713MB  41.9MB/s   00:17
index.html                                100%   85KB   6.6MB/s   00:00
[root@linuxtechi ~]$
</code></pre><h3 id=示例14在-scp-命令中使用其他加密方式-c>示例：14）在 scp 命令中使用其他加密方式（-c）</h3><p>默认情况下，<code>scp</code> 使用 AES-128 加密方式来加密文件。如果你想在 <code>scp</code> 命令中使用其他加密方式，请使用 <code>-c</code> 选项，后接加密方式名称。</p><p>假设我们要在用 <code>scp</code> 命令传输文件时使用 3des-cbc 加密方式，请运行以下 <code>scp</code> 命令：</p><pre tabindex=0><code>[root@linuxtechi ~]# scp -c 3des-cbc -r Downloads root@linuxtechi:/root
</code></pre><p>使用以下命令列出 <code>ssh</code> 和 <code>scp</code> 支持的加密方式：</p><pre tabindex=0><code>[root@linuxtechi ~]# ssh -Q cipher localhost | paste -d , -s -
3des-cbc,aes128-cbc,aes192-cbc,aes256-cbc,root@linuxtechi,aes128-ctr,aes192-ctr,aes256-ctr,root@linuxtechi,root@linuxtechi,root@linuxtechi
[root@linuxtechi ~]#
</code></pre><p>以上就是本教程的全部内容，要获取有关 <code>scp</code> 命令的更多详细信息，请参考其手册页。请在下面的评论部分中分享你的反馈和评论。</p><hr><p>via: <a href=https://www.linuxtechi.com/scp-command-examples-in-linux/>https://www.linuxtechi.com/scp-command-examples-in-linux/</a></p><p>作者：<a href=https://www.linuxtechi.com/author/pradeep/>Pradeep Kumar</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/wxy>wxy</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/scp/ rel=tag>scp</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>