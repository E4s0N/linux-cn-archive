<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>如何找到并杀掉 Linux 系统中的僵尸进程 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="如何找到并杀掉 Linux 系统中的僵尸进程"><meta property="og:description" content="这是一个关于如何寻找 Linux 系统僵尸进程并杀死它们的小知识。你也可以从中了解到关于进程和僵尸进程的一些知识。"><meta property="og:type" content="article"><meta property="og:url" content="/article-13919-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-10-25T11:02:21+00:00"><meta property="article:modified_time" content="2021-10-25T11:02:21+00:00"><meta itemprop=name content="如何找到并杀掉 Linux 系统中的僵尸进程"><meta itemprop=description content="这是一个关于如何寻找 Linux 系统僵尸进程并杀死它们的小知识。你也可以从中了解到关于进程和僵尸进程的一些知识。"><meta itemprop=datePublished content="2021-10-25T11:02:21+00:00"><meta itemprop=dateModified content="2021-10-25T11:02:21+00:00"><meta itemprop=wordCount content="170"><meta itemprop=keywords content="僵尸进程,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>如何找到并杀掉 Linux 系统中的僵尸进程</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-10-25T11:02:21Z>October 25, 2021</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202110/25/110222ygkl8gutsl8s6o6l.jpg alt></p><blockquote><p>这是一个关于如何寻找 Linux 系统僵尸进程并杀死它们的小知识。你也可以从中了解到关于进程和僵尸进程的一些知识。</p></blockquote><p>在了解僵尸进程之前，让我们来复习一下什么是 Linux 进程。</p><p>简而言之，<a href=https://tldp.org/LDP/tlk/kernel/processes.html>进程</a> 是一个程序的运行实例。它可能运行在前端（比如有交互的进程），也可能运行在后端（比如无交互或自动运行的进程）。它可能是一个父进程（运行期间创建了其他进程），也可能是一个子进程（由其他进程所创建）。</p><p>在 Linux 系统中，除 PID 为 0 的第一个 <code>init</code> 进程（或 <code>systemd</code>）外，其余进程都有父进程。进程也可以拥有自己的子进程。</p><p>不相信？可以试试在终端中使用 <code>pstree</code> 命令查看进程的树型结构，你能看到系统各个进程的“家族树”。</p><h3 id=linux系统里的僵尸进程是什么>Linux系统里的僵尸进程是什么？</h3><p>子进程死亡后，它的父进程会接收到通知去执行一些清理操作，如释放内存之类。然而，若父进程并未察觉到子进程死亡，子进程就会进入到“ 僵尸 zombie ”状态。从父进程角度看，子进程仍然存在，即使子进程实际上已经死亡。这就是“ 僵尸进程 zombie process ”（也被称为“ 已消失进程 defunct process ”）是如何产生并存在于系统中的。</p><p>这里有一个来自 <a href=https://turnoff.us/geek/zombie-processes/>Turnoff.us</a> 的关于僵尸进程的非常有趣的看法：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202110/25/110223e8pmlipzlfuj3fc8.jpg alt="Image credit: Turnoff.us"></p><h3 id=你真的需要关心僵尸进程吗>你真的需要关心僵尸进程吗？</h3><p>重点要说的是，僵尸进程并没有像它的名称那样看起来可怕。</p><p>但如果系统的内存已经所剩不多或者有太多的僵尸进程在吃掉内存，问题会变得糟糕。同样，大部分 Linux 系统进程最大 PID 设置为 32768，如果过多僵尸进程导致其他重要任务没有 PID 可用，你的系统会发生崩溃。</p><p>这是真实可能发生的，它有一定的概率，特别当存在一个编码糟糕的程序开始大量产生僵尸进程的时候。</p><p>在这种情况下，找到并杀死僵尸进程是一个明智的做法。</p><h3 id=如何找到僵尸进程>如何找到僵尸进程</h3><p>Linux 系统中的进程可能处于如下状态中的一种：</p><ul><li><code>D</code> = 不可中断的休眠</li><li><code>I</code> = 空闲</li><li><code>R</code> = 运行中</li><li><code>S</code> = 休眠</li><li><code>T</code> = 被调度信号终止</li><li><code>t</code> = 被调试器终止</li><li><code>Z</code> = 僵尸状态</li></ul><p>那如何查看进程和它的当前状态呢？一个简单的方法是在终端中使用 <a href=https://linuxhandbook.com/top-command/>top 命令</a>。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202110/25/110223ofb9ha7vf65eeqbe.png alt="Top command show processes and their status"></p><p>正如你在上面截图中看到的，截图中共有 250 个任务（进程），其中 1 个处在 “ 运行中 running ” 状态，248 个进程处于 “ 休眠 sleep ” 状态，还有一个处于 “ 僵尸 zombie ” 状态。</p><p>现在问题进入下一步，如何杀死 “僵尸” 进程？</p><h3 id=如何找到并杀死一个僵尸进程僵尸进程能被杀死吗>如何找到并杀死一个僵尸进程？僵尸进程能被杀死吗？</h3><p>僵尸进程已经死了，要如何才能杀死一个已经死亡的进程呢？</p><p>在僵尸电影中，你可以射击僵尸的头部或烧掉它们，但在这里是行不通的。你可以一把火烧了系统来杀死僵尸进程，但这并不是一个可行的方案。</p><p>一些人建议发送 <code>SIGCHLD</code> 给父进程，但这个信号很可能会被忽略。还有一个方法是杀死父进程来杀死僵尸进程，这听起来很野蛮，但它却是唯一能确保杀死僵尸进程的方法。</p><p>首先，通过在终端中 <a href=https://linuxhandbook.com/ps-command/>使用 ps 命令</a> 我们列举僵尸进程，得到它们的进程 ID：</p><pre tabindex=0><code>ps ux | awk &#39;{if($8==&#34;Z+&#34;) print}&#39;
</code></pre><p><code>ps ux</code> 命令输出的第 8 列显示了进程状态。上述命令只会打印所有处在 Z+ 状态（表示僵尸状态）的进程。</p><p>确认了进程 ID 后，我们可以得到它的父进程 ID：</p><pre tabindex=0><code>ps -o ppid= -p &lt;child_id&gt;
</code></pre><p>你也可以将上述两个命令结合在一起，直接得到僵尸进程的 PID 及其父进程的 PID：</p><pre tabindex=0><code>ps -A -ostat,pid,ppid | grep -e &#39;[zZ]&#39;
</code></pre><p>现在你得到了父进程 ID，使用命令行和得到的 ID 号 <a href=https://itsfoss.com/how-to-find-the-process-id-of-a-program-and-kill-it-quick-tip/>终于可以杀死进程了</a>：</p><pre tabindex=0><code>kill -9 &lt;parent_process_ID&gt;
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/202110/25/110224zd2sx1odn2n747x2.png alt="Killing parent process"></p><p>再次运行 <code>ps</code> 命令或 <code>top</code> 命令，你可以验证僵尸进程是否已经被杀死。</p><p>恭喜！现在你知道怎么清理僵尸进程了。</p><hr><p>via: <a href=https://itsfoss.com/kill-zombie-process-linux/>https://itsfoss.com/kill-zombie-process-linux/</a></p><p>作者：<a href=https://itsfoss.com/author/marco/>Marco Carmona</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/zengyi1001>zengyi1001</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%83%B5%E5%B0%B8%E8%BF%9B%E7%A8%8B/ rel=tag>僵尸进程</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>