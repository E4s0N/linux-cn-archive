<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>使用Observium来监控你的网络和服务器 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="使用Observium来监控你的网络和服务器"><meta property="og:description" content="简介 在监控你的服务器、交换机或者设备时遇到过问题吗？Observium 可以满足你的需求。这是一个免费的监控系统，它可以帮助你远程监控你的服务器。它是一个由PHP编写的基于自动发现 SNMP 的网络监控平台，支持非常广泛的网络硬件和操作系统，包括 Cisco、Windows、Linux、HP、NetApp 等等。在此我会给出在 Ubuntu 12.04 上一步步地设置一个 Observium 服务器的介绍。  目前有两种不同的 observium 版本。  Observium 社区版本是一个在 QPL 开源许可证下的免费工具，这个版本是对于较小部署的最好解决方案。该版本每6个月进行一次安全性更"><meta property="og:type" content="article"><meta property="og:url" content="/article-5439-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-05-13T10:31:00+00:00"><meta property="article:modified_time" content="2015-05-13T10:31:00+00:00"><meta itemprop=name content="使用Observium来监控你的网络和服务器"><meta itemprop=description content="简介 在监控你的服务器、交换机或者设备时遇到过问题吗？Observium 可以满足你的需求。这是一个免费的监控系统，它可以帮助你远程监控你的服务器。它是一个由PHP编写的基于自动发现 SNMP 的网络监控平台，支持非常广泛的网络硬件和操作系统，包括 Cisco、Windows、Linux、HP、NetApp 等等。在此我会给出在 Ubuntu 12.04 上一步步地设置一个 Observium 服务器的介绍。  目前有两种不同的 observium 版本。  Observium 社区版本是一个在 QPL 开源许可证下的免费工具，这个版本是对于较小部署的最好解决方案。该版本每6个月进行一次安全性更"><meta itemprop=datePublished content="2015-05-13T10:31:00+00:00"><meta itemprop=dateModified content="2015-05-13T10:31:00+00:00"><meta itemprop=wordCount content="346"><meta itemprop=keywords content="Observium,监控,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>使用Observium来监控你的网络和服务器</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-05-13T10:31:00Z>May 13, 2015</time></div></div></header><div class="content post__content clearfix"><h3 id=简介>简介</h3><p>在监控你的服务器、交换机或者设备时遇到过问题吗？<strong>Observium</strong> 可以满足你的需求。这是一个免费的监控系统，它可以帮助你远程监控你的服务器。它是一个由PHP编写的基于自动发现 SNMP 的网络监控平台，支持非常广泛的网络硬件和操作系统，包括 Cisco、Windows、Linux、HP、NetApp 等等。在此我会给出在 Ubuntu 12.04 上一步步地设置一个 <strong>Observium</strong> 服务器的介绍。</p><p><img src=/data/attachment/album/201505/13/063454ojfjjz99fh7zzfqh.png alt></p><p>目前有两种不同的 <strong>observium</strong> 版本。</p><ul><li>Observium 社区版本是一个在 QPL 开源许可证下的免费工具，这个版本是对于较小部署的最好解决方案。该版本每6个月进行一次安全性更新。</li><li>第2个版本是 Observium 专业版，该版本采用基于 SVN 的发布机制。 会得到每日安全性更新。 该工具适用于服务提供商和企业级部署。</li></ul><p>更多信息可以通过其<a href=http://www.observium.org/>官网</a>获得。</p><h3 id=系统需求>系统需求</h3><p>要安装 <strong>Observium</strong>， 需要具有一个最新安装的服务器。<strong>Observium</strong> 是在 Ubuntu LTS 和 Debian 系统上进行开发的，所以推荐在 Ubuntu 或 Debian 上安装 <strong>Observium</strong>，因为可能在别的平台上会有一些小问题。</p><p>该文章会引导你在 Ubuntu 12.04 上安装 <strong>Observium</strong>。对于小型的 <strong>Observium</strong> 安装，建议使用 256MB 内存和双核处理器的配置。</p><h3 id=安装需求>安装需求</h3><p>在安装 <strong>Observuim</strong> 之前，你需要确认安装所有的依赖关系包。</p><p>首先，使用下面的命令更新你的服务器：</p><pre tabindex=0><code>sudo apt-get update
</code></pre><p>然后你需要安装下列运行 Observuim 所需的全部软件包。</p><p>Observium 需要使用下面所列出的软件才能正确的运行：</p><ul><li>LAMP 服务器</li><li>fping</li><li>Net-SNMP 5.4+</li><li>RRDtool 1.3+</li><li>Graphviz</li></ul><p>对于可选特性的要求：</p><ul><li>Ipmitool - 仅在当你想要获取服务器上的 IPMI（Intelligent Platform Management Interface 智能平台管理接口）基板控制器时。</li><li>Libvirt-bin - 仅在当你想要使用 libvirt 进行远程 VM 主机监控时。</li></ul><p>sudo apt-get install libapache2-mod-php5 php5-cli php5-mysql php5-gd php5-mcrypt php5-json php-pear snmp fping mysql-server mysql-client python-mysqldb rrdtool subversion whois mtr-tiny ipmitool graphviz imagemagick libvirt ipmitool</p><h3 id=为-observium-创建-mysql-数据库及其用户>为 Observium 创建 MySQL 数据库及其用户。</h3><p>现在你需要登录到 MySQL 中并为 <strong>Observium</strong> 创建数据库：</p><pre tabindex=0><code>mysql -u root -p
</code></pre><p>在用户验证成功之后，你需要按照下面的命令创建该数据库。</p><pre tabindex=0><code>CREATE DATABASE observium;
</code></pre><p>数据库名为 <strong>Observium</strong>，稍后你会需要这个信息。</p><p>现在你需要创建数据库管理员用户。</p><pre tabindex=0><code>CREATE USER observiumadmin@localhost IDENTIFIED BY &#39;observiumpassword&#39;;
</code></pre><p>接下来，你需要给该管理员用户相应的权限来管理创建的数据库。</p><pre tabindex=0><code>GRANT ALL PRIVILEGES ON observium.* TO observiumadmin@localhost;
</code></pre><p>你需要将权限信息写回到磁盘中来激活新的 MySQL 用户：</p><pre tabindex=0><code>FLUSH PRIVILEGES;
exit
</code></pre><h3 id=下载并安装-observium>下载并安装 Observium</h3><p>现在我们的系统已经准备好了， 可以开始Observium的安装了。</p><p>第一步，创建 Observium 将要使用的文件目录：</p><pre tabindex=0><code>mkdir -p /opt/observium &amp;&amp; cd /opt
</code></pre><p>按本教程的目的，我们将会使用 Observium 的社区/开源版本。使用下面的命令下载并解压：</p><pre tabindex=0><code>wget http://www.observium.org/observium-community-latest.tar.gz
tar zxvf observium-community-latest.tar.gz
</code></pre><p>现在进入到 Observium 目录。</p><pre tabindex=0><code>cd observium
</code></pre><p>将默认的配置文件 &lsquo;<strong>config.php.default</strong>&rsquo; 复制到 &lsquo;<strong>config.php</strong>&rsquo;，并将数据库配置选项填充到配置文件中：</p><pre tabindex=0><code>cp config.php.default config.php
nano config.php
</code></pre><hr><pre tabindex=0><code>/ Database config
$config[&#39;db_host&#39;] = &#39;localhost&#39;;
$config[&#39;db_user&#39;] = &#39;observiumadmin&#39;;
$config[&#39;db_pass&#39;] = &#39;observiumpassword&#39;;
$config[&#39;db_name&#39;] = &#39;observium&#39;;
</code></pre><p>现在为 MySQL 数据库设置默认的数据库模式：</p><pre tabindex=0><code>php includes/update/update.php
</code></pre><p>现在你需要创建一个文件目录来存储 rrd 文件，并修改其权限以便让 apache 能将写入到文件中。</p><pre tabindex=0><code>mkdir rrd
chown apache:apache rrd
</code></pre><p>为了在出现问题时排错，你需要创建日志文件。</p><pre tabindex=0><code>mkdir -p /var/log/observium
chown apache:apache /var/log/observium
</code></pre><p>现在你需要为 Observium 创建虚拟主机配置。</p><pre tabindex=0><code>&lt;VirtualHost *:80&gt;
  DocumentRoot /opt/observium/html/
  ServerName  observium.domain.com
  CustomLog /var/log/observium/access_log combined
  ErrorLog /var/log/observium/error_log
  &lt;Directory &#34;/opt/observium/html/&#34;&gt;
  AllowOverride All
  Options FollowSymLinks MultiViews
  &lt;/Directory&gt;
  &lt;/VirtualHost&gt;
</code></pre><p>下一步你需要让你的 Apache 服务器的 rewrite (重写)功能生效。</p><p>为了让 &lsquo;mod_rewrite&rsquo; 生效，输入以下命令：</p><pre tabindex=0><code>sudo a2enmod rewrite
</code></pre><p>该模块在下一次 Apache 服务重启之后就会生效。</p><pre tabindex=0><code>sudo service apache2 restart
</code></pre><h3 id=配置-observium>配置 Observium</h3><p>在登入 Web 界面之前，你需要为 Observium 创建一个管理员账户（级别10）。</p><pre tabindex=0><code># cd /opt/observium
# ./adduser.php admin adminpassword 10 
User admin added successfully.
</code></pre><p>下一步为发现和探寻任务设置一个 cron 任务，创建一个新的文件 ‘<strong>/etc/cron.d/observium</strong>’ 并在其中添加以下的内容。</p><pre tabindex=0><code>33  */6   * * *   root    /opt/observium/discovery.php -h all &gt;&gt; /dev/null 2&gt;&amp;1
*/5 *      * * *   root    /opt/observium/discovery.php -h new &gt;&gt; /dev/null 2&gt;&amp;1
*/5 *      * * *   root    /opt/observium/poller-wrapper.py 1 &gt;&gt; /dev/null 2&gt;&amp;1
</code></pre><p>重载 cron 进程来增加新的任务。</p><pre tabindex=0><code># /etc/init.d/cron reload
</code></pre><p>好啦，你已经完成了 Observium 服务器的安装拉！ 使用你的浏览器登录到 <strong>http://</strong>，然后上路吧。</p><p><img src=/data/attachment/album/201505/13/063455b9rzgwk7rwlw7w7m.png alt></p><p>尽情享受吧！</p><hr><p>via: <a href=http://www.unixmen.com/monitoring-network-servers-observium/>http://www.unixmen.com/monitoring-network-servers-observium/</a></p><p>作者：<a href=http://www.unixmen.com/author/anis/>anismaj</a> 译者：<a href=http://github.com/theo-l>theo-l</a> 校对：<a href=http://github.com/wxy>wxy</a></p><p>本文由 <a href=http://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/observium/ rel=tag>Observium</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E7%9B%91%E6%8E%A7/ rel=tag>监控</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>