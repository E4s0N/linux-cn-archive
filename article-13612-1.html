<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>使用树莓派搭建下载机 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="使用树莓派搭建下载机"><meta property="og:description" content="树莓派这样一个低功耗的 Linux 发行版非常适用于做下载机，来满足 PT、BT 等一些长时间挂机下载/做种的需求。"><meta property="og:type" content="article"><meta property="og:url" content="/article-13612-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-24T21:16:00+00:00"><meta property="article:modified_time" content="2021-07-24T21:16:00+00:00"><meta itemprop=name content="使用树莓派搭建下载机"><meta itemprop=description content="树莓派这样一个低功耗的 Linux 发行版非常适用于做下载机，来满足 PT、BT 等一些长时间挂机下载/做种的需求。"><meta itemprop=datePublished content="2021-07-24T21:16:00+00:00"><meta itemprop=dateModified content="2021-07-24T21:16:00+00:00"><meta itemprop=wordCount content="284"><meta itemprop=keywords content="树莓派,下载,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>使用树莓派搭建下载机</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2021-07-24T21:16:00Z>July 24, 2021</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202107/24/211431ls98cy85dymmz5hy.jpg alt></p><p>我自己已经用树莓派几年了，从 3B+ 版本到 4B 版本，这样一个低功耗的 Linux 发行版非常适用于做下载机，来满足 PT、BT 等一些长时间挂机下载/做种的需求。它还可以搭配 SMB 分享、FTP 内网穿透实现个人 NAS 的一些功能。接下来我将介绍自己使用 Transmission 工具搭建的树莓派下载机。</p><h3 id=transmission-安装>Transmission 安装</h3><p><strong>Transmission</strong> 是一款流行的 BT 下载软件，比其他客户端使用更少的资源，守护程序非常适合服务器，并且可以通过桌面 GUI、Web 界面和终端程序进行远程控制，支持本地对等发现、完全加密、DHT、µTP、PEX 和 Magnet Link 等。</p><p>首先，通过 <code>apt</code> 安装软件包，这里注意安装的是 <code>transmisson-daemon</code>：</p><pre tabindex=0><code>sudo apt-get update
sudo apt-get install transmisson-daemon
</code></pre><p>然后在 <code>/etc/transmission-daemon/</code> 目录下修改配置文件 <code>settings.json</code>。修改设置前需要先关闭 <code>transmission</code> 服务：</p><pre tabindex=0><code>sudo systemctl stop transmission-daemon.service
cd /etc/transmission-daemon/
sudo nano settings.json
</code></pre><p><code>settings.json</code> 文件内容如下，<code>#</code> 后为我补充的需要修改字段的注释：</p><pre tabindex=0><code>{
    &#34;alt-speed-down&#34;: 50,
    &#34;alt-speed-enabled&#34;: false,
    &#34;alt-speed-time-begin&#34;: 540,
    &#34;alt-speed-time-day&#34;: 127,
    &#34;alt-speed-time-enabled&#34;: false,
    &#34;alt-speed-time-end&#34;: 1020,
    &#34;alt-speed-up&#34;: 50,
    &#34;bind-address-ipv4&#34;: &#34;0.0.0.0&#34;,
    &#34;bind-address-ipv6&#34;: &#34;::&#34;,
    &#34;blocklist-enabled&#34;: false,
    &#34;blocklist-url&#34;: &#34;http://www.example.com/blocklist&#34;,
    &#34;cache-size-mb&#34;: 4,
    &#34;dht-enabled&#34;: true,
    &#34;download-dir&#34;: &#34;/home/pi/complete&#34;, # 下载目录 
    &#34;download-limit&#34;: 100,
    &#34;download-limit-enabled&#34;: 0,
    &#34;download-queue-enabled&#34;: true,
    &#34;download-queue-size&#34;: 30,
    &#34;encryption&#34;: 1,
    &#34;idle-seeding-limit&#34;: 30,
    &#34;idle-seeding-limit-enabled&#34;: false,
    &#34;incomplete-dir&#34;: &#34;/home/pi/incomplete&#34;, # 下载未完成文件目录
    &#34;incomplete-dir-enabled&#34;: true,
    &#34;lpd-enabled&#34;: false,
    &#34;max-peers-global&#34;: 200,
    &#34;message-level&#34;: 1,
    &#34;peer-congestion-algorithm&#34;: &#34;&#34;,
    &#34;peer-id-ttl-hours&#34;: 6,
    &#34;peer-limit-global&#34;: 1000,
    &#34;peer-limit-per-torrent&#34;: 50,
    &#34;peer-port&#34;: 51413,
    &#34;peer-port-random-high&#34;: 65535,
    &#34;peer-port-random-low&#34;: 49152,
    &#34;peer-port-random-on-start&#34;: false,
    &#34;peer-socket-tos&#34;: &#34;default&#34;,
    &#34;pex-enabled&#34;: true,
    &#34;port-forwarding-enabled&#34;: false,
    &#34;preallocation&#34;: 1,
    &#34;prefetch-enabled&#34;: true,
    &#34;queue-stalled-enabled&#34;: true,
    &#34;queue-stalled-minutes&#34;: 30,
    &#34;ratio-limit&#34;: 2,
    &#34;ratio-limit-enabled&#34;: false,
    &#34;rename-partial-files&#34;: true,
    &#34;rpc-authentication-required&#34;: true,
    &#34;rpc-bind-address&#34;: &#34;0.0.0.0&#34;,
    &#34;rpc-enabled&#34;: true,
    &#34;rpc-host-whitelist&#34;: &#34;&#34;,
    &#34;rpc-host-whitelist-enabled&#34;: true,
    &#34;rpc-password&#34;: &#34;{525a44ba546f85ef59189a202b8d45357d17589686ReudqW&#34;, # 将双引号内修改为你要设定的密码，输入密码明文，重新启动程序后会自动加密，再打开看到的就是这样的密文了。
    &#34;rpc-port&#34;: 9091, # 默认 Web 访问端口
    &#34;rpc-url&#34;: &#34;/transmission/&#34;,
    &#34;rpc-username&#34;: &#34;raspberrypi&#34;, # 将双引号内修改为你要设定的用户名
    &#34;rpc-whitelist&#34;: &#34;*.*.*.*&#34;,
    &#34;rpc-whitelist-enabled&#34;: true,
    &#34;scrape-paused-torrents-enabled&#34;: true,
    &#34;script-torrent-done-enabled&#34;: false,
    &#34;script-torrent-done-filename&#34;: &#34;&#34;,
    &#34;seed-queue-enabled&#34;: false,
    &#34;seed-queue-size&#34;: 10,
    &#34;speed-limit-down&#34;: 2048,
    &#34;speed-limit-down-enabled&#34;: false,
    &#34;speed-limit-up&#34;: 5,
    &#34;speed-limit-up-enabled&#34;: true,
    &#34;start-added-torrents&#34;: true,
    &#34;trash-original-torrent-files&#34;: false,
    &#34;umask&#34;: 18,
    &#34;upload-limit&#34;: 100,
    &#34;upload-limit-enabled&#34;: 0,
    &#34;upload-slots-per-torrent&#34;: 14,
    &#34;utp-enabled&#34;: true # 允许 Web 登录
}
</code></pre><p><code>settings.json</code> 修改完成后，保存配置文件，重启 <code>transmission</code> 服务：</p><pre tabindex=0><code>sudo systemctl start transmission-daemon.service
</code></pre><p>这样在浏览器中登录树莓派 <code>ip:9091</code> 就可以访问 Transmission Web 管理界面了。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202107/24/211634clzjag3u5kjoukji.png alt="Transmission Web 管理界面"></p><p>如果下载中遇到写入权限问题，需要将目录设置为权限开放：</p><pre tabindex=0><code>sudo chmod -R a+rw /home/pi/complete
</code></pre><h3 id=在树莓派上挂载移动硬盘>在树莓派上挂载移动硬盘</h3><p>树莓派的存储设备为 SD 卡，存储容量不会很大，不适合做 BT 的存储器，最好还是外接移动硬盘。</p><p>这里要注意的是由于树莓派供电的问题。树莓派 3B 供电不能直接外接移动硬盘，需要一个可接电源的 USB HUB 对移动硬盘单独供电。树莓派 4B 可以直接外接固态硬盘。</p><p>可以先在要挂载的目录下新建一个文件夹，然后将移动硬盘挂载即可。为了能够在树莓派重启的时候自动完成挂载操作，可以将挂载设置为系统服务。</p><p>下面是我设置的移动硬盘挂载服务，请参考 <code>home-pi-M_disk.mount</code>：</p><pre tabindex=0><code>[Unit]
Description=Auto mount USB disk
DefaultDependencies=no
ConditionPathExists=/home/pi/M_disk
Before=sysinit.target

[Mount]
What=/dev/sda1
Where=/home/pi/M_disk
Type=ntfs

[Install]
WantedBy=multi-user.target
</code></pre><p>上述挂载服务会在树莓派启动后自动将移动硬盘 <code>/dev/sda1</code>（设备名称可以将移动硬盘插入树莓派后通过 <code>sudo fdisk -l</code> 查看），挂载到 <code>/home/pi/M_disk</code>（此目录为新建的挂载目录）目录下。</p><h3 id=结语>结语</h3><p>这样就完成了树莓派下载机的搭建，搭配之前介绍的 SMB 分享、 FTP 内网穿透，还是能够满足个人 NAS 的一些简单需求。 Enjoy！</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/ rel=tag>树莓派</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E4%B8%8B%E8%BD%BD/ rel=tag>下载</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>