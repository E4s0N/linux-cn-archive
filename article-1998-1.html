<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在CentOS 6.4上安装Ampache流媒体服务 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在CentOS 6.4上安装Ampache流媒体服务"><meta property="og:description" content="Ampache是一个基于WEB的音频/视频流媒体软件和文件管理器。你可以使用几乎所有的互联网设备从任何地方去访问你的音乐和视频。它不是一个媒体管理器,只是有效利用了现有分类好的媒体文件。所以，你必须预先组织好这些 &mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/article-1998-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-09-23T14:18:00+00:00"><meta property="article:modified_time" content="2013-09-23T14:18:00+00:00"><meta itemprop=name content="在CentOS 6.4上安装Ampache流媒体服务"><meta itemprop=description content="Ampache是一个基于WEB的音频/视频流媒体软件和文件管理器。你可以使用几乎所有的互联网设备从任何地方去访问你的音乐和视频。它不是一个媒体管理器,只是有效利用了现有分类好的媒体文件。所以，你必须预先组织好这些 &mldr;"><meta itemprop=datePublished content="2013-09-23T14:18:00+00:00"><meta itemprop=dateModified content="2013-09-23T14:18:00+00:00"><meta itemprop=wordCount content="210"><meta itemprop=keywords content="CentOS,Ampache,路由器,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在CentOS 6.4上安装Ampache流媒体服务</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2013-09-23T14:18:00Z>September 23, 2013</time></div></div></header><div class="content post__content clearfix"><p><a href=https://github.com/ampache/ampache/>Ampache</a>是一个基于WEB的音频/视频流媒体软件和文件管理器。你可以使用几乎所有的互联网设备从任何地方去访问你的音乐和视频。它不是一个媒体管理器,只是有效利用了现有分类好的媒体文件。所以，你必须预先组织好这些媒体文件。</p><h3 id=方案><strong>方案</strong></h3><p>尽管它应该在几乎所有基于RHEL的系统上工作，但这个指南是在CentOS 6.4上测试的。在这篇指南中, 我的测试机主机名和IP地址分别为<strong>server.unixmen.com</strong> 和 <strong>192.168.1.201/24</strong>.你可以根据自己的地址适当改变这些值。</p><h3 id=前提><strong>前提</strong></h3><p>你的服务器上应该安装和配置了Apache，MySQL和PHP（LAMP）。参考以下链接中的任何一个来安装LAMP服务。</p><ul><li><a href=http://www.unixmen.com/install-lamp-apache-with-mariadb-and-php-on-centosrhelscientific-linux-6/>在CentOS 6.4上安装LAMP(Apache, MariaDB, PHP)服务。</a></li></ul><p>或者</p><ul><li><a href=http://www.unixmen.com/install-lamp-server-in-centos-6-4-rhel-6-4/>在CentOS 6.4上安装LAMP(Apache, MySQL, PHP)服务。</a></li></ul><p>译者注：注意，两种安装方式的数据库是不同的</p><p>接着安装PHP模块。</p><pre tabindex=0><code># yum install php-mcrypt php-pdo php-cli php-mysql php-gd php-xml libtool-ltdl mhash mcrypt -y
</code></pre><h3 id=为ampache创建数据库用户><strong>为Ampache创建数据库用户</strong></h3><p>例如, 这里，我将要创建一个名为“<strong>ampachedb</strong>”的数据库用户和“<strong>ampachedb</strong>”用户的密码为“<strong>centos</strong>”的数据。你可以根据你的喜好来定义数据库。</p><pre tabindex=0><code># mysql -u root -p
Enter password: 
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 3
Server version: 5.5.31-MariaDB MariaDB Server
 
Copyright (c) 2000, 2013, Oracle, Monty Program Ab and others. 

Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.
MariaDB [(none)]&gt; create database ampachedb;
Query OK, 1 row affected (0.02 sec)

MariaDB [(none)]&gt; GRANT ALL ON ampachedb.* TO ampacheuser@localhost IDENTIFIED BY &#39;centos&#39;;
Query OK, 0 rows affected (0.01 sec)

MariaDB [(none)]&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)
MariaDB [(none)]&gt; exit

Bye
</code></pre><h3 id=调整防火墙路由器的设置><strong>调整防火墙/路由器的设置</strong></h3><p>允许apache的默认端口“80”通过防火墙/路由器。编辑 /etc/sysconfig/iptables 文件,</p><pre tabindex=0><code># vi /etc/sysconfig/iptables
</code></pre><p>添加下面这行。</p><pre tabindex=0><code>-A INPUT -p tcp -m state --state NEW --dport 80 -j ACCEPT
</code></pre><p>现在重启防火墙（iptables）服务。</p><pre tabindex=0><code># /etc/init.d/iptables restart
</code></pre><h3 id=获取ampache><strong>获取Ampache</strong></h3><p><a href=https://github.com/ampache/ampache/tags>在这下载Ampache</a>最新版本或者从你的终端输入以下命令去下载。</p><pre tabindex=0><code># wget https://github.com/ampache/ampache/archive/3.6-alpha6.zip
</code></pre><p><strong>注释:</strong> 这里你可以使用以下两种方法来访问你的流媒体服务网站。</p><ol><li>直接从网站根目录访问, 这样你可以通过导航到**http://domain-name/**来访问你的网站。</li><li>另外，你可以在网站根目录和主机网站子目录中创建一个子目录，这样你可使用URL<strong>http://domain-name/sub-directory-name</strong>成功访问你的网站。</li></ol><p>此时, 因为测试目的,我将要在sub目录下访问我的流媒体网站。</p><p>用命令解压下载后的文件:</p><pre tabindex=0><code># tar -zxvf 3.6-alpha6
</code></pre><p>移动ampache目录到apache根目录。</p><pre tabindex=0><code># mv ampache-3.6-alpha6/ /var/www/html/ampache
</code></pre><p>设置ampache/config目录的写入权限。</p><pre tabindex=0><code># chmod -R 777 /var/www/html/ampache/config/
</code></pre><h3 id=开始安装><strong>开始安装</strong></h3><p>打开浏览器在地址栏中输入<strong>http://domain-name/ampache</strong>或<strong>http://ip-address/ampache</strong>。</p><p>将会出现下面界面。点击<strong>Start configuration（开始配置）</strong>。</p><p><a href=http://180016988.r.cdn77.net/wp-content/uploads/2013/09/Ampache-Pour-lAmour-de-la-Musique-Install-Mozilla-Firefox_001.png><img src=https://img.linux.net.cn/data/attachment/album/201309/23/130648n2wv54nj4epafweu.png alt="Ampache :: Pour l&rsquo;Amour de la Musique - Install - Mozilla Firefox_001"></a></p><p>输入MySQL数据库，用户和密码等详细资料。因为我们创建了数据库，所以确保你选中了“<strong>Overwrite existing database（覆盖现有的数据库）</strong>”复选框。</p><p><a href=http://180016988.r.cdn77.net/wp-content/uploads/2013/09/Ampache-Pour-lAmour-de-la-Musique-Install-Mozilla-Firefox_004.png><img src=https://img.linux.net.cn/data/attachment/album/201309/23/130705vrr06a39h2or8zo3.png alt="Ampache :: Pour l&rsquo;Amour de la Musique - Install - Mozilla Firefox_004"></a></p><p>输入最近创建的MySQL数据库，用户和密码等详细资料。点击 <strong>write</strong>生成<strong>ampache.config.php</strong>文件和点击<strong>Continue to step 3</strong>按钮。</p><p><a href=http://180016988.r.cdn77.net/wp-content/uploads/2013/09/Ampache-Pour-lAmour-de-la-Musique-Install-Mozilla-Firefox_006.png><img src=https://img.linux.net.cn/data/attachment/album/201309/23/130722t4yqgax0t83xt60j.png alt="Ampache :: Pour l&rsquo;Amour de la Musique - Install - Mozilla Firefox_006"></a></p><p>现在你将被要求设置<strong>admin</strong>用户密码。输入密码并且点击<strong>Create Account（创建账户）</strong>。</p><p><a href=http://180016988.r.cdn77.net/wp-content/uploads/2013/09/Ampache-Pour-lAmour-de-la-Musique-Install-Mozilla-Firefox_008.png><img src=https://img.linux.net.cn/data/attachment/album/201309/23/130735w6cbbz1j6xkwibff.png alt="Ampache :: Pour l&rsquo;Amour de la Musique - Install - Mozilla Firefox_008"></a></p><p>最后，Ampache将要求你更新到最新版本。点击Update（更新）。</p><p><a href=http://180016988.r.cdn77.net/wp-content/uploads/2013/09/Ampache-Update-Mozilla-Firefox_010.png><img src=https://img.linux.net.cn/data/attachment/album/201309/23/130745z08k3y937wj7gc68.png alt="Ampache Update - Mozilla Firefox_010"></a></p><p>对了，就是这样！现在你已经成功安装Apmache。为进一步配置，我建议你阅读官方的<a href=http://ampache.org/wiki/start>Ampache Wiki</a>。</p><p>via:<a href=http://www.unixmen.com/setup-streaming-media-server-ampache/>http://www.unixmen.com/setup-streaming-media-server-ampache/</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/portal.php>Linux中国</a> 荣誉推出</p><p>译者：<a href=http://linux.cn/space/Vito>Vito</a> 校对：<a href=http://linux.cn/space/14763>Caroline</a></p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/centos/ rel=tag>CentOS</a></li><li class=tags__item><a class="tags__link btn" href=/tags/ampache/ rel=tag>Ampache</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/ rel=tag>路由器</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>