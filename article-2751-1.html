<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>跨越终端中多个vim实例访问剪切板内容 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="跨越终端中多个vim实例访问剪切板内容"><meta property="og:description" content="Vim (Vi IMproved)是一款在程序员之间非常受欢迎的文本编辑器。它在执行不同的快捷命令操作上有它自己的特长。  比如，要拷贝高亮的文本，我们使用y命令，并用x来剪切。但是，vim(不是gVim)剪切板的内容默认情况下是不能被其他的vim实例访问的。 Vim版本信息中使用+表示启用了系统剪切板。你可以运行vim version，如果你看不到像+xterm_clipboard而是显示xterm_clipboard，那么会使用内部剪切板，其将不能被其它的vim实例访问。 安装gvim和parcellite 为了访问vim剪切板的内容，你需要安装gvim包。gVim是vim编辑器的GUI模式，它的剪切板选 &mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/article-2751-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-03-25T16:15:00+00:00"><meta property="article:modified_time" content="2014-03-25T16:15:00+00:00"><meta itemprop=name content="跨越终端中多个vim实例访问剪切板内容"><meta itemprop=description content="Vim (Vi IMproved)是一款在程序员之间非常受欢迎的文本编辑器。它在执行不同的快捷命令操作上有它自己的特长。  比如，要拷贝高亮的文本，我们使用y命令，并用x来剪切。但是，vim(不是gVim)剪切板的内容默认情况下是不能被其他的vim实例访问的。 Vim版本信息中使用+表示启用了系统剪切板。你可以运行vim version，如果你看不到像+xterm_clipboard而是显示xterm_clipboard，那么会使用内部剪切板，其将不能被其它的vim实例访问。 安装gvim和parcellite 为了访问vim剪切板的内容，你需要安装gvim包。gVim是vim编辑器的GUI模式，它的剪切板选 &mldr;"><meta itemprop=datePublished content="2014-03-25T16:15:00+00:00"><meta itemprop=dateModified content="2014-03-25T16:15:00+00:00"><meta itemprop=wordCount content="250"><meta itemprop=keywords content="剪贴板,vim,gvim,prettyprint,vimrc,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>跨越终端中多个vim实例访问剪切板内容</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-03-25T16:15:00Z>March 25, 2014</time></div></div></header><div class="content post__content clearfix"><p>**Vim (Vi IMproved)**是一款在程序员之间非常受欢迎的文本编辑器。它在执行不同的快捷命令操作上有它自己的特长。</p><p><img src=/data/attachment/album/201403/25/161531p3re526k6ljn7u2e.jpeg alt=从Vim访问剪切板></p><p>比如，要拷贝高亮的文本，我们使用‘<strong>y</strong>’命令，并用‘x’来剪切。但是，<strong>vim</strong>(不是<strong>gVim</strong>)剪切板的内容默认情况下是不能被其他的vim实例访问的。</p><p>Vim版本信息中使用‘<strong>+</strong>’表示启用了系统剪切板。你可以运行‘<strong>vim ­­–version</strong>’，如果你看不到像“<strong>+xterm_clipboard</strong>”而是显示“­<strong>xterm_clipboard</strong>“，那么会使用内部剪切板，其将不能被其它的<strong>vim</strong>实例访问。</p><h3 id=安装gvim和parcellite>安装gvim和parcellite</h3><p>为了访问vim剪切板的内容，你需要安装<strong>gvim</strong>包。<strong>gVim</strong>是vim编辑器的GUI模式，它的剪切板选项默认启用。</p><pre tabindex=0><code># yum install -y gvim
</code></pre><p>然后，使用<a href=http://www.tecmint.com/install-and-enable-rpmforge-repository-in-rhel-centos-6-5-4/>RPMForge 仓库</a>安装<strong>parcellite</strong> 包。Parcellite是一款轻量级，小巧而免费的Linux剪切板管理工具。</p><pre tabindex=0><code># yum install -y parcellite
</code></pre><p>一旦安装后，运行下面的命令。这里的参数‘<strong>&</strong>’是使parcellite以后台进程运行。</p><pre tabindex=0><code># parcellite &amp;
</code></pre><p>检查选项已经在gvim中启用。</p><pre tabindex=0><code># gvim --version
</code></pre><p>确保“<strong>+xterm_clipboard</strong>”选项显示在下面的输出中。</p><pre tabindex=0><code>VIM - Vi IMproved 7.2 (2008 Aug 9, compiled Apr  5 2012 10:12:08)
Included patches: 1-411
Modified by &lt;bugzilla@redhat.com&gt;
Compiled by &lt;bugzilla@redhat.com&gt;
Huge version with GTK2 GUI.  Features included (+) or not (-):
+arabic +autocmd +balloon_eval +browse ++builtin_terms +byte_offset +cindent 
+clientserver +clipboard +cmdline_compl +cmdline_hist +cmdline_info +comments 
+cryptv +cscope +cursorshape +dialog_con_gui +diff +digraphs +dnd -ebcdic 
+emacs_tags +eval +ex_extra +extra_search +farsi +file_in_path +find_in_path 
+float +folding -footer +fork() +gettext -hangul_input +iconv +insert_expand 
+jumplist +keymap +langmap +libcall +linebreak +lispindent +listcmds +localmap 
+menu +mksession +modify_fname +mouse +mouseshape +mouse_dec +mouse_gpm 
-mouse_jsbterm +mouse_netterm -mouse_sysmouse +mouse_xterm +multi_byte 
+multi_lang -mzscheme +netbeans_intg -osfiletype +path_extra +perl +postscript 
+printer +profile +python +quickfix +reltime +rightleft -ruby +scrollbind 
+signs +smartindent -sniff +startuptime +statusline -sun_workshop +syntax 
+tag_binary +tag_old_static -tag_any_white -tcl +terminfo +termresponse 
+textobjects +title +toolbar +user_commands +vertsplit +virtualedit +visual 
+visualextra +viminfo +vreplace +wildignore +wildmenu +windows +writebackup 
+X11 -xfontset +xim +xsmp_interact +xterm_clipboard -xterm_save
</code></pre><p>打开用户的.bashrc文件。</p><pre tabindex=0><code># vim ~/.bashrc
</code></pre><p>加入别名并保存文件(按下‘<strong>i</strong>’来插入行并按下<strong>ESC</strong>,接着运行**:wq**来保存并退出)。</p><pre tabindex=0><code># .bashrc

# User specific aliases and functions

alias rm=&#39;rm -i&#39;
alias cp=&#39;cp -i&#39;
alias mv=&#39;mv -i&#39;
alias vim=&#39;gvim -v&#39;
# Source global definitions
if [ -f /etc/bashrc ]; then
        . /etc/bashrc
fi
</code></pre><p>这个alias是内置的用于将一些命令绕到其他命令上。这样每次当vim命令运行时，相应的别名会启动默认带剪切板的gVim。</p><p>现在，用类似的方式编辑你的‘<strong>.vimrc</strong>’文件(以防你没有 <strong>.vimrc</strong>文件，生成这样一个文件然后再回来)。</p><pre tabindex=0><code># vim ~/.vimrc
</code></pre><p>追加下面这行并保存文件。</p><pre tabindex=0><code>autocmd VimLeave * call system(&#34;echo -n $&#39;&#34; . escape(getreg(), &#34;&#39;&#34;) . &#34;&#39; | xsel -ib&#34;)
</code></pre><p>现在在vim中打开任何文件并高亮部分文本(使用&rsquo;v&rsquo;命令)并按下&rsquo;y&rsquo;。尝试在vim外面的任何地方粘帖(关不关vim都行)，你就发现vim里面复制的内容被粘帖出来了。</p><h3 id=附生成-vimrc-文件>附：生成 .vimrc 文件</h3><p>运行下面的命令来生成**.vimrc**文件（如果你已做了就跳过这部分）。</p><pre tabindex=0><code># cd   [返回到你的主目录]       
# vim .vimrc
</code></pre><p>在vim中在按下ESC键后运行下面的命令（在vim中，每个命令是在按下ESC键后也就是带你进入命令模式后运行的）。</p><pre tabindex=0><code>:r $VIMRUNTIME/vimrc_example.vim 
:w
</code></pre><hr><p>via: <a href=http://www.tecmint.com/accessing-clipboard-contents-across-multiple-instances-of-vim-from-terminal/>http://www.tecmint.com/accessing-clipboard-contents-across-multiple-instances-of-vim-from-terminal/</a></p><p>译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%89%AA%E8%B4%B4%E6%9D%BF/ rel=tag>剪贴板</a></li><li class=tags__item><a class="tags__link btn" href=/tags/vim/ rel=tag>vim</a></li><li class=tags__item><a class="tags__link btn" href=/tags/gvim/ rel=tag>gvim</a></li><li class=tags__item><a class="tags__link btn" href=/tags/prettyprint/ rel=tag>prettyprint</a></li><li class=tags__item><a class="tags__link btn" href=/tags/vimrc/ rel=tag>vimrc</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>