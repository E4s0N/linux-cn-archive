<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux 上的 MAC 地址欺骗 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Linux 上的 MAC 地址欺骗"><meta property="og:description" content="网卡生产商在每一张网卡（NIC）在出厂时都会在上面刻上一个48位的全球唯一标识符（GUID，例如08:4f:b5:05:56:a0），这串 GUID 就是网卡的 MAC 地址，用于确定一张网卡的身份。MAC 地址的高24位叫 OUI(Organizationally Unique Identifier 组织唯一标示符)，是为网卡设置 MAC 地址的组织的标识符，这样一来，不同组织设置的 MAC 地址就不会冲突了。（译注：实际生产中，并不是每个网络设备都有不同的MAC地址，有时候地址空间不足，生产商会给发往不同地区国家的产品中用相同的地址空间。）  虽然 MAC 地址由厂商指定，但用户可以改变它，这 &mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/article-2793-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-04-02T14:50:20+00:00"><meta property="article:modified_time" content="2014-04-02T14:50:20+00:00"><meta itemprop=name content="Linux 上的 MAC 地址欺骗"><meta itemprop=description content="网卡生产商在每一张网卡（NIC）在出厂时都会在上面刻上一个48位的全球唯一标识符（GUID，例如08:4f:b5:05:56:a0），这串 GUID 就是网卡的 MAC 地址，用于确定一张网卡的身份。MAC 地址的高24位叫 OUI(Organizationally Unique Identifier 组织唯一标示符)，是为网卡设置 MAC 地址的组织的标识符，这样一来，不同组织设置的 MAC 地址就不会冲突了。（译注：实际生产中，并不是每个网络设备都有不同的MAC地址，有时候地址空间不足，生产商会给发往不同地区国家的产品中用相同的地址空间。）  虽然 MAC 地址由厂商指定，但用户可以改变它，这 &mldr;"><meta itemprop=datePublished content="2014-04-02T14:50:20+00:00"><meta itemprop=dateModified content="2014-04-02T14:50:20+00:00"><meta itemprop=wordCount content="305"><meta itemprop=keywords content="MAC地址,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Linux 上的 MAC 地址欺骗</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-04-02T14:50:20Z>April 02, 2014</time></div></div></header><div class="content post__content clearfix"><p>网卡生产商在每一张网卡（NIC）在出厂时都会在上面刻上一个48位的全球唯一标识符（GUID，例如08:4f:b5:05:56:a0），这串 GUID 就是网卡的 MAC 地址，用于确定一张网卡的身份。MAC 地址的高24位叫 OUI(Organizationally Unique Identifier 组织唯一标示符)，是为网卡设置 MAC 地址的组织的标识符，这样一来，不同组织设置的 MAC 地址就不会冲突了。（译注：实际生产中，并不是每个网络设备都有不同的MAC地址，有时候地址空间不足，生产商会给发往不同地区国家的产品中用相同的地址空间。）</p><p><img src=/data/attachment/album/201404/02/145022w267g6ck9ug22u10.jpg alt></p><p>虽然 MAC 地址由厂商指定，但用户可以改变它，这就是传说中的“MAC 地址欺骗”。本文将向大家展示<strong>如何在 Linux 上玩 MAC 地址欺骗</strong>。</p><h3 id=为什么要玩-mac-地址欺骗>为什么要玩 MAC 地址欺骗？</h3><p>想要理由？这里就给几个比较有技术含量的理由。 一些网络供应商会通过绑定你家路由器上的 MAC 地址来验证你的身份，这个时候如果你的路由器坏了，你怎么办？你可以暂时把你的电脑的 MAC 地址改成你家路由器的 MAC 地址，让你的 ISP 重新将你连入外网。（译注：有这种事情么？）</p><p>很多 DHCP 服务器会依赖 MAC 地址来分配 IP 地址。如果你想换一个分配给你的 IP 地址，你可以改改你的 MAC 地址。这样一来，你不必等着 DHCP 服务器给你重新分一个 IP 地址，而是马上就能得到一个新的。</p><p>除了技术原因外，这里也有一些比较正当的理由来说明你为什么需要改变你的 MAC 地址：为了隐私、为了安全，你要把你真正的 MAC 地址隐藏起来。不像处在 ISO 模型第三层的 IP 地址会经常变来变去，你的 MAC 地址可不会改变。在你说我多疑之前，请确定你知道<a href="http://www.identityblog.com/?p=1131">你的隐私</a>到底是什么东西。有一个入侵手段叫 <a href=http://en.wikipedia.org/wiki/Piggybacking_(Internet_access)>piggybacking</a>，黑客会在公共 WiFi 网络下伪装成你的 MAC 地址，并且在你不在场的时候伪装成你的身份进行黑客活动。</p><h3 id=怎么临时性地改变-mac-地址>怎么临时性地改变 MAC 地址？</h3><p>你可以在 Linux 运行的时候改变 MAC 地址。需要注意的是当 MAC 地址转换的那一会时间，你的网络会掉线。当电脑重启时 MAC 地址又会变回原来的。下面介绍几种方法来改变你的 MAC 地址。</p><h4 id=方法一iproute2>方法一：iproute2</h4><pre tabindex=0><code>$ sudo ip link set dev eth0 down
$ sudo ip link set dev eth0 address 00:00:00:00:00:01
$ sudo ip link set dev eth0 up 
</code></pre><h4 id=方法二macchanger>方法二：macchanger</h4><p>macchanger 这个命令可以让你把 MAC 地址改成不同生产厂商的序列号。</p><p>在 Debian，Ubuntu 或 Linux Mint 下安装 macchanger：</p><pre tabindex=0><code>$ sudo apt-get install macchanger 
</code></pre><p>在 Fedora 下安装 macchanger：</p><pre tabindex=0><code>$ sudo yum install macchanger 
</code></pre><p>在 CentOS 或 RHEL 下安装 macchanger：</p><pre tabindex=0><code>$ wget http://ftp.club.cc.cmu.edu/pub/gnu/macchanger/macchanger-1.6.0.tar.gz
$ tar xvfvz macchanger-1.6.0.tar.gz
$ cd macchanger-1.6.0 
$ ./configure
$ make
$ sudo make install 
</code></pre><p>下面给出一些 macchanger 的高级使用例子。使用 macchanger 你不必再手动禁用、启用你的网卡。</p><p>仅仅改变 MAC 地址：</p><pre tabindex=0><code>$ sudo macchanger --mac=00:00:00:00:00:01 eth0 
</code></pre><p>在保证 OUI 一致的情况下为 MAC 设置一个随机地址：</p><pre tabindex=0><code>$ sudo macchanger -e eth0 
</code></pre><p>为 MAC 设置一个完全随机的地址：</p><pre tabindex=0><code>$ sudo macchanger -r eth0 
</code></pre><p>获取所有网卡的 MAC 地址，然后只列出指定的厂商（比如 Juniper）:</p><pre tabindex=0><code>$ macchanger -l | grep -i juniper 
</code></pre><p><img src=/data/attachment/album/201404/02/145027irw24dqz45r27p4u.jpg alt></p><p>显示一块网卡原来的 MAC 地址和伪装的 MAC 地址：</p><pre tabindex=0><code>$ macchanger -s eth0  
Current MAC: 56:95:ac:ee:6e:77 (unknown)   
Permanent MAC: 00:0c:29:97:68:02 (Vmware, Inc.)
</code></pre><h3 id=如何永久性地改变-mac-地址>如何永久性地改变 MAC 地址？</h3><p>如果你想在系统重启后还保持伪装 MAC 地址，你需要编辑配置文件。比如你想改变 eth0 的 MAC 地址，按以下方法搞起：</p><h4 id=在-fedoracentos-或-rhel-下>在 Fedora，CentOS 或 RHEL 下：</h4><pre tabindex=0><code>$ sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0
DEVICE=eth0
MACADDR=00:00:00:00:00:0
</code></pre><p>或者你可以建一个开机启动的脚本放在 /etc/NetworkManager/dispatcher.d 目录下，前提是你使用 Network Manager 管理你的网络。这里假设你已经装了 macchanger，脚本内容如下：</p><pre tabindex=0><code>$ sudo vi /etc/NetworkManager/dispatcher.d/000-changemac
#!/bin/bash

case &#34;$2&#34; in
    up)
        macchanger --mac=00:00:00:00:00:01 &#34;$1&#34;
        ;;
esac
</code></pre><pre tabindex=0><code>$ sudo chmod 755 /etc/NetworkManager/dispatcher.d/000-changemac 
</code></pre><h4 id=在-debianubuntu-或-linux-mint-下>在 Debian，Ubuntu 或 Linux Mint 下：</h4><p>新建一个开机启动脚本，放在 /etc/network/if-up.d/ 目录下：</p><pre tabindex=0><code>$ sudo vi /etc/network/if-up.d/changemac 
#!/bin/sh

if [ &#34;$IFACE&#34; = eth0 ]; then
  ip link set dev &#34;$IFACE&#34; address 00:00:00:00:00:01
fi
</code></pre><pre tabindex=0><code>$ sudo chmod 755 /etc/network/if-up.d/changemac 
</code></pre><hr><p>via: <a href=http://xmodulo.com/2014/02/spoof-mac-address-network-interface-linux.html>http://xmodulo.com/2014/02/spoof-mac-address-network-interface-linux.html</a></p><p>译者：<a href=https://github.com/bazz2>bazz2</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/mac%E5%9C%B0%E5%9D%80/ rel=tag>MAC地址</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>