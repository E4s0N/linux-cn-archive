<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>如何在Linux桌面墙纸上显示Google Calendar - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="如何在Linux桌面墙纸上显示Google Calendar"><meta property="og:description" content="Google Calendar 是时下最流行的网页应用程序之一。用户可以通过网络接口或者本地的应用程序跨设备访问或同步 Google Calendar。在 Linux 上，有很多方法可以本地访问 Google Calendar，比如用电子邮件客户端插件（  &mldr;"><meta property="og:type" content="article"><meta property="og:url" content="/article-2564-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-02-12T22:07:00+00:00"><meta property="article:modified_time" content="2014-02-12T22:07:00+00:00"><meta itemprop=name content="如何在Linux桌面墙纸上显示Google Calendar"><meta itemprop=description content="Google Calendar 是时下最流行的网页应用程序之一。用户可以通过网络接口或者本地的应用程序跨设备访问或同步 Google Calendar。在 Linux 上，有很多方法可以本地访问 Google Calendar，比如用电子邮件客户端插件（  &mldr;"><meta itemprop=datePublished content="2014-02-12T22:07:00+00:00"><meta itemprop=dateModified content="2014-02-12T22:07:00+00:00"><meta itemprop=wordCount content="517"><meta itemprop=keywords content="Linux,桌面,Google,Calendar,gcalcli,技巧,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>如何在Linux桌面墙纸上显示Google Calendar</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-02-12T22:07:00Z>February 12, 2014</time></div></div></header><div class="content post__content clearfix"><p>Google Calendar 是时下最流行的网页应用程序之一。用户可以通过网络接口或者本地的应用程序跨设备访问或同步 Google Calendar。在 Linux 上，有很多方法可以本地访问 Google Calendar，比如用电子邮件客户端插件（如 Evolution 或 Thunderbird ）或者用日历应用程序（如 Sunbird 或 Rainklendar）。这些方法通常都需要安装不必要的大型软件，这些软件你很可能根本不需要。</p><p>如果你只是想在本地的 Linux 上翻翻 Google Calendar 或者用它设置提醒，那么你可以考虑使用<a href=https://github.com/insanum/gcalcli>Google Calendar 命令行接口（或者 gcalcli）</a>，这是一种更轻型化的方法。对于 Linux 桌面操作系统用户来说，好处不止这些，如果将 gcalcli 与<a href=http://conky.sourceforge.net/>Conky</a>搭配使用你就可以把 Google Calendar 透明地融入桌面主题。</p><p>在这个教程中，我会展示<strong>如何利用 gcalcli 和 Conky 将 Google Calendar 融入 Linux 桌面</strong></p><p>**<a href=http://www.flickr.com/photos/xmodulo/11216377436/><img src=/data/attachment/album/201402/12/220326aq63mqcizywr93wq.jpg alt></a>**</p><h3 id=在-linux-安装-gcalcli>在 Linux 安装 gcalcli</h3><p>在安装 gcalcli 之前，要确保你正在用的是 Python 2 而不是 Python 3 ，因为 Python 3 与 gcalcli 不兼容。</p><p>如果是在 Debian、Ubuntu 或 Linux Mint 上可以用下面的命令安装 gcalcli</p><pre tabindex=0><code>$ sudo apt-get install git python-pip python-gdata python-dateutil python-gflags python-vobject python-parsedatetime
$ sudo pip install google-api-python-client
$ sudo pip install apiclient urllib3
$ git clone https://github.com/insanum/gcalcli.git
$ cd gcalcli
$ sudo python setup.py install 
</code></pre><p><strong>温馨提醒</strong>：Ubuntu 或 Linux Mint 的软件库中虽然有 gcalcli，但是这些版本并不包含其最新的特性和针对 bug 的修复。所以这里推荐按以上所述的方法由源文件构建 gcalcli。</p><p>对于Fedora 、CentOS 或 RHEL，可按如下方法安装。</p><pre tabindex=0><code>$ sudo yum install git python-pip python-gdata python-dateutil python-gflags python-vobject
$ sudo pip install google-api-python-client
$ sudo pip install apiclient urllib3
$ git clone https://github.com/insanum/gcalcli.git
$ cd gcalcli
$ sudo python setup.py install 
</code></pre><h3 id=gcalcli-的-google-认证>gcalcli 的 Google 认证</h3><p>为了能让 gcalcli 访问 Google Calendar ，你需要用你的 Google 帐号通过 OAuth2 认证，以使 gcalcli 获得许可来访问你的 Google Calendar。</p><p>第一次运行 gcalcli 的时候，OAuth2 认证会自动进行初始化。因此运行下面的命令开始</p><p>$ gcalcli agenda</p><p>该命令会输出如下的一个 URL 。</p><p><a href=http://www.flickr.com/photos/xmodulo/11216331146/><img src=/data/attachment/album/201402/12/220329zxh3r3qlzuyuuxq7.jpg alt></a></p><p>同时这个命令也会弹出一个指向该 URL 的浏览器窗口。如果因为一些原因，你的浏览器没有反应，你可以手动复制粘贴这个 URL 到你的浏览器中。</p><p>如果你还没有登录你的 Google 帐号，你得先登录。然后你会看到下面要求你许可 gcalcli 管理 Google Calendar 的信息。点击“Accept”即可。</p><p><a href=http://www.flickr.com/photos/xmodulo/11216308465/><img src=/data/attachment/album/201402/12/220331zy2l9zod849ldu9s.jpg alt></a></p><h3 id=支持-google-calendar-api>支持 Google Calendar API</h3><p>认证后，下一步就是支持 Google Calendar 的 API 访问。gcalcli 通过 Google Calendar API 访问Google Calendar 。但是，如果要使用 Google API 就必须明确设置你的 Google 帐号支持 Google API。</p><p>首先到：<a href=https://cloud.google.com/console>https://cloud.google.com/console</a>。点击项目列表下的“API Project ”</p><p>转到“APIs & auth ”下面的“APIs”你会看见一个 Google APIs 列表。点击“Calendar API”的开关按钮使其能支持 API。</p><p>现在转到“APIs & auth”下的“Registered apps”那里，去注册 gcalcli app。点击最顶端的“Registered app”按钮。</p><p><a href=http://www.flickr.com/photos/xmodulo/11216363656/><img src=/data/attachment/album/201402/12/22033384z2abog4jsjw5eg.jpg alt></a></p><p>填写 app 的名字（如，“My Gcalcli”），然后选择“ Native ”作为平台。点击“Registered”按钮。</p><p>这一步会生成并显示 OAuth 用户的 ID 和密码。另外关于上面提示的“You have not set up your product name（您没有设置您的产品名称）”，你可以忽略掉。</p><p><a href=http://www.flickr.com/photos/xmodulo/11216593546/><img src=/data/attachment/album/201402/12/220336n9aphahlkauc6hkz.jpg alt></a></p><p>OAuth的认证结果将会保存在 ～/.gcalcli_oauth 文本文件中。</p><h3 id=用-gcalcli-在命令行中访问-google-calendar>用 gcalcli 在命令行中访问 Google Calendar</h3><p>你现在马上就可以用 gcalcli 访问Google Calendar 了。</p><p>在你的家目录创建一个如下的 gcalcli 配置文件。将你先前获得的 OAuth 用户 ID 和 密码按下面格式输入进去。</p><p>$ vi ~/.gcalclirc</p><blockquote><p>&ndash;client<em>id=&lsquo;XXXXXXXXXX.apps.googleusercontent.com&rsquo; &ndash;client</em>secret=&lsquo;YYYYYYYYYYYYYYYY&rsquo;</p></blockquote><p>到了这一步，你应该可以在命令行运行 gcalcli 了。</p><p>试试下面的命令，这两个命令会分别打印出一个你的 Google Calendar 的列表和今后 5 天的日程安排。</p><p>$ gcalcli list<br>$ gcalcli agenda</p><p><a href=http://www.flickr.com/photos/xmodulo/11216465043/><img src=/data/attachment/album/201402/12/220338c47pp4io14ez14mi.jpg alt></a></p><h3 id=将-gcalcli-与-conky-结合>将 gcalcli 与 Conky 结合</h3><p>最后一步就是将 gcalcli 的输出导入你的桌面主题中。为了做到这一点，你需要 Conky 这个非常强大的工具，它可以把许多信息直接显示在你的桌面主题中。</p><p>首先在你的 Linux 系统上 <a href=http://xmodulo.com/2013/12/install-configure-conky-linux.html>安装 Conky</a>。</p><p>然后，在你的家目录下的某个地方( 例如 ～/bin )创建如下的脚本程序。</p><p>$ vi ~/bin/gcal.sh</p><pre tabindex=0><code>#!/bin/sh

gcalcli --conky calw 2 |
  sed -e &#39;s/^[(0\x71^[(B/?/g&#39; \
      -e &#39;s/^[(0\x78^[(B/?/g&#39; \
      -e &#39;s/^[(0\x6A^[(B/?/g&#39; \
      -e &#39;s/^[(0\x6B^[(B/?/g&#39; \
      -e &#39;s/^[(0\x6C^[(B/?/g&#39; \
      -e &#39;s/^[(0\x6D^[(B/?/g&#39; \
      -e &#39;s/^[(0\x6E^[(B/?/g&#39; \
      -e &#39;s/^[(0\x74^[(B/?/g&#39; \
      -e &#39;s/^[(0\x75^[(B/?/g&#39; \
      -e &#39;s/^[(0\x76^[(B/?/g&#39; \
      -e &#39;s/^[(0\x77^[(B/?/g&#39;

$ chmod +x ~/bin/gcal.sh 
</code></pre><p><strong>重要提醒</strong>：上面脚本中的 ‘ [’ 必须是<strong>真正的 ESCAPE 键</strong>( 也就是说在 vi 中按 Ctrl-V 然后按 Esc )。</p><p>这个脚本程序将 VT100 转义序列转成Unicode组件图字符。这是<a href=https://github.com/insanum/gcalcli/issues/97>必须的一步</a>，因为 Conky 不支持 gcalcli 使用的 ANSI 字符画。</p><p>最后，在你的家目录中创建下面的 Conky 配置文件。</p><p>$ vi ~/.conkyrc</p><pre tabindex=0><code>alignment top_right
maximum_width 630
minimum_size 330 10
gap_x 25
gap_y 50

own_window yes
own_window_type conky
own_window_hints undecorated,below,sticky,skip_taskbar,skip_pager
own_window_transparent yes
own_window_argb_visual yes
own_window_argb_value 0

update_interval 300
background no

border_width 1
default_color cornflowerblue
default_outline_color white
default_shade_color white
double_buffer no
draw_borders no
draw_graph_borders no
draw_outline no
draw_shades no
max_port_monitor_connections 64
max_specials 512
max_user_text 16384
text_buffer_size 8096
no_buffers yes
out_to_console no
uppercase no
use_xft yes
xftfont Bitstream Vera Sans Mono:size=10

TEXT
*** Google Calendar Agenda ***
${execpi 300 gcalcli --conky agenda}
${execpi 300 ~/bin/gcal.sh}
</code></pre><p>这个 Conky 配置文件会直接在你的桌面主题上显示你的 Google Calendar 的一个日程表和一个两个星期的时间表。</p><p>现在，你可以运行下面的命令激活 Conky。</p><p>$ conky</p><p>你应该可以在 Linux 桌面的右边看到 Google Calendar，如题图。</p><p>确认 Google Calendar 可以正常运行后，你可以将 Conky 设为在每次登录时自动启动。</p><h3 id=设置-google-calendar-提醒>设置 Google Calendar 提醒</h3><p>gcalcli 也可以为 Google Calendar 中即将到来的事件发送一个提醒。它使用 notify-send 命令。对于 Google Calendar 提醒，你可以像下面一样设置一个工作进程。</p><p>$ crontab -l</p><blockquote><p>*/10 * * * * /usr/local/bin/gcalcli remind</p></blockquote><hr><p>via: <a href=http://xmodulo.com/2013/12/integrate-google-calendar-linux-desktop.html>http://xmodulo.com/2013/12/integrate-google-calendar-linux-desktop.html</a></p><p>译者：<a href=https://github.com/Linchenguang>Linchenguang</a> 校对：<a href=https://github.com/carolinewuyan>Caroline</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/linux/ rel=tag>Linux</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%A1%8C%E9%9D%A2/ rel=tag>桌面</a></li><li class=tags__item><a class="tags__link btn" href=/tags/google/ rel=tag>Google</a></li><li class=tags__item><a class="tags__link btn" href=/tags/calendar/ rel=tag>Calendar</a></li><li class=tags__item><a class="tags__link btn" href=/tags/gcalcli/ rel=tag>gcalcli</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%8A%80%E5%B7%A7/ rel=tag>技巧</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>