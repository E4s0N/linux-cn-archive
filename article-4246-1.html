<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>极速蜗牛：apt-fast - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="极速蜗牛：apt-fast"><meta property="og:description" content="如果你在Debian或Ubuntu系统上经常感觉到apt-get 或 aptitude包安装速度过慢，那么这里就有几种改善这一情况的方法。你有没有考虑过改变正被使用的默认镜像站点？你有没有排除因特网连接的上游带宽成为瓶颈的可能？ 如果不是这些原因，你可以尝试第三个选择：使用apt-fast工具。apt-fast实际上是一个围绕apt-get和aptitude所写的shell脚本容器，它能加速包的下载速度。apt-fast本质上采用aria2下载工具，这款工具能够以块的方式从多个镜像并行下载一个文件（就像BitTorrent下载）。  在Debian或Ubuntu上安装apt-fast 下面是在基于Debian的"><meta property="og:type" content="article"><meta property="og:url" content="/article-4246-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2014-11-18T10:06:00+00:00"><meta property="article:modified_time" content="2014-11-18T10:06:00+00:00"><meta itemprop=name content="极速蜗牛：apt-fast"><meta itemprop=description content="如果你在Debian或Ubuntu系统上经常感觉到apt-get 或 aptitude包安装速度过慢，那么这里就有几种改善这一情况的方法。你有没有考虑过改变正被使用的默认镜像站点？你有没有排除因特网连接的上游带宽成为瓶颈的可能？ 如果不是这些原因，你可以尝试第三个选择：使用apt-fast工具。apt-fast实际上是一个围绕apt-get和aptitude所写的shell脚本容器，它能加速包的下载速度。apt-fast本质上采用aria2下载工具，这款工具能够以块的方式从多个镜像并行下载一个文件（就像BitTorrent下载）。  在Debian或Ubuntu上安装apt-fast 下面是在基于Debian的"><meta itemprop=datePublished content="2014-11-18T10:06:00+00:00"><meta itemprop=dateModified content="2014-11-18T10:06:00+00:00"><meta itemprop=wordCount content="187"><meta itemprop=keywords content="apt-get,apt-fast,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>极速蜗牛：apt-fast</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2014-11-18T10:06:00Z>November 18, 2014</time></div></div></header><div class="content post__content clearfix"><p>如果你在Debian或Ubuntu系统上经常感觉到<strong>apt-get</strong> 或 <strong>aptitude</strong>包安装速度过慢，那么这里就有几种改善这一情况的方法。你有没有考虑过改变正被使用的默认镜像站点？你有没有排除因特网连接的上游带宽成为瓶颈的可能？</p><p>如果不是这些原因，你可以尝试第三个选择：使用<a href=https://github.com/ilikenwf/apt-fast>apt-fast</a>工具。apt-fast实际上是一个围绕apt-get和aptitude所写的shell脚本容器，它能加速包的下载速度。apt-fast本质上采用<a href=http://aria2.sourceforge.net/>aria2</a>下载工具，这款工具能够以“块”的方式从多个镜像并行下载一个文件（就像BitTorrent下载）。</p><p><img src=/data/attachment/album/201411/17/231044alt0b4b2azbffizo.jpg alt></p><h3 id=在debian或ubuntu上安装apt-fast>在Debian或Ubuntu上安装apt-fast</h3><p>下面是在基于Debian的Linux上安装apt-fast的步骤</p><h3 id=debian>Debian</h3><pre tabindex=0><code>$ sudo apt-get install aria2
$ wget https://github.com/ilikenwf/apt-fast/archive/master.zip
$ unzip master.zip
$ cd apt-fast-master
$ sudo cp apt-fast /usr/bin
$ sudo cp apt-fast.conf /etc
$ sudo cp ./man/apt-fast.8 /usr/share/man/man8
$ sudo gzip /usr/share/man/man8/apt-fast.8
$ sudo cp ./man/apt-fast.conf.5 /usr/share/man/man5
$ sudo gzip /usr/share/man/man5/apt-fast.conf.5
</code></pre><h3 id=ubuntu-1404-以及更高版本>Ubuntu 14.04 以及更高版本</h3><pre tabindex=0><code>$ sudo add-apt-repository ppa:saiarcot895/myppa
$ sudo apt-get update
$ sudo apt-get install apt-fast
</code></pre><h3 id=ubuntu-1104-到-ubuntu-1310>Ubuntu 11.04 到 Ubuntu 13.10</h3><pre tabindex=0><code>$ sudo add-apt-repository ppa:apt-fast/stable
$ sudo apt-get update
$ sudo apt-get install apt-fast
</code></pre><p>在安装期间，你需要选择一个默认的软件包管理器 (e.g., apt-get. aptitude )，还需要设置其余选项。但是你可以随时通过编辑配置文件 /etc/apt-fast/conf 来更改设置。</p><p><img src=/data/attachment/album/201411/17/231048koqjhkywypycoqjq.jpg alt></p><p><img src=/data/attachment/album/201411/17/231052oxzhtjjxkh64x5h5.jpg alt></p><p><img src=/data/attachment/album/201411/17/231055ux6x764uufitvtlx.jpg alt></p><h3 id=配置-apt-get>配置 apt-get</h3><p>安装完成后，你需要在/etc/apt-fast.conf里配置<strong>apt-fast</strong>使用的一系列镜像。</p><p>你可以在下面的URL中找到一系列Debian/Ubuntu镜像。</p><ul><li><strong>Debian</strong>: <a href=http://www.debian.org/mirror/list>http://www.debian.org/mirror/list</a></li><li><strong>Ubuntu</strong>: <a href=https://launchpad.net/ubuntu/+archivemirrors>https://launchpad.net/ubuntu/+archivemirrors</a></li></ul><p>选择完那些地理上靠近你的镜像后，你需按照下面的格式将选择的镜像加入到/etc/apt-fast.conf。</p><pre tabindex=0><code>$ sudo vi /etc/apt-fast.conf
</code></pre><p>Debian：</p><pre tabindex=0><code>MIRRORS=(&#39;http://ftp.us.debian.org/debian/,http://carroll.aset.psu.edu/pub/linux/distributions/debian/,http://debian.gtisc.gatech.edu/debian/,http://debian.lcs.mit.edu/debian/,http://mirror.cc.columbia.edu/debian/&#39;)
</code></pre><p>Ubuntu/Mint：</p><pre tabindex=0><code>MIRRORS=(&#39;http://us.archive.ubuntu.com/ubuntu,http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/,http://mirror.cc.vt.edu/pub2/ubuntu/,http://mirror.umd.edu/ubuntu/,http://mirrors.mit.edu/ubuntu/&#39;)
</code></pre><p>如上面所示，对于一个特定档案的个别镜像，需要用逗号分割开来。你需要在/etc/apt/sources.list的MIRRORS字符串中包含默认的镜像指定站点。</p><h3 id=使用apt-fast安装一个包>使用apt-fast安装一个包</h3><p>现在你就可以测试apt-fast的强大了。下面是使用<strong>apt-fast</strong>的示例：</p><pre tabindex=0><code>apt-fast [apt-get options and arguments]
apt-fast [aptitude options and arguments]
apt-fast { { install | upgrade | dist-upgrade | build-dep | download  | source  } [ -y | --yes | --assume-yes | --assume-no ]   ... | clean }
</code></pre><p>使用<strong>apt-fast</strong>安装包：</p><pre tabindex=0><code> $ sudo apt-fast install texlive-full
</code></pre><p>在当前目录下载软件包，但不安装：</p><pre tabindex=0><code> $ sudo apt-fast download texlive-full
</code></pre><p><img src=/data/attachment/album/201411/17/231059pnukg1qinsok1zkz.jpg alt></p><p>如前面所示，apt-fast的并行下载是通过aria2完成的。你可以看到如下图般从多个镜像并行下载。</p><pre tabindex=0><code>$ sudo netstat -nap | grep aria2c
</code></pre><p><img src=/data/attachment/album/201411/17/231101wv6cc1769gskikej.jpg alt></p><p>请注意，<strong>apt-fast</strong>并没有加速"apt-get update"。并行下载只在"install", &ldquo;upgrade&rdquo;, &ldquo;dist-upgrage"和"build-dep"操作中触发。其余的操作，apt-fast就会简单地回到默认的包管理器apt-get或aptitude。</p><h3 id=apt-fast有多快>apt-fast有多快？</h3><p>为了比较apt-fast和apt-get，我尝试在两个相同的Ubuntu实例上使用两种方法安装几个软件包。下面的图表展示了所有软件包安装的时间(单位为秒)。</p><p><img src=/data/attachment/album/201411/17/231104fzbhx7xhhsbs3hh3.jpg alt></p><p>正如你所见到的，<strong>apt-fast</strong>确实比<strong>apt-get</strong>快(e.g. 快3&ndash;4秒)，特别是安装庞大软件包的时候。</p><p>当然，安装性能的提高程度还依赖你上游因特网连通性。以我为例，我有富足的带宽来支持我的上游连接。这也是为什么我看到并行下载带来了成功的提高。</p><hr><p>via: <a href=http://xmodulo.com/speed-slow-apt-get-install-debian-ubuntu.html>http://xmodulo.com/speed-slow-apt-get-install-debian-ubuntu.html</a></p><p>作者：<a href=http://xmodulo.com/author/nanni>Dan Nanni</a> 译者：<a href=https://github.com/su-kaiyao>su-kaiyao</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创翻译，<a href=http://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/apt-get/ rel=tag>apt-get</a></li><li class=tags__item><a class="tags__link btn" href=/tags/apt-fast/ rel=tag>apt-fast</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>