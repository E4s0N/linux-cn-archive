<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>使用 Fstransform 转换文件系统 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="使用 Fstransform 转换文件系统"><meta property="og:description" content="Fstransform 可以几乎以任意组合将 ext2、ext3、ext4、jfs、reiserfs 或 xfs 分区转换成另一类型。更重要的是，它可以直接执行，而无需格式化或复制数据。"><meta property="og:type" content="article"><meta property="og:url" content="/article-9966-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-08-31T00:25:00+00:00"><meta property="article:modified_time" content="2018-08-31T00:25:00+00:00"><meta itemprop=name content="使用 Fstransform 转换文件系统"><meta itemprop=description content="Fstransform 可以几乎以任意组合将 ext2、ext3、ext4、jfs、reiserfs 或 xfs 分区转换成另一类型。更重要的是，它可以直接执行，而无需格式化或复制数据。"><meta itemprop=datePublished content="2018-08-31T00:25:00+00:00"><meta itemprop=dateModified content="2018-08-31T00:25:00+00:00"><meta itemprop=wordCount content="99"><meta itemprop=keywords content="转换,文件系统,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>使用 Fstransform 转换文件系统</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2018-08-31T00:25:00Z>August 31, 2018</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201808/31/002635apr7rhc1jdd46j9c.jpg alt></p><p>很少有人知道他们可以将文件系统从一种类型转换为另一种类型而不会丢失数据（即非破坏性的）。这可能听起来像魔术，但 <a href=https://github.com/cosmos72/fstransform>Fstransform</a> 可以几乎以任意组合将 ext2、ext3、ext4、jfs、reiserfs 或 xfs 分区转换成另一类型。更重要的是，它可以直接执行，而无需格式化或复制数据。除此之外，还有一点好处：Fstransform 也可以处理 ntfs、btrfs、fat 和 exfat 分区。</p><h3 id=在运行之前>在运行之前</h3><p>Fstransform 存在一些警告和限制，因此强烈建议在尝试转换之前进行备份。此外，使用 Fstransform 时需要注意一些限制：</p><ul><li>你的 Linux 内核必须支持源文件系统和目标文件系统。听起来很明显，如果你想使用 ext2、ext3、ext4、reiserfs、jfs 和 xfs 分区，这样不会出现风险。Fedora 支持所有分区，所以没问题。</li><li>将 ext2 升级到 ext3 或 ext4 不需要 Fstransform。请使用 Tune2fs。</li><li>源文件系统的设备必须至少有 5％ 的可用空间。</li><li>你需要在开始之前卸载源文件系统。</li><li>源文件系统存储的数据越多，转换的时间就越长。实际速度取决于你的设备，但预计它大约为每分钟 1GB。大量的硬链接也会降低转换速度。</li><li>虽然 Fstransform 被证明是稳定的，但请备份源文件系统上的数据。</li></ul><h3 id=安装说明>安装说明</h3><p>Fstransform 已经是 Fedora 的一部分。使用以下命令安装：</p><pre tabindex=0><code>sudo dnf install fstransform
</code></pre><h3 id=转换>转换</h3><p><img src=/data/attachment/album/201808/31/002635d86ur6fn7u8rlizf.png alt></p><p><code>fstransform</code> 命令的语法非常简单：<code>fstransform &lt;源设备> &lt;目标文件系统></code>。请记住，它需要 root 权限才能运行，所以不要忘记在开头添加 <code>sudo</code>。这是一个例子：</p><pre tabindex=0><code>sudo fstransform /dev/sdb1 ext4
</code></pre><p>请注意，无法转换根文件系统，这是一种安全措施。请改用测试分区或实验性 USB 盘。与此同时，Fstransform 会在控制台中有许多辅助输出。最有用的部分是预计完成时间，让你随时了解该过程需要多长时间。同样，在几乎空的驱动器上的几个小文件将使 Fstransform 在一分钟左右完成其工作，而更多真实世界的任务可能需要数小时的等待时间。</p><h3 id=更多支持的文件系统>更多支持的文件系统</h3><p>如上所述，可以尝试在 ntfs、btrfs、fat 和 exfat 分区使用 Fstransform。这些类型是早期实验性的，没有人能保证完美转换。尽管如此，还是有许多成功案例，你可以通过在测试分区上使用示例数据集测试 Fstransform 来添加自己的成功案例。可以使用 <code>--force-untested-file-systems</code> 参数启用这些额外的文件系统：</p><pre tabindex=0><code>sudo fstransform /dev/sdb1 ntfs --force-untested-file-systems
</code></pre><p>有时，该过程可能会因错误而中断。请放心再次执行命令 —— 它可能最终会在两、三次尝试后完成转换。</p><hr><p>via: <a href=https://fedoramagazine.org/transform-file-systems-in-linux/>https://fedoramagazine.org/transform-file-systems-in-linux/</a></p><p>作者：<a href=https://fedoramagazine.org/author/atolstoy/>atolstoy</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/geekpi>geekpi</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E8%BD%AC%E6%8D%A2/ rel=tag>转换</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/ rel=tag>文件系统</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>