<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>史上最复杂的验证邮件地址的正则表达式 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="史上最复杂的验证邮件地址的正则表达式"><meta property="og:description" content="用正则表达式验证邮件地址似乎是一件简单的事情，但是如果要完美的验证一个合规的邮件地址，其实也许很复杂。  邮件地址的规范来自于 RFC 5322。有一个网站 emailregex.com专门列出各种编程语言下的验证邮件地址的正则表达式，其中很多正则表达式都是我听说过而从未见过的复杂我想说，做这个网站的程序员是被邮件验证这件事伤害了多深啊！ 其实，在产品环境中，一般来说并不需要这么复杂的正则表达式来做到99.99%正确。一般来说，从执行效率和测试覆盖率来说，只需要一个简单的版本即可： /^+@+.{2,4}$/i 那么下面我们来看看这些更严谨、"><meta property="og:type" content="article"><meta property="og:url" content="/article-5963-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-08-05T15:56:00+00:00"><meta property="article:modified_time" content="2015-08-05T15:56:00+00:00"><meta itemprop=name content="史上最复杂的验证邮件地址的正则表达式"><meta itemprop=description content="用正则表达式验证邮件地址似乎是一件简单的事情，但是如果要完美的验证一个合规的邮件地址，其实也许很复杂。  邮件地址的规范来自于 RFC 5322。有一个网站 emailregex.com专门列出各种编程语言下的验证邮件地址的正则表达式，其中很多正则表达式都是我听说过而从未见过的复杂我想说，做这个网站的程序员是被邮件验证这件事伤害了多深啊！ 其实，在产品环境中，一般来说并不需要这么复杂的正则表达式来做到99.99%正确。一般来说，从执行效率和测试覆盖率来说，只需要一个简单的版本即可： /^+@+.{2,4}$/i 那么下面我们来看看这些更严谨、"><meta itemprop=datePublished content="2015-08-05T15:56:00+00:00"><meta itemprop=dateModified content="2015-08-05T15:56:00+00:00"><meta itemprop=wordCount content="544"><meta itemprop=keywords content="正则表达式,邮件地址,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>史上最复杂的验证邮件地址的正则表达式</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2015-08-05T15:56:00Z>August 05, 2015</time></div></div></header><div class="content post__content clearfix"><p>用正则表达式验证邮件地址似乎是一件简单的事情，但是如果要完美的验证一个合规的邮件地址，其实也许很复杂。</p><p><img src=/data/attachment/album/201508/05/155648gil3ndk3885gn331.jpg alt></p><p>邮件地址的规范来自于 <a href=http://www.ietf.org/rfc/rfc5322.txt>RFC 5322</a> 。有一个网站 <a href=http://emailregex.com>emailregex.com</a> 专门列出各种编程语言下的验证邮件地址的正则表达式，其中很多正则表达式都是我听说过而从未见过的复杂——我想说，做这个网站的程序员是被邮件验证这件事伤害了多深啊！</p><p>其实，在产品环境中，一般来说并不需要这么复杂的正则表达式来做到99.99%正确。一般来说，从执行效率和测试覆盖率来说，只需要一个简单的版本即可：</p><pre tabindex=0><code>/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i
</code></pre><p>那么下面我们来看看这些更严谨、更复杂的正则表达式吧：</p><h3 id=验证邮件地址的通用正则表达式符合-rfc-5322-标准>验证邮件地址的通用正则表达式（符合 RFC 5322 标准）</h3><pre tabindex=0><code>(?:[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-]+)*|&#34;(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*&#34;)@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])
</code></pre><p>由于各种语言对正则表达式的支持不同、语法差异和覆盖率不同，所以，不同语言里面的正则表达式也不同：</p><h3 id=python>Python</h3><p>这个是个简单的版本：</p><pre tabindex=0><code>r&#34;(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$)&#34;
</code></pre><h3 id=javascript>Javascript</h3><p>这个有点复杂了：</p><pre tabindex=0><code>/^[-a-z0-9~!$%^&amp;*_=+}{\&#39;?]+(\.[-a-z0-9~!$%^&amp;*_=+}{\&#39;?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i
</code></pre><h3 id=swift>Swift</h3><pre tabindex=0><code>[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}
</code></pre><h3 id=php>PHP</h3><p>PHP 的这个版本就更复杂了，覆盖率就更大一些：</p><pre tabindex=0><code>/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-[a-z0-9]+)*\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\]))$/iD
</code></pre><h3 id=perl--ruby>Perl / Ruby</h3><p>对与 PHP 的版本，Perl 和 Ruby 表示不服，可以更严谨：</p><pre tabindex=0><code>(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[\t]))*&#34;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[\t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[\t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)|(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)*:(?:(?:\r\n)?[ \t])*(?:(?:(?:[^()&lt;&gt;@,;:\\&#34;.\[\]\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\]\000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*)(?:,\s*(?:(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*|(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)*\&lt;(?:(?:\r\n)?[ \t])*(?:@(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*(?:,@(?:(?:\r\n)?[\t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*)*:(?:(?:\r\n)?[ \t])*)?(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|&#34;(?:[^\&#34;\r\\]|\\.|(?:(?:\r\n)?[ \t]))*&#34;(?:(?:\r\n)?[ \t])*))*@(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*)(?:\.(?:(?:\r\n)?[ \t])*(?:[^()&lt;&gt;@,;:\\&#34;.\[\] \000-\031]+(?:(?:(?:\r\n)?[ \t])+|\Z|(?=[\[&#34;()&lt;&gt;@,;:\\&#34;.\[\]]))|\[([^\[\]\r\\]|\\.)*\](?:(?:\r\n)?[ \t])*))*\&gt;(?:(?:\r\n)?[ \t])*))*)?;\s
</code></pre><h3 id=perl-510-及以后版本>Perl 5.10 及以后版本</h3><p>上面的版本，嗯，我可以说是天书吗？反正我是没有解读的想法了。当然，新版本的 Perl 语言还有一个更易读的版本（你是说真的么？）</p><pre tabindex=0><code>/(?(DEFINE)
(?&lt;address&gt; (?&amp;mailbox) | (?&amp;group))
(?&lt;mailbox&gt; (?&amp;name_addr) | (?&amp;addr_spec))
(?&lt;name_addr&gt; (?&amp;display_name)? (?&amp;angle_addr))
(?&lt;angle_addr&gt; (?&amp;CFWS)? &lt; (?&amp;addr_spec) &gt; (?&amp;CFWS)?)
(?&lt;group&gt; (?&amp;display_name) : (?:(?&amp;mailbox_list) | (?&amp;CFWS))? ;
(?&amp;CFWS)?)
(?&lt;display_name&gt; (?&amp;phrase))
(?&lt;mailbox_list&gt; (?&amp;mailbox) (?: , (?&amp;mailbox))*)

(?&lt;addr_spec&gt; (?&amp;local_part) \@ (?&amp;domain))
(?&lt;local_part&gt; (?&amp;dot_atom) | (?&amp;quoted_string))
(?&lt;domain&gt; (?&amp;dot_atom) | (?&amp;domain_literal))
(?&lt;domain_literal&gt; (?&amp;CFWS)? \[ (?: (?&amp;FWS)? (?&amp;dcontent))* (?&amp;FWS)?
\] (?&amp;CFWS)?)
(?&lt;dcontent&gt; (?&amp;dtext) | (?&amp;quoted_pair))
(?&lt;dtext&gt; (?&amp;NO_WS_CTL) | [\x21-\x5a\x5e-\x7e])

(?&lt;atext&gt; (?&amp;ALPHA) | (?&amp;DIGIT) | [!#\$%&amp;&#39;*+-/=?^_`{|}~])
(?&lt;atom&gt; (?&amp;CFWS)? (?&amp;atext)+ (?&amp;CFWS)?)
(?&lt;dot_atom&gt; (?&amp;CFWS)? (?&amp;dot_atom_text) (?&amp;CFWS)?)
(?&lt;dot_atom_text&gt; (?&amp;atext)+ (?: \. (?&amp;atext)+)*)

(?&lt;text&gt; [\x01-\x09\x0b\x0c\x0e-\x7f])
(?&lt;quoted_pair&gt; \\ (?&amp;text))

(?&lt;qtext&gt; (?&amp;NO_WS_CTL) | [\x21\x23-\x5b\x5d-\x7e])
(?&lt;qcontent&gt; (?&amp;qtext) | (?&amp;quoted_pair))
(?&lt;quoted_string&gt; (?&amp;CFWS)? (?&amp;DQUOTE) (?:(?&amp;FWS)? (?&amp;qcontent))*
(?&amp;FWS)? (?&amp;DQUOTE) (?&amp;CFWS)?)

(?&lt;word&gt; (?&amp;atom) | (?&amp;quoted_string))
(?&lt;phrase&gt; (?&amp;word)+)

# Folding white space
(?&lt;FWS&gt; (?: (?&amp;WSP)* (?&amp;CRLF))? (?&amp;WSP)+)
(?&lt;ctext&gt; (?&amp;NO_WS_CTL) | [\x21-\x27\x2a-\x5b\x5d-\x7e])
(?&lt;ccontent&gt; (?&amp;ctext) | (?&amp;quoted_pair) | (?&amp;comment))
(?&lt;comment&gt; \( (?: (?&amp;FWS)? (?&amp;ccontent))* (?&amp;FWS)? \) )
(?&lt;CFWS&gt; (?: (?&amp;FWS)? (?&amp;comment))*
(?: (?:(?&amp;FWS)? (?&amp;comment)) | (?&amp;FWS)))

# No whitespace control
(?&lt;NO_WS_CTL&gt; [\x01-\x08\x0b\x0c\x0e-\x1f\x7f])

(?&lt;ALPHA&gt; [A-Za-z])
(?&lt;DIGIT&gt; [0-9])
(?&lt;CRLF&gt; \x0d \x0a)
(?&lt;DQUOTE&gt; &#34;)
(?&lt;WSP&gt; [\x20\x09])
)

(?&amp;address)/x
</code></pre><h3 id=ruby-简单版>Ruby (简单版)</h3><p>Ruby 表示，其实人家还有个简单版本：</p><pre tabindex=0><code>/\A([\w+\-].?)+@[a-z\d\-]+(\.[a-z]+)*\.[a-z]+\z/i
</code></pre><h3 id=net>.NET</h3><p>这样的版本谁没有啊——.NET 说：</p><pre tabindex=0><code>^\w+([-+.&#39;]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
</code></pre><h3 id=grep-命令>grep 命令</h3><p>用 grep 命令在文件中查找邮件地址，我想你不会写个若干行的正则表达式吧，意思一下就行了：</p><pre tabindex=0><code>$ grep -E -o &#34;\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}\b&#34; filename.txt
</code></pre><h3 id=sql-server>SQL Server</h3><p>在 SQL Server 中也是可以用正则表达式的，不过这个代码片段应该是来自某个产品环境中的，所以，还体贴的照顾了那些把邮件地址写错的人：</p><pre tabindex=0><code> select email 
 from table_name where 
 patindex (&#39;%[ &amp;&#39;&#39;,&#34;:;!+=\/()&lt;&gt;]%&#39;, email) &gt; 0 -- Invalid characters
 or patindex (&#39;[@.-_]%&#39;, email) &gt; 0 -- Valid but cannot be starting character
 or patindex (&#39;%[@.-_]&#39;, email) &gt; 0 -- Valid but cannot be ending character
 or email not like &#39;%@%.%&#39; -- Must contain at least one @ and one .
 or email like &#39;%..%&#39; -- Cannot have two periods in a row
 or email like &#39;%@%@%&#39; -- Cannot have two @ anywhere
 or email like &#39;%.@%&#39; or email like &#39;%@.%&#39; -- Cannot have @ and . next to each other
 or email like &#39;%.cm&#39; or email like &#39;%.co&#39; -- Camaroon or Colombia? Typos. 
 or email like &#39;%.or&#39; or email like &#39;%.ne&#39; -- Missing last letter
</code></pre><h3 id=oracle-plsql>Oracle PL/SQL</h3><p>这个是不是有点偷懒？尤其是在那些“复杂”的正则表达式之后：</p><pre tabindex=0><code>SELECT email 
FROM table_name
WHERE REGEXP_LIKE (email, &#39;[A-Z0-9._%-]+@[A-Z0-9._%-]+\.[A-Z]{2,4}&#39;);
</code></pre><h3 id=mysql>MySQL</h3><p>好吧，看来最后也一样懒：</p><pre tabindex=0><code>SELECT * FROM `users` WHERE `email` NOT REGEXP &#39;^[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$&#39;;
</code></pre><p>那么，你有没有关于验证邮件地址的正则表达式分享给大家？</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/ rel=tag>正则表达式</a></li><li class=tags__item><a class="tags__link btn" href=/tags/%E9%82%AE%E4%BB%B6%E5%9C%B0%E5%9D%80/ rel=tag>邮件地址</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>