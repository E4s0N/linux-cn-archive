<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>在 Ubuntu 和其他 Linux 发行版上使用 Yarn - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="在 Ubuntu 和其他 Linux 发行版上使用 Yarn"><meta property="og:description" content="本速成教程向你展示了在 Ubuntu 和 Debian Linux 上安装 Yarn 包管理器的官方方法。你还将学习到一些基本的 Yarn 命令以及彻底删除 Yarn 的步骤。"><meta property="og:type" content="article"><meta property="og:url" content="/article-12737-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-10-20T23:52:00+00:00"><meta property="article:modified_time" content="2020-10-20T23:52:00+00:00"><meta itemprop=name content="在 Ubuntu 和其他 Linux 发行版上使用 Yarn"><meta itemprop=description content="本速成教程向你展示了在 Ubuntu 和 Debian Linux 上安装 Yarn 包管理器的官方方法。你还将学习到一些基本的 Yarn 命令以及彻底删除 Yarn 的步骤。"><meta itemprop=datePublished content="2020-10-20T23:52:00+00:00"><meta itemprop=dateModified content="2020-10-20T23:52:00+00:00"><meta itemprop=wordCount content="467"><meta itemprop=keywords content="npm,Yarn,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>在 Ubuntu 和其他 Linux 发行版上使用 Yarn</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2020-10-20T23:52:00Z>October 20, 2020</time></div></div></header><div class="content post__content clearfix"><blockquote><p>本速成教程向你展示了在 Ubuntu 和 Debian Linux 上安装 Yarn 包管理器的官方方法。你还将学习到一些基本的 Yarn 命令以及彻底删除 Yarn 的步骤。</p></blockquote><p><img src=/data/attachment/album/202010/21/000023d6m6nmddyldliprr.jpg alt></p><p><a href=https://yarnpkg.com/lang/en/>Yarn</a> 是 Facebook 开发的开源 JavaScript 包管理器。它是流行的 npm 包管理器的一个替代品，或者应该说是改进。 <a href=https://code.fb.com/>Facebook 开发团队</a> 创建 Yarn 是为了克服 <a href=https://www.npmjs.com/>npm</a> 的缺点。 Facebook 声称 Yarn 比 npm 更快、更可靠、更安全。</p><p>与 npm 一样，Yarn 为你提供一种自动安装、更新、配置和删除从全局注册库中检索到的程序包的方法。</p><p>Yarn 的优点是它更快，因为它可以缓存已下载的每个包，所以无需再次下载。它还将操作并行化，以最大化资源利用率。在执行每个已安装的包代码之前，Yarn 还使用 <a href=https://itsfoss.com/checksum-tools-guide-linux/>校验和来验证完整性</a>。 Yarn 还保证可以在一个系统上运行的安装，在任何其他系统上都会以完全相同地方式工作。</p><p>如果你正 <a href=https://itsfoss.com/install-nodejs-ubuntu/>在 Ubuntu 上使用 node.js</a>，那么你的系统上可能已经安装了 npm。在这种情况下，你可以使用 npm 通过以下方式全局安装 Yarn：</p><pre tabindex=0><code>sudo npm install yarn -g
</code></pre><p>不过，我推荐使用官方方式在 Ubuntu/Debian 上安装 Yarn。</p><h3 id=在-ubuntu-和-debian-上安装-yarn-官方方式>在 Ubuntu 和 Debian 上安装 Yarn [官方方式]</h3><p>这里提到的说明应该适用于所有版本的 Ubuntu，例如 Ubuntu 18.04、16.04 等。同样的一组说明也适用于 Debian 和其他基于 Debian 的发行版。</p><p>由于本教程使用 <code>curl</code> 来添加 Yarn 项目的 GPG 密钥，所以最好验证一下你是否已经安装了 <code>curl</code>。</p><pre tabindex=0><code>sudo apt install curl
</code></pre><p>如果 <code>curl</code> 尚未安装，则上面的命令将安装它。既然有了 <code>curl</code>，你就可以使用它以如下方式添加 Yarn 项目的 GPG 密钥：</p><pre tabindex=0><code>curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -
</code></pre><p>在此之后，将存储库添加到源列表中，以便将来可以轻松地升级 Yarn 包，并进行其余系统更新：</p><pre tabindex=0><code>sudo sh -c &#39;echo &#34;deb https://dl.yarnpkg.com/debian/ stable main&#34; &gt;&gt; /etc/apt/sources.list.d/yarn.list&#39;
</code></pre><p>你现在可以继续了。<a href=https://itsfoss.com/update-ubuntu/>更新 Ubuntu</a> 或 Debian 系统，以刷新可用软件包列表，然后安装 Yarn：</p><pre tabindex=0><code>sudo apt update
sudo apt install yarn
</code></pre><p>这将一起安装 Yarn 和 node.js。该过程完成后，请验证是否已成功安装 Yarn。 你可以通过检查 Yarn 版本来做到这一点。</p><pre tabindex=0><code>yarn --version
</code></pre><p>对我来说，它显示了这样的输出：</p><pre tabindex=0><code>yarn --version
1.12.3
</code></pre><p>这意味着我的系统上安装了 Yarn 版本 1.12.3。</p><h3 id=使用-yarn>使用 Yarn</h3><p>我假设你对 JavaScript 编程以及依赖项的工作原理有一些基本的了解。我在这里不做详细介绍。我将向你展示一些基本的 Yarn 命令，这些命令将帮助你入门。</p><h4 id=使用-yarn-创建一个新项目>使用 Yarn 创建一个新项目</h4><p>与 <code>npm</code> 一样，Yarn 也可以使用 <code>package.json</code> 文件。在这里添加依赖项。所有依赖包都缓存在项目根目录下的 <code>node_modules</code> 目录中。</p><p>在项目的根目录中，运行以下命令以生成新的 <code>package.json</code> 文件：</p><p>它会问你一些问题。你可以按回车键跳过或使用默认值。</p><pre tabindex=0><code>yarn init
yarn init v1.12.3
question name (test_yarn): test_yarn_proect
question version (1.0.0): 0.1
question description: Test Yarn
question entry point (index.js):
question repository url:
question author: abhishek
question license (MIT):
question private:
success Saved package.json
Done in 82.42s.
</code></pre><p>这样，你就得到了一个如下的 <code>package.json</code> 文件：</p><pre tabindex=0><code>{
 &#34;name&#34;: &#34;test_yarn_proect&#34;,
 &#34;version&#34;: &#34;0.1&#34;,
 &#34;description&#34;: &#34;Test Yarn&#34;,
 &#34;main&#34;: &#34;index.js&#34;,
 &#34;author&#34;: &#34;abhishek&#34;,
 &#34;license&#34;: &#34;MIT&#34;
}
</code></pre><p>现在你有了 <code>package.json</code>，你可以手动编辑它以添加或删除包依赖项，也可以使用 Yarn 命令（首选）。</p><h4 id=使用-yarn-添加依赖项>使用 Yarn 添加依赖项</h4><p>你可以通过以下方式添加对特定包的依赖关系：</p><pre tabindex=0><code>yarn add &lt;包名&gt;
</code></pre><p>例如，如果你想在项目中使用 <a href=https://lodash.com/>Lodash</a>，则可以使用 Yarn 添加它，如下所示：</p><pre tabindex=0><code>yarn add lodash
yarn add v1.12.3
info No lockfile found.
[1/4] Resolving packages…
[2/4] Fetching packages…
[3/4] Linking dependencies…
[4/4] Building fresh packages…
success Saved lockfile.
success Saved 1 new dependency.
info Direct dependencies
└─ [email protected]
info All dependencies
└─ [email protected]
Done in 2.67s.
</code></pre><p>你可以看到，此依赖项已自动添加到 <code>package.json</code> 文件中：</p><pre tabindex=0><code>{
 &#34;name&#34;: &#34;test_yarn_proect&#34;,
 &#34;version&#34;: &#34;0.1&#34;,
 &#34;description&#34;: &#34;Test Yarn&#34;,
 &#34;main&#34;: &#34;index.js&#34;,
 &#34;author&#34;: &#34;abhishek&#34;,
 &#34;license&#34;: &#34;MIT&#34;,
 &#34;dependencies&#34;: {
 &#34;lodash&#34;: &#34;^4.17.11&#34;
 }
}
</code></pre><p>默认情况下，Yarn 将在依赖项中添加最新版本的包。如果要使用特定版本，可以在添加时指定。</p><pre tabindex=0><code>yarn add package@version-or-tag
</code></pre><p>像往常一样，你也可以手动更新 <code>package.json</code> 文件。</p><h4 id=使用-yarn-升级依赖项>使用 Yarn 升级依赖项</h4><p>你可以使用以下命令将特定依赖项升级到其最新版本：</p><pre tabindex=0><code>yarn upgrade &lt;包名&gt;
</code></pre><p>它将查看所​​涉及的包是否具有较新的版本，并且会相应地对其进行更新。</p><p>你还可以通过以下方式更改已添加的依赖项的版本：</p><pre tabindex=0><code>yarn upgrade package_name@version_or_tag
</code></pre><p>你还可以使用一个命令将项目的所有依赖项升级到它们的最新版本：</p><pre tabindex=0><code>yarn upgrade
</code></pre><p>它将检查所有依赖项的版本，如果有任何较新的版本，则会更新它们。</p><h4 id=使用-yarn-删除依赖项>使用 Yarn 删除依赖项</h4><p>你可以通过以下方式从项目的依赖项中删除包：</p><pre tabindex=0><code>yarn remove &lt;包名&gt;
</code></pre><h4 id=安装所有项目依赖项>安装所有项目依赖项</h4><p>如果对你 <code>project.json</code> 文件进行了任何更改，则应该运行：</p><pre tabindex=0><code>yarn
</code></pre><p>或者，</p><pre tabindex=0><code>yarn install
</code></pre><p>一次安装所有依赖项。</p><h3 id=如何从-ubuntu-或-debian-中删除-yarn>如何从 Ubuntu 或 Debian 中删除 Yarn</h3><p>我将通过介绍从系统中删除 Yarn 的步骤来完成本教程，如果你使用上述步骤安装 Yarn 的话。如果你意识到不再需要 Yarn 了，则可以将它删除。</p><p>使用以下命令删除 Yarn 及其依赖项。</p><pre tabindex=0><code>sudo apt purge yarn
</code></pre><p>你也应该从源列表中把存储库信息一并删除掉：</p><pre tabindex=0><code>sudo rm /etc/apt/sources.list.d/yarn.list
</code></pre><p>下一步删除已添加到受信任密钥的 GPG 密钥是可选的。但要做到这一点，你需要知道密钥。你可以使用 <code>apt-key</code> 命令获得它：</p><pre tabindex=0><code>Warning: apt-key output should not be parsed (stdout is not a terminal) pub   rsa4096 2016-10-05 [SC]       72EC F46A 56B4 AD39 C907  BBB7 1646 B01B 86E5 0310 uid           [ unknown] Yarn Packaging yarn@dan.cx sub   rsa4096 2016-10-05 [E] sub   rsa4096 2019-01-02 [S] [expires: 2020-02-02]
</code></pre><p>这里的密钥是以 <code>pub</code> 开始的行中 GPG 密钥指纹的最后 8 个字符。</p><p>因此，对于我来说，密钥是 <code>86E50310</code>，我将使用以下命令将其删除：</p><pre tabindex=0><code>sudo apt-key del 86E50310
</code></pre><p>你会在输出中看到 <code>OK</code>，并且 Yarn 包的 GPG 密钥将从系统信任的 GPG 密钥列表中删除。</p><p>我希望本教程可以帮助你在 Ubuntu、Debian、Linux Mint、 elementary OS 等操作系统上安装 Yarn。 我提供了一些基本的 Yarn 命令，以帮助你入门，并完成了从系统中删除 Yarn 的完整步骤。</p><p>希望你喜欢本教程，如果有任何疑问或建议，请随时在下面留言。</p><hr><p>via: <a href=https://itsfoss.com/install-yarn-ubuntu>https://itsfoss.com/install-yarn-ubuntu</a></p><p>作者：<a href=https://itsfoss.com/author/abhishek/>Abhishek Prakash</a> 选题：<a href=https://github.com/lujun9972>lujun9972</a> 译者：<a href=https://github.com/gxlct008>gxlct008</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/npm/ rel=tag>npm</a></li><li class=tags__item><a class="tags__link btn" href=/tags/yarn/ rel=tag>Yarn</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>