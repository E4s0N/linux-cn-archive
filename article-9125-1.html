<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>如何在 Linux 上安装友好的交互式 shell：Fish - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="如何在 Linux 上安装友好的交互式 shell：Fish"><meta property="og:description" content="Fish 有着很多重要的功能，比如自动建议、语法高亮、可搜索的历史记录（像在 bash 中 CTRL+r）、智能搜索功能、极好的 VGA 颜色支持、基于 web 的设置方式、完善的手册页和许多开箱即用的功能。"><meta property="og:type" content="article"><meta property="og:url" content="/article-9125-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-12-10T09:54:58+00:00"><meta property="article:modified_time" content="2017-12-10T09:54:58+00:00"><meta itemprop=name content="如何在 Linux 上安装友好的交互式 shell：Fish"><meta itemprop=description content="Fish 有着很多重要的功能，比如自动建议、语法高亮、可搜索的历史记录（像在 bash 中 CTRL+r）、智能搜索功能、极好的 VGA 颜色支持、基于 web 的设置方式、完善的手册页和许多开箱即用的功能。"><meta itemprop=datePublished content="2017-12-10T09:54:58+00:00"><meta itemprop=dateModified content="2017-12-10T09:54:58+00:00"><meta itemprop=wordCount content="415"><meta itemprop=keywords content="fish,shell,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>如何在 Linux 上安装友好的交互式 shell：Fish</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2017-12-10T09:54:58Z>December 10, 2017</time></div></div></header><div class="content post__content clearfix"><p><img src=/data/attachment/album/201712/10/095452wue3h33xvchfe3yj.jpg alt></p><p>Fish， 友好的交互式 shell Friendly Interactive SHell 的缩写，它是一个适于装备于类 Unix 系统的智能而用户友好的 shell。Fish 有着很多重要的功能，比如自动建议、语法高亮、可搜索的历史记录（像在 bash 中 <code>CTRL+r</code>）、智能搜索功能、极好的 VGA 颜色支持、基于 web 的设置方式、完善的手册页和许多开箱即用的功能。尽管安装并立即使用它吧。无需更多其他配置，你也不需要安装任何额外的附加组件/插件!</p><p>在这篇教程中，我们讨论如何在 Linux 中安装和使用 fish shell。</p><h4 id=安装-fish>安装 Fish</h4><p>尽管 fish 是一个非常用户友好的并且功能丰富的 shell，但并没有包括在大多数 Linux 发行版的默认仓库中。它只能在少数 Linux 发行版中的官方仓库中找到，如 Arch Linux，Gentoo，NixOS，和 Ubuntu 等。然而，安装 fish 并不难。</p><p>在 Arch Linux 和它的衍生版上，运行以下命令来安装它。</p><pre tabindex=0><code>sudo pacman -S fish
</code></pre><p>在 CentOS 7 上以 root 运行以下命令：</p><pre tabindex=0><code>cd /etc/yum.repos.d/
wget https://download.opensuse.org/repositories/shells:fish:release:2/CentOS_7/shells:fish:release:2.repo
yum install fish
</code></pre><p>在 CentOS 6 上以 root 运行以下命令：</p><pre tabindex=0><code>cd /etc/yum.repos.d/
wget https://download.opensuse.org/repositories/shells:fish:release:2/CentOS_6/shells:fish:release:2.repo
yum install fish
</code></pre><p>在 Debian 9 上以 root 运行以下命令：</p><pre tabindex=0><code>wget -nv https://download.opensuse.org/repositories/shells:fish:release:2/Debian_9.0/Release.key -O Release.key
apt-key add - &lt; Release.key
echo &#39;deb http://download.opensuse.org/repositories/shells:/fish:/release:/2/Debian_9.0/ /&#39; &gt; /etc/apt/sources.list.d/fish.list
apt-get update
apt-get install fish
</code></pre><p>在 Debian 8 上以 root 运行以下命令：</p><pre tabindex=0><code>wget -nv https://download.opensuse.org/repositories/shells:fish:release:2/Debian_8.0/Release.key -O Release.key
apt-key add - &lt; Release.key
echo &#39;deb http://download.opensuse.org/repositories/shells:/fish:/release:/2/Debian_8.0/ /&#39; &gt; /etc/apt/sources.list.d/fish.list
apt-get update
apt-get install fish
</code></pre><p>在 Fedora 26 上以 root 运行以下命令：</p><pre tabindex=0><code>dnf config-manager --add-repo https://download.opensuse.org/repositories/shells:fish:release:2/Fedora_26/shells:fish:release:2.repo
dnf install fish
</code></pre><p>在 Fedora 25 上以 root 运行以下命令：</p><pre tabindex=0><code>dnf config-manager --add-repo https://download.opensuse.org/repositories/shells:fish:release:2/Fedora_25/shells:fish:release:2.repo
dnf install fish
</code></pre><p>在 Fedora 24 上以 root 运行以下命令：</p><pre tabindex=0><code>dnf config-manager --add-repo https://download.opensuse.org/repositories/shells:fish:release:2/Fedora_24/shells:fish:release:2.repo
dnf install fish
</code></pre><p>在 Fedora 23 上以 root 运行以下命令：</p><pre tabindex=0><code>dnf config-manager --add-repo https://download.opensuse.org/repositories/shells:fish:release:2/Fedora_23/shells:fish:release:2.repo
dnf install fish
</code></pre><p>在 openSUSE 上以 root 运行以下命令：</p><pre tabindex=0><code>zypper install fish
</code></pre><p>在 RHEL 7 上以 root 运行以下命令：</p><pre tabindex=0><code>cd /etc/yum.repos.d/
wget https://download.opensuse.org/repositories/shells:fish:release:2/RHEL_7/shells:fish:release:2.repo
yum install fish
</code></pre><p>在 RHEL-6 上以 root 运行以下命令：</p><pre tabindex=0><code>cd /etc/yum.repos.d/
wget https://download.opensuse.org/repositories/shells:fish:release:2/RedHat_RHEL-6/shells:fish:release:2.repo
yum install fish
</code></pre><p>在 Ubuntu 和它的衍生版上：</p><pre tabindex=0><code>sudo apt-get update
sudo apt-get install fish
</code></pre><p>就这样了。是时候探索 fish shell 了。</p><h3 id=用法>用法</h3><p>要从你默认的 shell 切换到 fish,请执行以下操作：</p><pre tabindex=0><code>$ fish
Welcome to fish, the friendly interactive shell
</code></pre><p>你可以在 <code>~/.config/fish/config.fish</code> 上找到默认的 fish 配置（类似于 <code>.bashrc</code>）。如果它不存在，就创建它吧。</p><h4 id=自动建议>自动建议</h4><p>当我输入一个命令，它以浅灰色自动建议一个命令。所以，我需要输入一个 Linux 命令的前几个字母，然后按下 <code>tab</code> 键来完成这个命令。</p><p><a href=http://www.ostechnix.com/wp-content/uploads/2017/12/fish-1.png><img src=/data/attachment/album/201712/10/095500v6i90bpp0ljbpd0d.png alt></a></p><p>如果有更多的可能性，它将会列出它们。你可以使用上/下箭头键从列表中选择列出的命令。在选择你想运行的命令后，只需按下右箭头键，然后按下 <code>ENTER</code> 运行它。</p><p><a href=http://www.ostechnix.com/wp-content/uploads/2017/12/fish-2.png><img src=/data/attachment/album/201712/10/095501tjqhwzee9wfejzjj.png alt></a></p><p>无需 <code>CTRL+r</code> 了！正如你已知道的，我们通过按 <code>CTRL+r</code> 来反向搜索 Bash shell 中的历史命令。但在 fish shell 中是没有必要的。由于它有自动建议功能，只需输入命令的前几个字母，然后从历史记录中选择已经执行的命令。很酷，是吧。</p><h4 id=智能搜索>智能搜索</h4><p>我们也可以使用智能搜索来查找一个特定的命令、文件或者目录。例如，我输入一个命令的一部分，然后按向下箭头键进行智能搜索，再次输入一个字母来从列表中选择所需的命令。</p><p><a href=http://www.ostechnix.com/wp-content/uploads/2017/12/fish-6.png><img src=/data/attachment/album/201712/10/095502awnlbpfncww3y6a6.png alt></a></p><h4 id=语法高亮>语法高亮</h4><p>当你输入一个命令时，你将注意到语法高亮。请看下面当我在 Bash shell 和 fish shell 中输入相同的命令时截图的区别。</p><p>Bash：</p><p><a href=http://www.ostechnix.com/wp-content/uploads/2017/12/fish-3.png><img src=/data/attachment/album/201712/10/095502a2t39ga6at606sat.png alt></a></p><p>Fish：</p><p><a href=http://www.ostechnix.com/wp-content/uploads/2017/12/fish-4.png><img src=/data/attachment/album/201712/10/095503erppvpp0spppvz22.png alt></a></p><p>正如你所看到的，<code>sudo</code> 在 fish shell 中已经被高亮显示。此外，默认情况下它将以红色显示无效命令。</p><h4 id=基于-web-的配置方式>基于 web 的配置方式</h4><p>这是 fish shell 另一个很酷的功能。我们可以设置我们的颜色、更改 fish 提示符，并从网页上查看所有功能、变量、历史记录、键绑定。</p><p>启动 web 配置接口，只需输入：</p><pre tabindex=0><code>fish_config
</code></pre><p><a href=http://www.ostechnix.com/wp-content/uploads/2017/12/fish-5.png><img src=/data/attachment/album/201712/10/095504m8hemphbb87pp517.png alt></a></p><h4 id=手册页补完>手册页补完</h4><p>Bash 和 其它 shells 支持可编程的补完，但只有 fish 可以通过解析已安装的手册来自动生成它们。</p><p>为此，请运行：</p><pre tabindex=0><code>fish_update_completions
</code></pre><p>实例输出将是：</p><pre tabindex=0><code>Parsing man pages and writing completions to /home/sk/.local/share/fish/generated_completions/
 3435 / 3435 : zramctl.8.gz
</code></pre><h4 id=禁用问候语>禁用问候语</h4><p>默认情况下，fish 在启动时问候你（“Welcome to fish, the friendly interactive shell”）。如果你不想要这个问候消息，可以禁用它。为此，编辑 fish 配置文件：</p><pre tabindex=0><code>vi ~/.config/fish/config.fish
</code></pre><p>添加以下行：</p><pre tabindex=0><code>set -g -x fish_greeting &#39;&#39;
</code></pre><p>你也可以设置任意自定义的问候语，而不是禁用 fish 问候。</p><pre tabindex=0><code>set -g -x fish_greeting &#39;Welcome to OSTechNix&#39;
</code></pre><h4 id=获得帮助>获得帮助</h4><p>这是另一个吸引我的令人印象深刻的功能。要在终端的默认 web 浏览器中打开 fish 文档页面，只需输入：</p><pre tabindex=0><code>help
</code></pre><p>官方文档将会在你的默认浏览器中打开。另外，你可以使用手册页来显示任何命令的帮助部分。</p><pre tabindex=0><code>man fish
</code></pre><h4 id=设置-fish-为默认-shell>设置 fish 为默认 shell</h4><p>非常喜欢它？太好了！设置它作为默认 shell 吧。为此，请使用命令 <code>chsh</code>：</p><pre tabindex=0><code>chsh -s /usr/bin/fish
</code></pre><p>在这里，<code>/usr/bin/fish</code> 是 fish shell 的路径。如果你不知道正确的路径，以下命令将会帮助你：</p><pre tabindex=0><code>which fish
</code></pre><p>注销并且重新登录以使用新的默认 shell。</p><p>请记住，为 Bash 编写的许多 shell 脚本可能不完全兼容 fish。</p><p>要切换回 Bash，只需运行：</p><pre tabindex=0><code>bash
</code></pre><p>如果你想 Bash 作为你的永久默认 shell，运行：</p><pre tabindex=0><code>chsh -s /bin/bash
</code></pre><p>各位，这就是全部了。在这个阶段，你可能会得到一个有关 fish shell 使用的基本概念。 如果你正在寻找一个Bash的替代品，fish 可能是一个不错的选择。</p><p>Cheers!</p><p>资源:</p><ul><li><a href=https://fishshell.com/>fish shell 官网</a></li></ul><hr><p>via: <a href=https://www.ostechnix.com/install-fish-friendly-interactive-shell-linux/>https://www.ostechnix.com/install-fish-friendly-interactive-shell-linux/</a></p><p>作者：<a href=https://www.ostechnix.com/author/sk/>SK</a> 译者：<a href=https://github.com/kimii>kimii</a> 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/fish/ rel=tag>fish</a></li><li class=tags__item><a class="tags__link btn" href=/tags/shell/ rel=tag>shell</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>