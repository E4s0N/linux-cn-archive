<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>i3 窗口管理器终极定制指南 - Linux.cn Archive</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="i3 窗口管理器终极定制指南"><meta property="og:description" content="在这份超详细的指南中了解如何通过 i3 窗口管理器来自定义系统的外观和体验。"><meta property="og:type" content="article"><meta property="og:url" content="/article-15955-1.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-30T10:26:00+00:00"><meta property="article:modified_time" content="2023-06-30T10:26:00+00:00"><meta itemprop=name content="i3 窗口管理器终极定制指南"><meta itemprop=description content="在这份超详细的指南中了解如何通过 i3 窗口管理器来自定义系统的外观和体验。"><meta itemprop=datePublished content="2023-06-30T10:26:00+00:00"><meta itemprop=dateModified content="2023-06-30T10:26:00+00:00"><meta itemprop=wordCount content="3122"><meta itemprop=keywords content="定制,i3,"><link rel=preconnect href=https://fonts.bunny.net crossorigin><link rel=dns-prefetch href=//fonts.bunny.net><link rel=dns-prefetch href=//fonts.bunny.net><link rel=stylesheet href="https://fonts.bunny.net/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title="Linux.cn Archive" rel=home><div class="logo__item logo__text"><div class=logo__title>Linux.cn Archive</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/><span class=menu__text>Home</span></a></li><li class=menu__item><a class=menu__link href=/categories/><span class=menu__text>Categories</span></a></li><li class=menu__item><a class=menu__link href=/tags/><span class=menu__text>Tags</span></a></li><li class=menu__item><a class=menu__link href><span class=menu__text>RSS</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>i3 窗口管理器终极定制指南</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2023-06-30T10:26:00Z>June 30, 2023</time></div></div></header><div class="content post__content clearfix"><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102801n3z6gasul1lliwz0.jpg alt></p><blockquote><p>在这份超详细的指南中了解如何通过 i3 窗口管理器来自定义系统的外观和体验。</p></blockquote><p>你可能在网上（尤其是通过 <code>r/unixporn</code> 子区）看到过很多炫酷的截图，用户可以根据个人喜好自定义他们的桌面并与大家分享。</p><p>这是因为 Linux 允许你自定义桌面体验的方方面面。</p><p>而结果？就是比任何 Mac 或 Windows 系统<strong>更具视觉和感知效果</strong>。</p><p>来看一下这个 ?</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102820uocpcshfuyf888yr.jpg alt></p><p><strong>看起来像一个 Linux Mint 系统吗？</strong> ?</p><p>但是你怎样才能做到这样呢？<strong>自定义你的 Linux 桌面外观是很困难的</strong>。</p><p>答案就在于 <strong>窗口管理器</strong>。如果你能配置好窗口管理器，你就能自定义外观。</p><p>在本指南中，我将引导你完成使用 <strong>i3 窗口管理器</strong> 进行基本配置。它是 <a href=https://itsfoss.com/best-window-managers/>Linux 上最好的窗口管理器之一</a>。</p><blockquote><p>? “ 加料 Rice ” 是一个常用的词汇，用来指代在桌面上进行视觉改进和自定义。<strong>引用自</strong> <a href=https://www.reddit.com/r/unixporn>/r/unixporn</a> （LCTT 译注：“加料”一词来自于购买便宜的亚洲汽车，并给它们安装售后零件，以让它更好地类似于赛车。）</p></blockquote><p>在遵循本指南之前，你需要了解以下内容：</p><ul><li>在本指南中，<strong>我将使用 Arch Linux</strong> 来演示步骤，但你可以使用你喜欢的任何发行版，结果也是一样的。</li><li>请记住，本指南是 <strong>对 i3 进行“加料”定制的基础</strong>。</li></ul><p>在按照本指南进行操作后，你应该得到以下预期结果：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102821zq7ttqtktfu7pkqb.png alt="如何在 Linux 中配置 i3 窗口管理器、i3blocks 和 i3gaps"></p><blockquote><p>? 为了节省你的时间，我已经在 <a href=https://github.com/itsfoss/text-files/tree/master/i3_config_files>GitHub</a> 上上传了与本文相关的所有 i3 配置文件，你可以通过这些文件实现我们在本文中所期望的最终外观。</p></blockquote><blockquote><p><strong><a href=https://github.com/itsfoss/text-files/tree/master/i3_config_files>下载 i3 配置文件</a></strong></p></blockquote><p><strong>首先</strong>，让我们开始安装 <strong>i3 窗口管理器</strong>。</p><h3 id=在-linux-上安装-i3-窗口管理器>在 Linux 上安装 i3 窗口管理器</h3><p>基于 Ubuntu/Debian：</p><pre tabindex=0><code>sudo apt install xorg lightdm lightdm-gtk-greeter i3-wm i3lock i3status i3blocks dmenu terminator
</code></pre><p>Arch Linux：</p><pre tabindex=0><code>sudo pacman -S xorg lightdm lightdm-gtk-greeter i3-wm i3lock i3status i3blocks dmenu terminator
</code></pre><p>当你完成安装后，使用以下命令启用 lightdm 服务：</p><pre tabindex=0><code>sudo systemctl enable lightdm.service
</code></pre><p>然后启动 lightdm 服务：</p><pre tabindex=0><code>sudo systemctl start lightdm.service
</code></pre><p>这将启动 lightdm 登录界面，并要求你输入用户名密码。</p><p>如果你安装了多个桌面环境，你可以从选择菜单中选择 i3：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102822t5et88z1k5158u7f.png alt="在 Arch Linux 上使用 lightdm 使用 i3 窗口管理器"></p><p>当首次登录 i3 时，它会询问你是否要创建一个 i3 配置文件。</p><p>按下回车键创建一个新的 i3 配置文件：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102822hnnnomobnrnerwub.png alt="生成 i3 配置文件"></p><p>接下来，它会询问你选择 <code>Win</code> 或 <code>Alt</code> 键哪个作为修饰键（<code>mod</code>）。</p><p>我建议你选择 <code>Win</code>（或者 <code>Super</code> 键），因为大多数用户已经习惯将其用作快捷键：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102823rd00ll9fd0sdfnqd.png alt></p><p>现在你可以开始使用 i3 窗口管理器了。</p><p>但在我们开始定制之前，让我先介绍一下你如何使用 i3。</p><h3 id=i3-窗口管理器的按键绑定>i3 窗口管理器的按键绑定</h3><p>让我们从基础知识开始。</p><p>窗口管理器的基本功能是将多个窗口水平和垂直地组合在一起，这样你就可以同时监视多个进程。</p><p>结果是这样的：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102823pdthka1ttmbmyw9h.png alt="在 Arch Linux 上使用 i3"></p><p>你可以使用以下按键绑定执行更多操作：</p><table><thead><tr><th>按键绑定</th><th>描述</th></tr></thead><tbody><tr><td><code>Mod + Enter</code></td><td>打开终端。</td></tr><tr><td><code>Mod + ←</code></td><td>切换到左侧窗口。</td></tr><tr><td><code>Mod + →</code></td><td>切换到右侧窗口。</td></tr><tr><td><code>Mod + ↑</code></td><td>切换到上方窗口。</td></tr><tr><td><code>Mod + ↓</code></td><td>切换到下方窗口。</td></tr><tr><td><code>Mod + Shift + ←</code></td><td>将窗口移动到左侧。</td></tr><tr><td><code>Mod + Shift + →</code></td><td>将窗口移动到右侧。</td></tr><tr><td><code>Mod + Shift + ↑</code></td><td>将窗口移动到上方。</td></tr><tr><td><code>Mod + Shift + ↓</code></td><td>将窗口移动到下方。</td></tr><tr><td><code>Mod + f</code></td><td>将焦点窗口切换到全屏模式。</td></tr><tr><td><code>Mod + v</code></td><td>下一个窗口将垂直放置。</td></tr><tr><td><code>Mod + h</code></td><td>下一个窗口将水平放置。</td></tr><tr><td><code>Mod + s</code></td><td>启用堆叠式窗口布局。</td></tr><tr><td><code>Mod + w</code></td><td>启用选项卡式窗口布局。</td></tr><tr><td><code>Mod + Shift + Space</code></td><td>启用浮动窗口（针对焦点窗口）。</td></tr><tr><td><code>Mod + 鼠标左键单击</code></td><td>使用鼠标拖动整个窗口。</td></tr><tr><td><code>Mod + 0-9</code></td><td>切换到另一个工作区。</td></tr><tr><td><code>Mod + Shift + 0-9</code></td><td>将窗口移动到另一个工作区。</td></tr><tr><td><code>Mod + d</code></td><td>打开应用程序启动器（D 菜单）。</td></tr><tr><td><code>Mod + Shift + q</code></td><td>关闭焦点窗口。</td></tr><tr><td><code>Mod + Shift + c</code></td><td>重新加载 i3 配置文件。</td></tr><tr><td><code>Mod + Shift + r</code></td><td>重启 i3 窗口管理器。</td></tr><tr><td><code>Mod + Shift + e</code></td><td>退出 i3 窗口管理器。</td></tr></tbody></table><p>我知道按键绑定很多，但如果你每天练习它们，你很快就会习惯。</p><p>如果你想知道，你可以根据需要更改按键绑定，后面的指南中我会分享如何做到这一点。</p><p>现在，让我们来看看配置部分。</p><h3 id=在-arch-linux-中启用-aur>在 Arch Linux 中启用 AUR</h3><p>如果你刚刚安装了 Arch Linux，可能还没有启用 AUR。</p><p>这意味着你错过了 Arch Linux 最重要的特性。</p><p>要 <a href=https://itsfoss.com/aur-arch-linux/>启用 AUR</a>，你需要使用 AUR 包管理器。在这里，我将使用 <code>yay</code>。</p><p>首先，安装 <code>git</code>：</p><pre tabindex=0><code>sudo pacman -S git
</code></pre><p>现在，克隆 <code>yay</code> 存储库并切换到 <code>yay</code> 目录：</p><pre tabindex=0><code>git clone https://aur.archlinux.org/yay-git.git &amp;&amp; cd yay
</code></pre><p>最后，构建包：</p><pre tabindex=0><code>makepkg -si
</code></pre><p>还有其他一些 <a href=https://itsfoss.com/best-aur-helpers/>AUR 包管理器</a>，比如 Paru，如果你想使用除 <code>yay</code> 之外的其他工具，你可以继续或者探索其他选项。</p><h3 id=更改-i3-窗口管理器的分辨率>更改 i3 窗口管理器的分辨率</h3><p>如果你使用虚拟机运行窗口管理器，可能会遇到问题，尤其是显示分辨率可能被锁定在 <code>1024x768</code> 上，就像我一样。</p><p>因此，你需要执行以下命令，指定所需的显示分辨率：</p><pre tabindex=0><code>xrandr --output [显示名称] --mode [分辨率]
</code></pre><p>要找到已连接显示器的名称，你需要使用以下形式的 <code>xrandr</code> 命令：</p><pre tabindex=0><code>xrandr | grep -w &#39;connected&#39;
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102857zxxtczz82tbzipnd.png alt="在 i3 中查找已连接显示器"></p><p>在我的情况下，显示名称是 <code>Virtual-1</code>。</p><p>因此，如果我想将分辨率更改为 <code>1920*1080</code>，我需要执行以下命令：</p><pre tabindex=0><code>xrandr --output Virtual-1 --mode 1920x1080
</code></pre><p><strong>但这只是暂时生效</strong>。要使其永久生效，你需要在 i3 配置文件中进行更改。</p><p>首先，打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>通过按下 <code>Alt + /</code> 来在 <code>nano</code> 中 <a href=https://linuxhandbook.com/beginning-end-file-nano/>跳到文件末尾</a>，并使用以下语法来永久更改显示分辨率：</p><pre tabindex=0><code># 显示分辨率
exec_always xrandr --output [显示名称] --mode [分辨率]
</code></pre><p>结果应该是这样的：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102857ezeazoaha70u423l.png alt="在 i3 中永久更改显示分辨率"></p><p>完成后，<a href=https://linuxhandbook.com/nano-save-exit/>保存更改并退出 nano</a> 文本编辑器。</p><p>现在，使用 <code>Mod + Shift + r</code> 重新启动 i3 窗口管理器，以使你对配置文件所做的更改生效！</p><h3 id=在-i3-窗口管理器中更改壁纸>在 i3 窗口管理器中更改壁纸</h3><p>默认情况下，i3 的外观比较陈旧，你可能想切换回之前的桌面环境。</p><p>但是通过更改壁纸，你可以改变整个系统的氛围。</p><p>在 i3 中有多种方式可以更改壁纸，但在这里，我将向你展示如何使用 <code>feh</code> 实用工具。</p><p>首先，让我们从安装开始：</p><p>对于基于 <strong>Arch 的发行版</strong>：</p><pre tabindex=0><code>sudo pacman -S feh
</code></pre><p>对于 <strong>Ubuntu/Debian</strong> 系的发行版：</p><pre tabindex=0><code>sudo apt install feh
</code></pre><p>安装完成后，你可以从互联网上下载你喜欢的壁纸。接下来，<strong>打开 i3 配置文件</strong>：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>跳到文件的末尾，使用如下所示的 <code>feh</code> 命令：</p><pre tabindex=0><code># 显示壁纸
exec_always feh --bg-fill /path/to/wallpaper
</code></pre><p>在我的情况下，壁纸位于 <code>Downloads</code> 目录中，所以我的命令如下：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102857dstn6m5zz7a34rrn.png alt="使用 feh 实用工具在 I3 窗口管理器中更改背景"></p><p>保存更改并退出 <code>nano</code> 文本编辑器。</p><p>为了使配置文件的更改生效，使用 <code>Mod + Shift + r</code> 重新启动 i3 窗口管理器。</p><p>我的效果如下：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102857x7quo1u1juj7jyyo.png alt="在 i3 窗口管理器中更改壁纸"></p><h3 id=自定义-i3-锁屏界面>自定义 i3 锁屏界面</h3><p>默认情况下，如果你想锁定系统，你需要执行以下命令：</p><pre tabindex=0><code>i3lock
</code></pre><p>锁屏界面如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102858men99bu3enni9q54.gif alt="锁定 i3 窗口管理器"></p><p>下面，我将向你展示：</p><ul><li>如何创建自定义快捷方式以锁定 i3 会话</li><li>如何更改锁屏界面的壁纸</li></ul><p>为了使锁屏界面更加美观，你需要使用 <code>i3lock-color</code> 包。</p><p>但首先，你需要移除现有的 <code>i3lock</code>，因为它会与 <code>i3lock-color</code> 冲突：</p><p>在 Arch Linux 上移除它：</p><pre tabindex=0><code>sudo pacman -R i3lock
</code></pre><p>对于 Ubuntu/Debian 用户：</p><pre tabindex=0><code>sudo apt remove i3lock
</code></pre><p>完成后，你可以使用 AUR 包管理器安装 <code>i3lock-color</code>：</p><pre tabindex=0><code>yay i3lock-color
</code></pre><p>如果你使用的是基于 Ubuntu 的系统，你需要从头编译它。你可以在他们的 GitHub 页面上找到 <a href=https://github.com/Raymo111/i3lock-color>详细的说明</a>。</p><p>安装完成后，让我们创建一个新目录并创建一个新文件来存储锁屏界面的配置：</p><p>安装好 <code>i3lock-color</code> 后，你可以创建一个新目录并创建一个新文件来存储锁屏界面的配置：</p><pre tabindex=0><code>mkdir ~/.config/scripts &amp;&amp; nano ~/.config/scripts/lock
</code></pre><p>将以下文件内容粘贴到文件中，定义锁屏界面的样式：</p><pre tabindex=0><code>#!/bin/sh

BLANK=&#39;#00000000&#39;
CLEAR=&#39;#ffffff22&#39;
DEFAULT=&#39;#00897bE6&#39;
TEXT=&#39;#00897bE6&#39;
WRONG=&#39;#880000bb&#39;
VERIFYING=&#39;#00564dE6&#39;

i3lock \
--insidever-color=$CLEAR     \
--ringver-color=$VERIFYING   \
\
--insidewrong-color=$CLEAR   \
--ringwrong-color=$WRONG     \
\
--inside-color=$BLANK        \
--ring-color=$DEFAULT        \
--line-color=$BLANK          \
--separator-color=$DEFAULT   \
\
--verif-color=$TEXT          \
--wrong-color=$TEXT          \
--time-color=$TEXT           \
--date-color=$TEXT           \
--layout-color=$TEXT         \
--keyhl-color=$WRONG         \
--bshl-color=$WRONG          \
\
--screen 1                   \
--blur 9                     \
--clock                      \
--indicator                  \
--time-str=&#34;%H:%M:%S&#34;        \
--date-str=&#34;%A, %Y-%m-%d&#34;       \
--keylayout 1                \
</code></pre><p>保存更改并退出文本编辑器。</p><blockquote><p>? 在网上可以找到各种不同的 i3 锁屏样式的 bash 脚本。这只是一个示例，对于大多数情况来说是一个较为简单的选项。</p></blockquote><p>现在，使用 <a href=https://linuxhandbook.com/chmod-command/>chmod 命令</a> 将该文件设置为可执行文件：</p><pre tabindex=0><code>sudo chmod +x .config/scripts/lock
</code></pre><p>接下来，你需要对配置文件进行一些更改，以添加该配置文件的路径以使其生效。</p><p>此外，我将向你展示如何使用自定义键盘快捷键锁定屏幕。</p><p>首先，打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>使用 <code>Alt + /</code> 跳至行尾并粘贴以下内容：</p><pre tabindex=0><code># 锁屏快捷键
bindsym $mod+x exec /home/$USER/.config/scripts/lock
</code></pre><p>在上面的示例中，我将 <code>mod + x</code> 作为锁定屏幕的快捷键，你可以选择任何你喜欢的快捷键。</p><p>最后的配置文件将如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102858rkjukk79wzkwy865.png alt="如何在 Arch Linux 中使用 i3lock-color"></p><p>相当不错，不是吗？</p><h3 id=在-i3-窗口管理器中更改主题和图标>在 i3 窗口管理器中更改主题和图标</h3><p>我知道你可能会想到这个问题。</p><p>你为什么需要图标呢？你并不仅仅使用窗口管理器来使用命令行工具。</p><p>有时候，使用图形界面更加方便，比如使用文件管理器。所以，在处理这些工具时，你希望界面看起来更好看？</p><p>因此，在本部分中，我将向你展示：</p><ul><li>如何在 i3 中更改主题</li><li>如何在 i3 中更改图标</li></ul><p>让我们从安装主题开始。</p><p>在这里，我将使用 <code>materia-gtk-theme</code> 和 <code>papirus</code> 图标，但你可以使用任何你喜欢的主题和图标。</p><p>在 Arch 中安装主题，使用以下命令：</p><pre tabindex=0><code>sudo pacman -S materia-gtk-theme papirus-icon-theme
</code></pre><p>在 Ubuntu/Debian 系统中：</p><pre tabindex=0><code>sudo apt install materia-gtk-theme papirus-icon-theme
</code></pre><p>但仅仅安装还不能完成任务。<strong>你需要像使用 GNOME “ 调整 Tweaks ” 应用更改主题一样来应用主题。</strong></p><p><strong>在 i3 中，你可以使用 <code>lxappearance</code> 工具</strong> 来更改主题和图标。</p><p>在 Arch 中安装 <code>lxappearance</code>，使用以下命令：</p><pre tabindex=0><code>sudo pacman -S lxappearance
</code></pre><p>在 Ubuntu/Debian 系统中：</p><pre tabindex=0><code>sudo apt install lxappearance
</code></pre><p>安装完成后，使用 <code>Mod + d</code> 启动 D 菜单，然后输入 <code>lxappearance</code>，并在第一个结果上按回车键。</p><p>在这里，选择你喜欢的主题。我这里选择 <code>Materia-dark</code>。</p><p>选择主题后，点击应用按钮以应用更改：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102858o9c9o59k9zk7c9ia.png alt></p><p>同样地，要更改图标，选择 “ 图标主题 Icon Theme ”，选择图标主题，然后点击应用按钮：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102859pfgywww1a6yfswg9.png alt="使用 lxappearance 更改 i3 窗口管理器中的图标"></p><p>应用主题和图标后，我的文件管理器如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102859dsg97i9ngxxgza5o.png alt="在 i3 窗口管理器中更改主题和图标"></p><h3 id=在-i3-窗口管理器中为工作区设置图标>在 i3 窗口管理器中为工作区设置图标</h3><p>默认情况下，工作区仅由数字表示，这并不是你想要使用工作区的最理想方式。</p><p>因此，在本部分中，我将引导你如何使用合适的图标更改工作区的名称。</p><p>为了在配置文件中使用图标，首先你需要安装名为 <code>Awesome</code> 的新字体：</p><p>对于基于 Arch 的发行版：</p><pre tabindex=0><code>sudo pacman -S ttf-font-awesome
</code></pre><p>对于 Ubuntu/Debian 系统：</p><pre tabindex=0><code>sudo apt install fonts-font-awesome
</code></pre><p>安装完成后，打开 i3 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>在这个配置文件中，找到工作区的部分，你将会看到为每个工作区给出的变量：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102931n80bo8eowvszz040.png alt="在 i3 配置文件中的工作区变量"></p><p>在这个部分，你需要用你想要的名称替换给出的工作区数字。</p><p>我将把第一个工作区命名为 “programs”，因为<strong>在本教程的后面部分，我将展示如何将特定的应用程序分配到特定的工作区。</strong></p><p>我主要使用前 5 个工作区，所以我会相应地命名它们：</p><pre tabindex=0><code># 定义默认工作区的名称，稍后我们将在其中配置键绑定。
# 我们使用变量来避免在多个地方重复使用名称。
set $ws1 &#34;1: Terminal&#34;
set $ws2 &#34;2: Firefox&#34;
set $ws3 &#34;3: VMWare&#34;
set $ws4 &#34;4: Spotify&#34;
set $ws5 &#34;5: Shutter&#34;
set $ws6 &#34;6&#34;
set $ws7 &#34;7&#34;
set $ws8 &#34;8&#34;
set $ws9 &#34;9&#34;
set $ws10 &#34;10&#34;
</code></pre><p>现在让我们为配置文件中提到的每个应用程序添加图标。</p><p>你可以 <a href=https://fontawesome.com/v5/cheatsheet>参考 awesome 字体的备忘单</a> 来找到合适的图标。</p><p>将图标复制粘贴到名称前面：</p><pre tabindex=0><code># 定义默认工作区的名称，稍后我们将在其中配置键绑定。
# 我们使用变量来避免在多个地方重复使用名称。
set $ws1 &#34;1:  Terminal&#34;
set $ws2 &#34;2:  Firefox&#34;
set $ws3 &#34;3:  VMWare&#34;
set $ws4 &#34;4:  Spotify&#34;
set $ws5 &#34;5:  Shutter&#34;
set $ws6 &#34;6&#34;
set $ws7 &#34;7&#34;
set $ws8 &#34;8&#34;
set $ws9 &#34;9&#34;
set $ws10 &#34;10&#34;
</code></pre><p>不要担心它看起来可怕！</p><p>完成后，使用 <code>Mod + e</code> 退出 i3，然后再次登录以应用你刚刚所做的更改。</p><p>我的效果如下图所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102931wsbrrwobbm2s5i2t.png alt></p><p>字体看起来太小？是时候解决这个问题了！</p><h3 id=在-i3-中更改标题窗口和状态栏的字体>在 i3 中更改标题窗口和状态栏的字体</h3><p>首先，让我们安装新的字体（我将在这里使用 Ubuntu 字体）。</p><p>要在 Arch 上安装 Ubuntu 字体，请执行以下操作：</p><pre tabindex=0><code>sudo pacman -S ttf-ubuntu-font-family
</code></pre><p>如果你使用的是 Ubuntu，你已经安装了这些字体！</p><p>安装完成后，打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>在配置文件中，找到 <code>font pango:monospace 8</code> 这一行，这是默认字体。</p><p>找到那行后，添加字体名称和大小，如下所示：</p><pre tabindex=0><code>font pango:Ubuntu Regular 14
</code></pre><p>然后，使用 <code>Mod + Shift + r</code> 重新启动窗口管理器，这样就完成了工作：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102931i7k5o1z5ovxfrx5n.png alt></p><h3 id=在-i3-窗口管理器中分配应用程序到工作区>在 i3 窗口管理器中分配应用程序到工作区</h3><p>在给工作区命名之后，你会想要将特定的软件分配到相应的工作区中。</p><p>例如，如果我将第二个工作区命名为 “Firefox”，那么我只想在该工作区中使用 Firefox。</p><p>那么要如何实现呢？</p><p>为了做到这一点，你需要找到每个要分配的应用程序的类名。</p><p><strong>听起来复杂？</strong> 让我告诉你如何做。</p><p>首先，将应用程序和终端并排打开。例如，在这个例子中，我将 Firefox 和终端并排打开：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102932vow0ggvqzfqtvdzt.png alt=并排打开应用程序和终端></p><p>现在，在终端中执行 <code>xprop</code> 命令，它会改变鼠标指针的形状：</p><pre tabindex=0><code>xprop
</code></pre><p>接下来，将鼠标悬停在应用程序上，并在应用程序窗口内的任何位置单击，如图所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102933fupn6zuuu5skil5n.gif alt="在 i3 窗口管理器中查找类名"></p><p>类名将在以下行的最后一个字符串中找到：</p><pre tabindex=0><code>WM_CLASS(STRING) = &#34;Navigator&#34;, &#34;firefox&#34;
</code></pre><p>在我的情况下，Firefox 浏览器的类名将是 <code>firefox</code>。</p><p>对所有你想要分配到工作区的应用程序重复这个过程。</p><p><strong>一旦你知道每个你想要分配到工作区的应用程序的类名，打开配置文件：</strong></p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>使用 <code>Alt + /</code> 将 <code>nano</code> 定位到文件末尾，并使用以下语法将应用程序分配到工作区：</p><pre tabindex=0><code># 分配应用到工作区
for_window [class=&#34;类名&#34;] move to workspace $[工作区变量]
</code></pre><p>作为参考，下面是我为不同应用程序分配了 4 个工作区后的配置文件示例：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102933xs34z04so04ec9im.png alt=将应用分配到工作区></p><p>现在，无论在哪个工作区打开任何应用程序，它都会自动放置在配置的工作区中。非常方便！ ?</p><h3 id=在-i3-窗口管理器中让终端变透明>在 i3 窗口管理器中让终端变透明</h3><p>要启用透明效果，你需要安装 <code>picom</code> 合成器并对配置文件进行一些更改。</p><p>让我们从安装开始。</p><p>对于基于 Arch 的发行版：</p><pre tabindex=0><code>sudo pacman -S picom
</code></pre><p>对于基于 Ubuntu/Debian 的发行版：</p><pre tabindex=0><code>sudo apt install picom
</code></pre><p>安装完成后，你需要告诉系统使用 <code>picom</code>。</p><p>首先打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>在配置文件的末尾插入以下行：</p><pre tabindex=0><code># 使用 picom 合成器实现透明效果
exec_always picom -f
</code></pre><p>这里，我使用 <code>-f</code> 标志来在切换工作区、打开新应用程序等时启用淡入淡出效果。</p><p>保存并退出文本编辑器。</p><p>现在，使用 <code>Mod + Shift + r</code> 重新启动 i3。</p><p>接下来，打开终端，打开 “ 首选项 Preference ”，然后选择“ 配置文件 Profiles ”，选择“ 背景 Background ”，然后选择“ 透明背景 Transparent background ”选项。</p><p>从这里，你可以调整透明度：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102933luamt555uzrltu7g.png alt="在 i3 窗口管理器中更改终端背景透明度"></p><h3 id=在-i3-窗口管理器中自定义状态栏>在 i3 窗口管理器中自定义状态栏</h3><p>默认情况下，状态栏显示各种信息，但没有图标。</p><p>因此，在这个部分，我将展示如何从状态栏中删除一些元素以及如何为它们添加图标。</p><p>但是，在这里，我将在 <code>/etc/i3status.conf</code> 中创建一个原始状态栏的副本，以便如果出现任何错误，你可以随时恢复到默认配置。</p><p>首先，在 <code>.config</code> 目录下创建一个新的目录：</p><pre tabindex=0><code>mkdir .config/i3status
</code></pre><p>在以下命令中，我使用了 <a href=https://linuxhandbook.com/cp-command/>cp 命令来复制文件</a>：</p><pre tabindex=0><code>sudo cp /etc/i3status.conf ~/.config/i3status/i3status.conf
</code></pre><p>接下来，使用 <a href=https://linuxhandbook.com/chown-command/>chown 命令更改所有者</a>，以便你可以进行所需的更改：</p><pre tabindex=0><code>sudo chown $USER:$USER ~/.config/i3status/i3status.conf
</code></pre><p>现在，你需要通过修改 i3 配置文件来指示窗口管理器使用新的 i3status 配置文件。首先打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>在该配置文件中查找 <code>status_command i3status</code> 这一行。这是你将提供新状态配置文件路径的行。</p><p>找到该行后，进行以下更改：</p><pre tabindex=0><code>bar {
    status_command i3status -c /home/$USER/.config/i3status/i3status.conf
}
</code></pre><p>最终的结果应该如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102935ri04p7zm411zyjvm.png alt="在 i3 窗口管理器中更改 i3 状态配置路径"></p><p>保存更改并退出文本编辑器。</p><p>现在，让我们从状态栏中删除不必要的指示器。</p><p>首先，打开 i3status 配置文件：</p><pre tabindex=0><code>nano .config/i3status/i3status.conf
</code></pre><p>在这里，你可以将以 <code>order</code> 开头的行注释掉，这些行实际上是指示器的变量。</p><p><strong>例如，在这里</strong>，我禁用了 <code>ipv6</code>、<code>wireless _first_</code>、<code>battery all</code> 和 <code>load</code> 这些对我来说不必要的指示器：</p><pre tabindex=0><code>#order += &#34;ipv6&#34;
#order += &#34;wireless _first_&#34;
order += &#34;ethernet _first_&#34;
#order += &#34;battery all&#34;
order += &#34;disk /&#34;
#order += &#34;load&#34;
order += &#34;memory&#34;
order += &#34;tztime local&#34;
</code></pre><p>然后，<a href=https://fontawesome.com/v5/cheatsheet>在浏览器中打开 awesome font 列表</a>，找到与状态栏中列出的项目相关的适当图标。</p><p>在我的设置中，我删除了以下内容：</p><ul><li>删除了显示可用内存的行</li><li>删除了显示以太网连接速度的行</li></ul><p>最终，我的状态栏如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/102935jencumgmru7zg2xu.png alt="自定义 i3 窗口管理器中的状态栏"></p><h3 id=在-i3-窗口管理器中改变颜色方案>在 i3 窗口管理器中改变颜色方案</h3><p>更改 i3 窗口管理器中的颜色方案是这个指南中最重要的部分，因为窗口管理器最吸引人的地方就是你选择的窗口装饰颜色。</p><blockquote><p>? 我将为每个颜色声明变量，这样你只需更改变量本身的值，就可以轻松地获得新的颜色方案。</p></blockquote><p>首先，打开 i3 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>使用 <code>Alt + /</code> 快捷键到达文件末尾，并使用以下语法添加变量来存储颜色：</p><pre tabindex=0><code># 窗口的色彩方案
set $bgcolor    #523d64
set $in-bgcolor #363636
set $text       #ffffff
set $u-bgcolor  #ff0000
set $indicator  #a8a3c1
set $in-text    #969696
#                       边框            背景            文本            指示器（显示下一个窗口位置的线条）     
client.focused          $bgcolor        $bgcolor        $text           $indicator
client.unfocused        $in-bgcolor     $in-bgcolor     $in-text        $in-bgcolor
client.focused_inactive $in-bgcolor     $in-bgcolor     $in-text        $in-bgcolor
client.urgent           $u-bgcolor      $u-bgcolor      $text           $u-bgcolor
</code></pre><p>在这里：</p><ul><li><code>bgcolor</code> 表示背景色。</li><li><code>in-bgcolor</code> 表示非活动窗口的背景色。</li><li><code>text</code> 是文本颜色。</li><li><code>u-bgcolor</code> 表示紧急操作的背景色。</li><li><code>indicator</code> 是标示下一个窗口位置的线条的颜色。</li><li><code>in-text</code> 是非活动窗口的文本颜色。</li></ul><p>对于本指南，我仅使用了四个基本类别：</p><ul><li><code>client.focused</code> 定义了焦点窗口的颜色。</li><li><code>client.unfocused</code> 定义了失去焦点时窗口的装饰。</li><li><code>client.focused_inactive</code> 当其中一个容器处于焦点但当前没有焦点时，显示的颜色。</li><li><code>client.urgent</code> 定义了紧急操作时的颜色。</li></ul><blockquote><p>? 除了这四个类别，还有更多类别，请参考 <a href=https://i3wm.org/docs/userguide.html#client_colors>官方 i3 配置手册</a> 以了解更多信息。</p></blockquote><p>一旦你对配置文件进行了更改，请使用 <code>Mod + Shift + r</code> 重新启动 i3。</p><p>如果你按照我的颜色方案，设置应该如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103014uo5uca5ujzqcnq1a.png alt="更改 I3 窗口管理器中的窗口颜色"></p><p>那么，状态栏的颜色怎么办？当然可以改！</p><h4 id=更改-i3-窗口管理器中状态栏的颜色方案>更改 i3 窗口管理器中状态栏的颜色方案</h4><p>在本节中，你将意识到为什么我使用变量来存储颜色，因为我将使用相同的变量来为我的状态栏上色！</p><p>要在状态栏中使用颜色，你需要在 i3 配置文件的 <code>bar {...}</code> 部分进行更改。</p><p>首先，打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>在配置文件中查找 <code>bar {...}</code> 部分。</p><p>找到该部分后，创建一个颜色部分，并为状态栏定义颜色和类别，与你为窗口所做的相同：</p><pre tabindex=0><code>bar {
        status_command i3status -c /home/$USER/.config/i3status/i3status.conf
        colors {
                background $bgcolor
                separator #191919
                #                       border          background      text
                focused_workspace       $bgcolor        $bgcolor        $text
                inactive_workspace      $in-bgcolor     $in-bgcolor     $text
                urgent_workspace        $u-bgcolor      $u-bgcolor      $text   

        }
}
</code></pre><p>在这里，我使用了 <code>focused_workspace</code>、<code>inactive_workspace</code> 和 <code>urgent_workspace</code> 这三个类别，根据需要定义了相应的颜色。</p><p>保存更改后，重新启动 i3，状态栏也会显示颜色。</p><h3 id=设置-i3-状态栏的透明度>设置 i3 状态栏的透明度</h3><p>本节将向你展示如何使 i3 状态栏透明。</p><p>在此之前，让我们先更改 i3 状态栏的字体。</p><p>这里，我将使用 Droid 字体，使其看起来干净而带有一种极客风格。</p><p>要在 Arch Linux 上安装 Droid 字体，请使用以下命令：</p><pre tabindex=0><code>sudo pacman -S ttf-droid
</code></pre><p>对于 Ubuntu/Debian 系统，请使用以下命令：</p><pre tabindex=0><code>sudo apt install fonts-droid-fallback
</code></pre><p>安装完成后，打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>进入 <code>bar {...}</code> 部分，并按下面的示例输入字体名称和大小：</p><pre tabindex=0><code>font pango: Droid Sans Mono 11
</code></pre><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103016y9ieq631zqxdipoo.png alt="在 i3 状态栏中更改字体"></p><p>完成后，请重新启动 i3，字体将会被更改！</p><p>要使状态栏透明，你可以使用现有十六进制代码中的额外两个数字来定义透明度。</p><p>如果你想要控制透明度，我建议你查看 <a href=https://gist.github.com/lopspower/03fb1cc0ac9f32ef38f4>此指南，其中提供了从 0 到 100% 透明度的代码范围</a>。</p><p>为此，我将在配置文件中使用两个新变量。首先，打开配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>在这里，我为背景颜色添加了 60% 的透明度，并为非活跃背景颜色添加了 30% 的透明度：</p><pre tabindex=0><code>set $bgcolor    #523d6499
set $in-bgcolor #3636364D
</code></pre><p>如果你仔细观察，我在现有的十六进制颜色代码中添加了两位数字来定义透明度。例如，使用 <code>99</code> 来表示 <code>60%</code> 的透明度，而使用 <code>4D</code> 来表示 <code>30%</code> 的透明度。</p><p>此外，我添加了两个新变量，透明度不同但颜色相同，作为背景使用，使其看起来更好：</p><pre tabindex=0><code>set $focused-ws #523d6480
set $bar-color  #523d640D
</code></pre><p>完成后，让我们修改 <code>bar {...}</code> 部分来应用透明度。</p><p>在 <code>bar {...}</code> 中添加两行代码：</p><pre tabindex=0><code>i3bar_command i3bar --transparency
tray_output none
</code></pre><p>请注意，使用 <code>tray_output none</code>，它将不会在托盘中显示任何图标。如果你不希望出现这种行为，则可以跳过此行，只添加第一行以实现透明度。</p><p>一旦完成，修改状态栏的颜色方案，例如更改背景颜色、边框和活动工作区的背景。</p><p>修改后，配置文件应如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103016a62ffo7pg1l0z2qf.png alt="使 i3 状态栏透明的配置文件（i3 窗口管理器）"></p><p>为了使你所做的更改生效，请重新启动 i3，你将得到透明的窗口和状态栏：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103017nc3ztxjpupuukthc.png alt="在 i3 窗口管理器中使状态栏和窗口透明"></p><h3 id=在窗口管理器中使用-i3blocks>在窗口管理器中使用 i3blocks</h3><p>默认的 i3 状态栏在我看来毫无用处；怎么样让它变得有用起来呢？</p><p>在本部分，我将解释如何添加以下功能：</p><ul><li>软件包更新</li><li>内存使用情况</li><li>磁盘使用情况</li><li>音量指示器</li><li>Spotify 指示器</li></ul><blockquote><p>? 要实现这些功能，你需要使用一些脚本，这些脚本将允许你向状态栏添加所需的操作。不用担心，我不会让你手动输入脚本；GitHub 上有各种脚本可供选择，几乎涵盖了你所需的所有方面。</p></blockquote><p>但在此之前，你需要进行一些配置，以存储脚本并指示 i3 使用 i3block 的配置，而不是使用 i3bar。</p><p>如果你在本指南的开头按照给定的说明进行操作，那么 i3blocks 已经安装好了，并且配置文件位于 <code>/etc/i3blocks.conf</code>。</p><p><em>如果你希望快速下载块配置文件以进行设置而不阅读其他内容，请点击以下链接：</em></p><blockquote><p><strong><a href=https://github.com/itsfoss/text-files/tree/master/i3_config_files>i3 配置文件</a></strong></p></blockquote><p>在本教程中，我将创建一个副本，使用它代替原始的配置文件，因此首先我们要创建一个目录来存储配置文件的副本：</p><pre tabindex=0><code>mkdir ~/.config/i3blocks
</code></pre><p>现在，创建一个原始配置文件的副本：</p><pre tabindex=0><code>sudo cp /etc/i3blocks.conf ~/.config/i3blocks/
</code></pre><p>最后，使用 <code>chown</code> 命令更改文件的所有者，以便你进行所需的更改：</p><pre tabindex=0><code>sudo chown $USER:$USER ~/.config/i3blocks/i3blocks.conf
</code></pre><p>要启用 i3blocks，在 i3 配置文件中进行一些更改：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>进入 <code>bar {...}</code> 部分，在这里，你需要将 <code>status_command</code> 更改为 <code>i3blocks</code> 并添加 i3blocks 配置文件的路径，如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103019tz822cr0znt03zcr.png alt="在 i3 窗口管理器中启用 i3blocks"></p><p>完成后，使用 <code>Mod + Shift + r</code> 重新启动 i3 窗口管理器，整个状态栏都会被更改，并显示如下：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103020ulb4p4tco5cplcce.png alt="i3 窗口管理器中 i3blocks 的默认外观"></p><p>不要担心，你将很快使状态栏比以前的 i3bar 更有价值和好看。</p><h4 id=添加磁盘块>添加磁盘块</h4><p>如果你想要显示磁盘剩余空间，可以添加此块。</p><p>在这里，我将使用 <code>nano</code> 创建并打开用于磁盘块的配置文件。</p><pre tabindex=0><code>nano ~/.config/scripts/disk
</code></pre><p>然后粘贴以下行：</p><pre tabindex=0><code>#!/usr/bin/env sh
DIR=&#34;${DIR:-$BLOCK_INSTANCE}&#34;
DIR=&#34;${DIR:-$HOME}&#34;
ALERT_LOW=&#34;${ALERT_LOW:-$1}&#34;
ALERT_LOW=&#34;${ALERT_LOW:-10}&#34; # color will turn red under this value (default: 10%)

LOCAL_FLAG=&#34;-l&#34;
if [ &#34;$1&#34; = &#34;-n&#34; ] || [ &#34;$2&#34; = &#34;-n&#34; ]; then
    LOCAL_FLAG=&#34;&#34;
fi

df -h -P $LOCAL_FLAG &#34;$DIR&#34; | awk -v label=&#34;$LABEL&#34; -v alert_low=$ALERT_LOW &#39;
/\/.*/ {
	# full text
	print label $4
	# short text
	print label $4
	use=$5
	# no need to continue parsing
	exit 0
}
END {
	gsub(/%$/,&#34;&#34;,use)
	if (100 - use &lt; alert_low) {
		# color
		print &#34;#FF0000&#34;
	}
}
&#39;
</code></pre><p>保存更改并从文本编辑器中退出。</p><p>现在，将此文件设置为可执行：</p><pre tabindex=0><code>sudo chmod +x ~/.config/scripts/disk
</code></pre><p>接下来，打开 I3blocks 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3blocks/i3blocks.conf
</code></pre><p>根据你想要放置磁盘块的位置，粘贴以下行：</p><pre tabindex=0><code>[disk]
command=/home/$USER/.config/scripts/disk
LABEL=
#DIR=$HOME
#ALERT_LOW=10
interval=30
</code></pre><p>完成后，保存更改并使用 <code>Mod + Shift + r</code> 重新启动 i3，状态栏中将显示带有磁盘图标的可用磁盘空间。</p><h4 id=添加内存块>添加内存块</h4><p>这将是状态栏中指示系统中已使用内存的块。</p><p>首先，创建并打开一个新文件用于新的块：</p><pre tabindex=0><code>nano ~/.config/scripts/memory
</code></pre><p>然后在新文件中粘贴以下行：</p><pre tabindex=0><code>#!/usr/bin/env sh
TYPE=&#34;${BLOCK_INSTANCE:-mem}&#34;
PERCENT=&#34;${PERCENT:-true}&#34;

awk -v type=$TYPE -v percent=$PERCENT &#39;
/^MemTotal:/ {
	mem_total=$2
}
/^MemFree:/ {
	mem_free=$2
}
/^Buffers:/ {
	mem_free+=$2
}
/^Cached:/ {
	mem_free+=$2
}
/^SwapTotal:/ {
	swap_total=$2
}
/^SwapFree:/ {
	swap_free=$2
}
END {
	if (type == &#34;swap&#34;) {
		free=swap_free/1024/1024
		used=(swap_total-swap_free)/1024/1024
		total=swap_total/1024/1024
	} else {
		free=mem_free/1024/1024
		used=(mem_total-mem_free)/1024/1024
		total=mem_total/1024/1024
	}
	pct=0
	if (total &gt; 0) {
		pct=used/total*100
	}
	# full text
	if (percent == &#34;true&#34; ) {
		printf(&#34;%.1fG/%.1fG (%.f%%)\n&#34;, used, total, pct)
	} else {
		printf(&#34;%.1fG/%.1fG\n&#34;, used, total)
	}
	# short text
	printf(&#34;%.f%%\n&#34;, pct)
	# color
	if (pct &gt; 90) {
		print(&#34;#FF0000&#34;)
	} else if (pct &gt; 80) {
		print(&#34;#FFAE00&#34;)
	} else if (pct &gt; 70) {
		print(&#34;#FFF600&#34;)
	}
}
&#39; /proc/meminfo
</code></pre><p>保存更改并从文本编辑器中退出。</p><p>现在，要使其生效，你需要使用以下命令将此文件设置为可执行：</p><pre tabindex=0><code>sudo chmod +x ~/.config/scripts/memory
</code></pre><p>接下来，打开 i3blocks 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3blocks/i3blocks.conf
</code></pre><p>并将以下内容粘贴到你希望在状态栏中显示内存使用情况的位置：</p><pre tabindex=0><code>[memory]
command=/home/$USER/.config/scripts/memory
label=
interval=30
</code></pre><p>保存更改并从文本编辑器中退出。重新启动 i3 以使更改生效！</p><h4 id=添加更新指示块>添加更新指示块</h4><p>这是最有帮助的指示器，它显示需要更新的旧软件包数量。</p><p>首先，使用以下命令安装依赖项以使其正常工作：</p><pre tabindex=0><code>sudo pacman -S pacman-contrib
</code></pre><p>现在，创建一个新文件来存储脚本：</p><pre tabindex=0><code>nano ~/.config/scripts/arch-update
</code></pre><p>然后粘贴以下内容：</p><pre tabindex=0><code>#!/usr/bin/env python3
import subprocess
from subprocess import check_output
import argparse
import os
import re


def create_argparse():
    def _default(name, default=&#39;&#39;, arg_type=str):
        val = default
        if name in os.environ:
            val = os.environ[name]
        return arg_type(val)

    strbool = lambda s: s.lower() in [&#39;t&#39;, &#39;true&#39;, &#39;1&#39;]
    strlist = lambda s: s.split()

    parser = argparse.ArgumentParser(description=&#39;Check for pacman updates&#39;)
    parser.add_argument(
        &#39;-b&#39;,
        &#39;--base_color&#39;,
        default = _default(&#39;BASE_COLOR&#39;, &#39;green&#39;),
        help=&#39;base color of the output(default=green)&#39;
    )
    parser.add_argument(
        &#39;-u&#39;,
        &#39;--updates_available_color&#39;,
        default = _default(&#39;UPDATE_COLOR&#39;, &#39;yellow&#39;),
        help=&#39;color of the output, when updates are available(default=yellow)&#39;
    )
    parser.add_argument(
        &#39;-a&#39;,
        &#39;--aur&#39;,
        action = &#39;store_const&#39;,
        const = True,
        default = _default(&#39;AUR&#39;, &#39;False&#39;, strbool),
        help=&#39;Include AUR packages. Attn: Yaourt must be installed&#39;
    )
    parser.add_argument(
        &#39;-y&#39;,
        &#39;--aur_yay&#39;,
        action = &#39;store_const&#39;,
        const = True,
        default = _default(&#39;AUR_YAY&#39;, &#39;False&#39;, strbool),
        help=&#39;Include AUR packages. Attn: Yay must be installed&#39;
    )
    parser.add_argument(
        &#39;-q&#39;,
        &#39;--quiet&#39;,
        action = &#39;store_const&#39;,
        const = True,
        default = _default(&#39;QUIET&#39;, &#39;False&#39;, strbool),
        help = &#39;Do not produce output when system is up to date&#39;
    )
    parser.add_argument(
        &#39;-w&#39;,
        &#39;--watch&#39;,
        nargs=&#39;*&#39;,
        default = _default(&#39;WATCH&#39;, arg_type=strlist),
        help=&#39;Explicitly watch for specified packages. &#39;
        &#39;Listed elements are treated as regular expressions for matching.&#39;
    )
    return parser.parse_args()


def get_updates():
    output = &#39;&#39;
    try:
        output = check_output([&#39;checkupdates&#39;]).decode(&#39;utf-8&#39;)
    except subprocess.CalledProcessError as exc:
        # checkupdates exits with 2 and no output if no updates are available.
        # we ignore this case and go on
        if not (exc.returncode == 2 and not exc.output):
            raise exc
    if not output:
        return []

    updates = [line.split(&#39; &#39;)[0]
               for line in output.split(&#39;\n&#39;)
               if line]

    return updates


def get_aur_yaourt_updates():
    output = &#39;&#39;
    try:
        output = check_output([&#39;yaourt&#39;, &#39;-Qua&#39;]).decode(&#39;utf-8&#39;)
    except subprocess.CalledProcessError as exc:
        # yaourt exits with 1 and no output if no updates are available.
        # we ignore this case and go on
        if not (exc.returncode == 1 and not exc.output):
            raise exc
    if not output:
        return []

    aur_updates = [line.split(&#39; &#39;)[0]
                   for line in output.split(&#39;\n&#39;)
                   if line.startswith(&#39;aur/&#39;)]

    return aur_updates

def get_aur_yay_updates():
    output = check_output([&#39;yay&#39;, &#39;-Qua&#39;]).decode(&#39;utf-8&#39;)
    if not output:
        return []

    aur_updates = [line.split(&#39; &#39;)[0] for line in output.split(&#39;\n&#39;) if line]

    return aur_updates


def matching_updates(updates, watch_list):
    matches = set()
    for u in updates:
        for w in watch_list:
            if re.match(w, u):
                matches.add(u)

    return matches


label = os.environ.get(&#34;LABEL&#34;,&#34;&#34;)
message = &#34;{0}&lt;span color=&#39;{1}&#39;&gt;{2}&lt;/span&gt;&#34;
args = create_argparse()

updates = get_updates()
if args.aur:
    updates += get_aur_yaourt_updates()
elif args.aur_yay:
    updates += get_aur_yay_updates()

update_count = len(updates)
if update_count &gt; 0:
    if update_count == 1:
      info = str(update_count) + &#39; update available&#39;
      short_info = str(update_count) + &#39; update&#39;
    else:
      info = str(update_count) + &#39; updates available&#39;
      short_info = str(update_count) + &#39; updates&#39;

    matches = matching_updates(updates, args.watch)
    if matches:
        info += &#39; [{0}]&#39;.format(&#39;, &#39;.join(matches))
        short_info += &#39;*&#39;
    print(message.format(label, args.updates_available_color, info))
    print(message.format(label, args.updates_available_color, short_info))
elif not args.quiet:
    print(message.format(label, args.base_color, &#39;system up to date&#39;))
</code></pre><p>保存更改并从文本编辑器中退出。</p><p>现在，使用以下命令将此文件设置为可执行：</p><pre tabindex=0><code>sudo chmod +x ~/.config/scripts/arch-update
</code></pre><p>接下来，打开 i3blocks 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3blocks/i3blocks.conf
</code></pre><p>并将以下内容粘贴到所需的位置：</p><pre tabindex=0><code>[arch-update]
command=/home/$USER/.config/scripts/arch-update
interval=3600
markup=pango
LABEL=
</code></pre><p>保存更改并重新加载 i3 窗口管理器，它将显示需要更新的软件包数量。</p><p>如果你正在使用 Ubuntu，你可以 <a href=https://github.com/vivien/i3blocks-contrib/tree/master/apt-upgrades>按照 GitHub 页面上的说明</a> 进行操作。</p><h4 id=添加音量指示块>添加音量指示块</h4><p>添加音量指示块需要一些努力，因为你希望它的行为符合预期。你需要实现以下功能：</p><ul><li>使用媒体控制键管理音量的键绑定</li><li>添加一个指示音量的音量块</li></ul><p>但要做到这一点，首先你需要安装一些依赖项。</p><p>如果你使用的是 Arch Linux，请使用以下命令：</p><pre tabindex=0><code>sudo pacman -S pulseaudio-alsa pulseaudio-bluetooth pulseaudio-equalizer pulseaudio-jack alsa-utils playerctl
</code></pre><p>如果你使用的是 Ubuntu/Debian 系统，请使用以下命令：</p><pre tabindex=0><code>sudo apt install pulseaudio-module-bluetooth pulseaudio-equalizer pulseaudio-module-jack alsa-utils playerctl
</code></pre><p>接下来，让我们看看如何在 i3 窗口管理器中启用媒体控制键。</p><p>首先，打开 i3 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>转到文件的末尾，并粘贴以下内容：</p><pre tabindex=0><code># Key bindings for Media control keys
bindsym XF86AudioPlay exec playerctl play
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
</code></pre><p>现在，让我们为此块创建一个新文件：</p><pre tabindex=0><code>nano ~/.config/scripts/volume
</code></pre><p>然后粘贴以下内容：</p><pre tabindex=0><code>#!/usr/bin/env bash
if [[ -z &#34;$MIXER&#34; ]] ; then
    MIXER=&#34;default&#34;
    if command -v pulseaudio &gt;/dev/null 2&gt;&amp;1 &amp;&amp; pulseaudio --check ; then
        # pulseaudio is running, but not all installations use &#34;pulse&#34;
        if amixer -D pulse info &gt;/dev/null 2&gt;&amp;1 ; then
            MIXER=&#34;pulse&#34;
        fi
    fi
    [ -n &#34;$(lsmod | grep jack)&#34; ] &amp;&amp; MIXER=&#34;jackplug&#34;
    MIXER=&#34;${2:-$MIXER}&#34;
fi
if [[ -z &#34;$SCONTROL&#34; ]] ; then
    SCONTROL=&#34;${BLOCK_INSTANCE:-$(amixer -D $MIXER scontrols |
                      sed -n &#34;s/Simple mixer control &#39;\([^&#39;]*\)&#39;,0/\1/p&#34; |
                      head -n1
                    )}&#34;
fi

# The first parameter sets the step to change the volume by (and units to display)
# This may be in in % or dB (eg. 5% or 3dB)
if [[ -z &#34;$STEP&#34; ]] ; then
    STEP=&#34;${1:-5%}&#34;
fi

NATURAL_MAPPING=${NATURAL_MAPPING:-0}
if [[ &#34;$NATURAL_MAPPING&#34; != &#34;0&#34; ]] ; then
    AMIXER_PARAMS=&#34;-M&#34;
fi

#------------------------------------------------------------------------

capability() { # Return &#34;Capture&#34; if the device is a capture device
  amixer $AMIXER_PARAMS -D $MIXER get $SCONTROL |
    sed -n &#34;s/  Capabilities:.*cvolume.*/Capture/p&#34;
}

volume() {
  amixer $AMIXER_PARAMS -D $MIXER get $SCONTROL $(capability)
}
</code></pre><p>保存更改并退出配置文件。</p><p>接下来，打开 I3blocks 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3blocks/i3blocks.conf
</code></pre><p>然后粘贴以下内容：</p><pre tabindex=0><code>[volume]
command=/home/$USER/.config/scripts/volume
LABEL=♪
#LABEL=VOL 
interval=1
signal=10
#STEP=5%
MIXER=default
#SCONTROL=[determined automatically]
#NATURAL_MAPPING=0
</code></pre><p>保存更改并重新加载 i3，从现在开始，音量快捷键将起作用，并且指示器将按预期工作！</p><blockquote><p>? 如果遇到音频/视频不工作等问题，请使用此命令，它应该解决该问题：</p></blockquote><pre tabindex=0><code>systemctl --user disable --now pipewire.{socket,service} &amp;&amp; systemctl --user mask pipewire.socket
</code></pre><h4 id=添加-spotify-块>添加 Spotify 块</h4><p>我将使用 <a href=https://github.com/firatakandere>firatakandere</a> 的脚本来添加此功能。在继续之前，你可以先查看一下该脚本。</p><p>首先，创建并打开一个用于 Spotify 块的新文件：</p><pre tabindex=0><code>nano ~/.config/scripts/spotify.py
</code></pre><p>然后粘贴以下内容：</p><pre tabindex=0><code>#!/usr/bin/python

import dbus
import os
import sys


try:
    bus = dbus.SessionBus()
    spotify = bus.get_object(&#34;org.mpris.MediaPlayer2.spotify&#34;, &#34;/org/mpris/MediaPlayer2&#34;)


    if os.environ.get(&#39;BLOCK_BUTTON&#39;):
        control_iface = dbus.Interface(spotify, &#39;org.mpris.MediaPlayer2.Player&#39;)
        if (os.environ[&#39;BLOCK_BUTTON&#39;] == &#39;1&#39;):
            control_iface.Previous()
        elif (os.environ[&#39;BLOCK_BUTTON&#39;] == &#39;2&#39;):
            control_iface.PlayPause()
        elif (os.environ[&#39;BLOCK_BUTTON&#39;] == &#39;3&#39;):
            control_iface.Next()

    spotify_iface = dbus.Interface(spotify, &#39;org.freedesktop.DBus.Properties&#39;)
    props = spotify_iface.Get(&#39;org.mpris.MediaPlayer2.Player&#39;, &#39;Metadata&#39;)

    if (sys.version_info &gt; (3, 0)):
        print(str(props[&#39;xesam:artist&#39;][0]) + &#34; - &#34; + str(props[&#39;xesam:title&#39;]))
    else:
        print(props[&#39;xesam:artist&#39;][0] + &#34; - &#34; + props[&#39;xesam:title&#39;]).encode(&#39;utf-8&#39;)
    exit
except dbus.exceptions.DBusException:
    exit
</code></pre><p>完成后，使用以下命令使其可执行：</p><pre tabindex=0><code>sudo chmod +x ~/.config/scripts/spotify.py
</code></pre><p>现在，打开 I3blocks 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3blocks/i3blocks.conf
</code></pre><p>然后粘贴以下内容（建议将其粘贴到块的开头）：</p><pre tabindex=0><code>[spotify]
label=
command=/home/$USER/.config/scripts/spotify.py
color=#81b71a
interval=5
</code></pre><p>保存更改，退出配置文件，并重新启动 i3。</p><p>添加了我提到的块后，状态栏将如下所示：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103114h87ph979097p705c.jpg alt="在 i3 窗口管理器中定制 i3blocks "></p><p>你可以查看我的主屏幕，其中包含这些块（点击下方的图片查看）。</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103115a7v0jci0zc70woew.png alt="在 i3 窗口管理器中定制 i3blocks "></p><blockquote><p>? 如果你对那些默认块（文档和问候语）的位置感到困惑，我用了几个注释将它们禁用以实现所示的外观！</p></blockquote><h3 id=在-linux-中使用-i3gaps>在 Linux 中使用 i3gaps</h3><p>如果你想在窗口之间添加间隙，可以使用 <code>i3gaps</code>。在颜色方案之后，<code>i3gaps</code> 是这个指南中最关键的元素。</p><p>要使用间隙，你必须对 i3 配置文件进行一些更改。</p><p>打开 i3 配置文件：</p><pre tabindex=0><code>nano ~/.config/i3/config
</code></pre><p>转到文件的末尾，并粘贴以下内容：</p><pre tabindex=0><code># default gaps
gaps inner 15
gaps outer 5

# gaps
set $mode_gaps Gaps: (o)uter, (i)nner, (h)orizontal, (v)ertical, (t)op, (r)ight, (b)ottom, (l)eft
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_horiz Horizontal Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_verti Vertical Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_top Top Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_right Right Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_bottom Bottom Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_left Left Gaps: +|-|0 (local), Shift + +|-|0 (global)
bindsym $mod+Shift+g mode &#34;$mode_gaps&#34;

mode &#34;$mode_gaps&#34; {
        bindsym o      mode &#34;$mode_gaps_outer&#34;
        bindsym i      mode &#34;$mode_gaps_inner&#34;
        bindsym h      mode &#34;$mode_gaps_horiz&#34;
        bindsym v      mode &#34;$mode_gaps_verti&#34;
        bindsym t      mode &#34;$mode_gaps_top&#34;
        bindsym r      mode &#34;$mode_gaps_right&#34;
        bindsym b      mode &#34;$mode_gaps_bottom&#34;
        bindsym l      mode &#34;$mode_gaps_left&#34;
        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}

mode &#34;$mode_gaps_outer&#34; {
        bindsym plus  gaps outer current plus 5
        bindsym minus gaps outer current minus 5
        bindsym 0     gaps outer current set 0

        bindsym Shift+plus  gaps outer all plus 5
        bindsym Shift+minus gaps outer all minus 5
        bindsym Shift+0     gaps outer all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
mode &#34;$mode_gaps_inner&#34; {
        bindsym plus  gaps inner current plus 5
        bindsym minus gaps inner current minus 5
        bindsym 0     gaps inner current set 0

        bindsym Shift+plus  gaps inner all plus 5
        bindsym Shift+minus gaps inner all minus 5
        bindsym Shift+0     gaps inner all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
mode &#34;$mode_gaps_horiz&#34; {
        bindsym plus  gaps horizontal current plus 5
        bindsym minus gaps horizontal current minus 5
        bindsym 0     gaps horizontal current set 0

        bindsym Shift+plus  gaps horizontal all plus 5
        bindsym Shift+minus gaps horizontal all minus 5
        bindsym Shift+0     gaps horizontal all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
mode &#34;$mode_gaps_verti&#34; {
        bindsym plus  gaps vertical current plus 5
        bindsym minus gaps vertical current minus 5
        bindsym 0     gaps vertical current set 0

        bindsym Shift+plus  gaps vertical all plus 5
        bindsym Shift+minus gaps vertical all minus 5
        bindsym Shift+0     gaps vertical all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
mode &#34;$mode_gaps_top&#34; {
        bindsym plus  gaps top current plus 5
        bindsym minus gaps top current minus 5
        bindsym 0     gaps top current set 0

        bindsym Shift+plus  gaps top all plus 5
        bindsym Shift+minus gaps top all minus 5
        bindsym Shift+0     gaps top all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
mode &#34;$mode_gaps_right&#34; {
        bindsym plus  gaps right current plus 5
        bindsym minus gaps right current minus 5
        bindsym 0     gaps right current set 0

        bindsym Shift+plus  gaps right all plus 5
        bindsym Shift+minus gaps right all minus 5
        bindsym Shift+0     gaps right all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
mode &#34;$mode_gaps_bottom&#34; {
        bindsym plus  gaps bottom current plus 5
        bindsym minus gaps bottom current minus 5
        bindsym 0     gaps bottom current set 0

        bindsym Shift+plus  gaps bottom all plus 5
        bindsym Shift+minus gaps bottom all minus 5
        bindsym Shift+0     gaps bottom all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
mode &#34;$mode_gaps_left&#34; {
        bindsym plus  gaps left current plus 5
        bindsym minus gaps left current minus 5
        bindsym 0     gaps left current set 0

        bindsym Shift+plus  gaps left all plus 5
        bindsym Shift+minus gaps left all minus 5
        bindsym Shift+0     gaps left all set 0

        bindsym Return mode &#34;$mode_gaps&#34;
        bindsym Escape mode &#34;default&#34;
}
</code></pre><p>保存更改并退出配置文件。</p><p>使用 <code>Mod + Shift + r</code> 重新加载 i3，并会看到窗口之间的间隙：</p><p><img src=https://img.linux.net.cn/data/attachment/album/202306/30/103149s6kreu8rcuqswwle.png alt="在 i3 窗口管理器中使用 i3gaps"></p><p>但是，如果你想调整间隙的大小怎么办？这非常简单，只需要简单的步骤即可完成：</p><ul><li>按下 <code>Mod + Shift + g</code> 进入间隙模式</li><li>使用给定的选项选择要更改的内容</li><li>使用 <code>+</code> 或 <code>-</code> 增加/减小间隙</li><li>完成后，按 <code>Esc</code> 键退出间隙模式</li></ul><p>就是这样！</p><h3 id=我们忘记自定义终端了吗>我们忘记自定义终端了吗？</h3><p>不用担心；你可以 <a href=https://itsfoss.com/zsh-ubuntu/>切换到 Zsh</a>，这是一个不同的 shell，使终端看起来与众不同，或者探索一些鲜为人知的 <a href=https://itsfoss.com/shells-linux/>Linux Shell</a>。</p><p>无论如何，你都可以 <a href=https://itsfoss.com/customize-linux-terminal/>自定义现有终端</a>，或选择不同的 <a href=https://itsfoss.com/linux-terminal-emulators/>终端模拟器</a>。</p><p><strong>我希望你不再畏难如何美化系统！</strong> ?</p><p><em>如果你有任何建议或想展示你的配置，请在评论部分留言。</em></p><p><em>（题图：MJ/2874542d-6a8f-4b27-8e65-477389a0dcca）</em></p><hr><p>via: <a href=https://itsfoss.com/i3-customization/>https://itsfoss.com/i3-customization/</a></p><p>作者：<a href=https://itsfoss.com/author/sagar/>Sagar Sharma</a> 选题：<a href=https://github.com/lkxed/>lkxed</a> 译者：ChatGPT 校对：<a href=https://github.com/wxy>wxy</a></p><p>本文由 <a href=https://github.com/LCTT/TranslateProject>LCTT</a> 原创编译，<a href=https://linux.cn/>Linux中国</a> 荣誉推出</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/%E5%AE%9A%E5%88%B6/ rel=tag>定制</a></li><li class=tags__item><a class="tags__link btn" href=/tags/i3/ rel=tag>i3</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2025 Linux.cn Archive.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>